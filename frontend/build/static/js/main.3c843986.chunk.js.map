{"version":3,"sources":["components/Home/constants.js","components/Home/action.js","components/LeftSidePanel/constants.js","components/LeftSidePanel/action.js","components/Navbar/constants.js","components/Navbar/actions.js","components/LeftSidePanel/index.js","components/PostModal/action.js","components/Profile/constants.js","components/Profile/action.js","components/PostModal/index.js","components/Comments/action.js","components/Comments/index.js","components/HomeCenter/action.js","components/HomeCenter/index.js","components/Home/index.js","utils/common.js","utils/setAuthToken.js","components/Auth/constants.js","components/messages/constants.js","components/messages/actions.js","components/Home/reducer.js","components/Navbar/reducer.js","components/Auth/reducer.js","components/HomeCenter/reducer.js","components/LeftSidePanel/reducer.js","components/Discover/constants.js","components/Discover/reducer.js","components/ListModal/constants.js","components/ListModal/reducer.js","components/Profile/reducer.js","components/messages/reducer.js","store.js","components/Auth/action.js","components/MapComp/index.js","components/DonateModal/action.js","components/DonateModal/index.js","components/Navbar/index.js","components/ListModal/index.js","components/Profile/EditProfile/index.js","components/Profile/ProfilePic/index.js","components/Profile/FollowersList/index.js","components/LoadingScreen/index.js","components/Profile/index.js","components/Discover/action.js","components/Discover/index.js","components/Auth/PrivateRoute.js","components/Auth/Register.js","components/Auth/Login.js","components/Landing/index.js","components/ComingSoon/index.js","components/messages/MessageCard/index.js","components/messages/index.js","App.js","serviceWorker.js","index.js"],"names":["ACTION","getSomeData","data","dispatch","a","axios","get","type","payload","getLeftDetails","res","console","log","response","changeFilters","selectedfilters","setCurrentRoute","route","Sider","Layout","SubMenu","Menu","LeftSidePanel","this","props","profileDetails","following","followers","achievements","donations","name","avatar","followerList","length","map","follower","onClick","to","_id","Item","key","style","paddingLeft","marginBottom","size","src","backgroundColor","marginRight","followingList","donationList","donation","title","achievement","id","width","className","overflow","height","position","left","marginTop","mode","defaultOpenKeys","borderRight","paddingTop","fontSize","marginBlock","icon","UserOutlined","Group","options","label","value","onChange","checkedValues","Component","connect","state","LeftSidePanelReducer","bindActionCreators","addPost","post","comment","acceptdonation","addHistory","history","getProfile","getPendingDonations","getState","userId","authReducer","user","checkvisibilty","status","localeCompare","receiverId","DiscoverReducer","Donations","filter","changeTab","tab","uploadProfilePic","profilePic","followUser","unfollowUser","getFollowers","getFollowing","rejectDonation","editProfile","normFile","e","Array","isArray","fileList","PostModal","description","files","addpost","handleOk","dragger","imageUrl","image","location","author","likes","liked","noOfLikes","DateTime","moment","format","color","text","visible","maskClosable","destroyOnClose","onOk","onCancel","handleCancel","footer","form","htmlType","loading","layout","onFinish","rules","required","message","TextArea","placeholder","autoSize","minRows","maxRows","valuePropName","getValueFromEvent","noStyle","Dragger","multiple","customRequest","file","onSuccess","onError","formData","FormData","append","then","catch","err","InboxOutlined","addComment","content","Input","CommentList","comments","dataSource","header","itemLayout","renderItem","Editor","onSubmit","submitting","rows","Comments","handleSubmit","postComments","setState","setTimeout","datetime","fromNow","handleChange","target","alt","React","ownProps","allcomments","HomeCenterReducer","postId","getPost","posts","avatars","changelike","Content","HomeCenter","loadingComments","visibleComments","currentPostid","showModal","startModalComments","showModalComments","Modal","success","handleOkComments","handleCancelComments","incrementLike","postList","authorId","margin","extra","actions","LikeFilled","LikeOutlined","ShareAltOutlined","CommentOutlined","hoverable","GiftOutlined","undefined","imagelist","imageurl","EditOutlined","info","about","help","contact","socket","Home","someStateVariable","padding","right","fontWeight","item","Meta","marginLeft","bodyStyle","bordered","BulbOutlined","ShoppingCartOutlined","split","someData","homeReducer","setAuthToken","token","defaults","headers","common","getThreads","updateThread","thread","sendMessage","threadId","body","startThread","receiver","initialState","action","currentRoute","navReducer","isEmpty","require","isAuthenticated","errors","currentfilter","Post","find","p","donorId","acceptedTime","donorName","postTime","peoplefed","coordinates","images","Organisations","organisationName","address","Events","organisations","d","users","user_name","ListReducer","suggestedPages","noFed","noDonations","Pending","donorname","posttime","Description","currentTab","profileReducer","PendingDonation","pending","threads","messageReducer","updatedThreads","x","persistConfig","storage","rootReducer","combineReducers","persistedReducer","persistReducer","store","createStore","compose","applyMiddleware","thunk","persistor","persistStore","startConnection","io","query","reconnection","on","registerUser","userData","push","loginUser","localStorage","setItem","decoded","jwt_decode","setCurrentUser","logoutUser","removeItem","clearErrors","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapComp","addMarker","markers","pop","latlng","saveLatLng","leafletMap","leafletElement","searchControl","ELG","addTo","results","LayerGroup","clearLayers","i","addLayer","marker","longitude","coords","latitude","Map","center","zoom","ref","m","TileLayer","attribution","url","Marker","Popup","idx","draggable","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","addDonation","formItemLayout","labelCol","span","wrapperCol","config","DonateModal","dateString","Date","disabledDate","current","endOf","mapOpen","onFieldsChange","changedFields","allFields","expiryTime","peopleFed","lng","lat","gutter","disabled","CompassOutlined","centered","closable","Header","Search","Navbar","auth","zIndex","theme","selectedKeys","onSelect","HeartFilled","HomeOutlined","TrophyOutlined","UsergroupDeleteOutlined","BellOutlined","MessageOutlined","onSearch","LogoutOutlined","withRouter","ListModal","EditProfile","initialValues","prefix","PhoneOutlined","ProfilePic","accept","listType","UploadOutlined","FollowersList","LoadingScreen","display","justifyContent","alignItems","LoadingOutlined","TabPane","Tabs","Profile","followersVisible","followingVisible","loadingAccept","visibleAccept","visibleEdit","visibleProfilePic","loadingEdit","clicked","followLoading","unfollowLoading","followListLoading","profilePageLoading","followingText","showModalAccept","handleOkAccept","handleCancelAccept","handleCancelProfilePic","showModalEdit","handleOkEdit","handleCancelEdit","callback","match","params","PendingDonations","timelinePost","Demo","timelinepost","dot","ClockCircleOutlined","textAlign","PendingDonationList","classname","CheckOutlined","CloseOutlined","href","minHeight","shape","flexDirection","float","f","onMouseOver","onMouseLeave","TeamOutlined","pathname","SendOutlined","paddingBottom","getOrganisation","getDonation","pendingDonation","Discover","selectedMenuItem","filters","pendingDonations","pendingDonorDonation","Donation","userType","addpending","filterDonations","sortBy","createdAt","filteredDonation","DonationList","pendingDonationList","pendingDonorDonationList","OrganisationList","Organisation","EventList","Event","onclick","defaultSelectedKeys","onTitleClick","componentsSwitch","component","my","rest","render","Math","random","Register","openNotificationWithIcon","notification","values","password","password2","certificates","nextProps","radioStyle","lineHeight","MailOutlined","Password","LockOutlined","onRemove","removedLocation","newCertificates","certificate","Login","Landing","ComingSoon","MessageCard","currentUser","you","sender","time","Messagepage","chatMessage","currentThread","requiredUser","hanleSearchChange","renderCards","messages","onDrop","receiverID","submitChatMessage","preventDefault","messagesEnd","scrollIntoView","behavior","currentThreadId","req","members","member","Fragment","class","maxWidth","overflowY","el","clear","getRootProps","getInputProps","jwtToken","currentTime","now","exp","window","useState","isDarkMode","setIsDarkMode","useThemeSwitcher","switcher","themes","useEffect","exact","path","Messages","FireFilled","isChecked","dark","light","Boolean","hostname","process","ReactDOM","themeMap","defaultTheme","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.3c843986.chunk.js","sourcesContent":["export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n\r\n};","import { ACTION } from \"./constants\";\r\nimport axios from \"axios\";\r\n\r\nexport const getSomeData = (data) => async (dispatch) => {\r\n    const res = await axios.get(\"/some-api-route\");\r\n    dispatch({\r\n        type: ACTION.GET_SOME_DATA,\r\n        payload: data,\r\n    });\r\n};\r\n","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n    GET_LEFT_DETAILS: 'GET_LEFT_DETAILS'\r\n};","import { ACTION } from './constants';\r\nimport axios from \"axios\";\r\n\r\nexport const getLeftDetails = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get('/api/users/left-details')\r\n        console.log(res.data)\r\n        dispatch({\r\n            type: ACTION.GET_LEFT_DETAILS,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\n","export const ACTION = {\r\n    SET_CURRENT_ROUTE: \"SET_CURRENT_ROUTE\",\r\n};","import { ACTION } from \"./constants\";\r\n\r\nexport const setCurrentRoute = (route) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.SET_CURRENT_ROUTE,\r\n        payload: route,\r\n    });\r\n};\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { changeFilters, getLeftDetails, initialiseState } from './action'\r\n\r\nimport { bindActionCreators } from 'redux';\r\nimport 'antd/dist/antd.css';\r\nimport '../../index.css';\r\nimport { Layout, Menu, Checkbox, Avatar, Button, Space } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\n\r\n\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nclass LeftSidePanel extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getLeftDetails();\r\n    }\r\n    render() {\r\n        const { following, followers, achievements, donations, name, avatar } = this.props.profileDetails\r\n        console.log('donations ', donations)\r\n\r\n        const plainOptions = [\r\n            { label: 'Donations', value: 'Donations' },\r\n            { label: 'Events', value: 'Events' },\r\n            { label: 'Posts', value: 'Posts' },\r\n        ];\r\n        const onChange = (checkedValues) => {\r\n            this.props.changeFilters(checkedValues)\r\n            //console.log('checked = ', checkedValues);\r\n        }\r\n\r\n        const followerList = followers.length ? (\r\n            followers.map(follower => {\r\n                return (\r\n                    <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${follower._id}`}>\r\n                        <Menu.Item key={follower._id} style={{ paddingLeft: \"36px\", marginBottom: \"10px\" }}>\r\n                            <Avatar size={25}\r\n                                src={follower.avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                    marginRight: \"4px\"\r\n                                }}\r\n                            //-------------Upload profile pic here---------------\r\n                            // icon={<UserOutlined />}\r\n                            />\r\n                            {follower.name}</Menu.Item>\r\n                    </Link>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key='1' > No followers yet! </Menu.Item>\r\n            )\r\n\r\n        const followingList = following.length ? (\r\n            following.map(follower => {\r\n                return (\r\n                    <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${follower._id}`}>\r\n                        <Menu.Item key={follower._id} style={{ paddingLeft: \"36px\", marginBottom: \"10px\" }}>\r\n                            <Avatar size={25}\r\n                                src={follower.avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                    marginRight: \"4px\"\r\n                                }}\r\n                            //-------------Upload profile pic here---------------\r\n                            // icon={<UserOutlined />}\r\n                            />\r\n                            {follower.name}</Menu.Item>\r\n                    </Link>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key='1' > You are not following anyone! </Menu.Item>\r\n            )\r\n\r\n        const donationList = donations?.length ? (\r\n            donations.map(donation => {\r\n                console.log('inside the donation list', donation)\r\n                return (\r\n                    <Menu.Item key={donation._id}>{donation.title}</Menu.Item>\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key=\"1\"> No donations yet! </Menu.Item>\r\n            )\r\n\r\n\r\n        const achievementList = achievements?.length ? (\r\n            achievements.map(achievement => {\r\n                return (\r\n                    <Menu.Item key={achievement.id}>\r\n                        {achievement.title}</Menu.Item>\r\n                )\r\n            }))\r\n            : (\r\n                <Menu.Item key=\"1\"> No achievements yet! </Menu.Item>\r\n            )\r\n\r\n\r\n\r\n        return (\r\n\r\n            <Sider width={280} className=\"site-layout-background\"\r\n                style={{\r\n                    overflow: 'auto',\r\n                    height: '100vh',\r\n                    position: 'fixed',\r\n                    left: 0,\r\n                    marginTop: '40px',\r\n                }}\r\n            >\r\n                <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['sub5']}\r\n                    style={{ height: '100%', borderRight: 0, paddingTop: '40px' }}\r\n                >\r\n\r\n                    <Menu.Item key=\"Sub1\" style={{ fontSize: '16px', marginBlock: '10px' }}>\r\n                        <Link to={`/profile/${this.props.profileDetails._id}`}>\r\n                        </Link>\r\n                        <Space>\r\n                            <Avatar size={36}\r\n                                src={avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                }}\r\n                                //-------------Upload profile pic here---------------\r\n                                icon={<UserOutlined />}\r\n                            />\r\n                            {name}\r\n                        </Space>\r\n                    </Menu.Item>\r\n\r\n                    <SubMenu key=\"sub2\" title=\"Followers\" style={{ fontSize: '16px' }}>\r\n                        {followerList}\r\n                    </SubMenu>\r\n\r\n                    <SubMenu key=\"sub3\" title=\"Following\" style={{ fontSize: '16px' }}>\r\n                        {followingList}\r\n                    </SubMenu>\r\n\r\n                    <SubMenu key=\"sub4\" title=\"Recent Donations\" style={{ fontSize: '16px' }}>\r\n                        {donationList}\r\n                    </SubMenu>\r\n\r\n                    {/* <SubMenu key=\"sub5\" title=\"Recent Acheivements\" style={{ fontSize: '16px' }}>\r\n                        {achievementList}\r\n                    </SubMenu> */}\r\n\r\n                    <SubMenu key=\"sub6\" title=\"Filters\" style={{ fontSize: '16px' }}>\r\n                        <div style={{ \"padding\": \"auto\" }}>\r\n                            <Checkbox.Group options={plainOptions} onChange={onChange} />\r\n                        </div>\r\n                    </SubMenu>\r\n                </Menu>\r\n            </Sider>\r\n\r\n\r\n        )\r\n    }\r\n}\r\nconst mapStatetoProps = state => {\r\n    return {\r\n        profileDetails: state.LeftSidePanelReducer.profileDetails,\r\n    };\r\n\r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n    changeFilters: bindActionCreators(changeFilters, dispatch),\r\n    getLeftDetails: bindActionCreators(getLeftDetails, dispatch),\r\n    setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(LeftSidePanel);\r\n\r\n","import axios from \"axios\"\r\n\r\nexport const addPost = (post) => async (dispatch) => {\r\n    \r\n    const res = await axios.post(\"/api/posts/create\", { post });\r\n    console.log(res.data);\r\n    dispatch({\r\n        type: 'ADD_POST',\r\n        post: res.data.post,\r\n        comment:res.data.comment\r\n    });\r\n};\r\n","export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n    GET_SUGGESTED_PAGES: \"GET_SUGGESTED_PAGES\",\r\n    CHANGE_TAB: \"CHANGE_TAB\",\r\n    GET_PROFILE: \"GET_PROFILE\",\r\n    UPDATE_PROFILE_PIC: \"UPDATE_PROFILE_PIC\",\r\n    GET_FOLLOWERS: \"GET_FOLLOWERS\",\r\n    GET_FOLLOWING: \"GET_FOLLOWING\",\r\n    UPDATE_PROFILE: \"UPDATE_PROFILE\"\r\n};","import { ACTION } from \"./constants\";\r\nimport axios from \"axios\";\r\nexport const acceptdonation = (data) => async(dispatch) =>{\r\n    await axios.post('../../api/donation/accept', { _id: data._id })\r\n    console.log('inside the reducer')\r\n    dispatch({\r\n        type:'ACCEPT_DONATION',\r\n        payload:data\r\n    })\r\n}\r\nexport const getSomeData = (data) => async (dispatch) => {\r\n    const res = await axios.get(\"/some-api-route\");\r\n    dispatch({\r\n        type: ACTION.GET_SOME_DATA,\r\n        payload: data,\r\n    });\r\n};\r\nexport const addHistory =(history) => async(dispatch) =>{\r\n    console.log('add history',history)\r\n    const res = await axios.post('/api/users/addhistory', { history: history })\r\n    dispatch({\r\n        type:'ADD_HISTORY',\r\n        payload: res.data \r\n    })\r\n}\r\nexport const getProfile = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/profile/${id}`)\r\n        console.log(res.data)\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const getSuggestedPages = () => async (dispatch) => {\r\n    const res = await axios.get(\"/api/path/to/sugPage\");\r\n    dispatch({\r\n        type: ACTION.GET_SUGGESTED_PAGES,\r\n        payload: res.data\r\n    })\r\n}\r\nexport const getPendingDonations = () => async (dispatch, getState) => {\r\n    const userId = getState().authReducer.user.userId\r\n    const checkvisibilty = (donation) => {\r\n        return (donation.status.localeCompare(\"pending\") == 0 && donation.receiverId == userId)\r\n    }\r\n    const donations = getState().DiscoverReducer.Donations.filter(checkvisibilty);\r\n    //console.log(donations);\r\n    dispatch({\r\n        type: 'GET_PENDING_DONATION',\r\n        payload: donations\r\n    })\r\n}\r\nexport const changeTab = tab => (dispatch) => {\r\n\r\n    // const res = await axios.get(`/api/route/${tab}`)\r\n    //MAKE ANOTHER DISPATCH TO UPDATE STATE\r\n\r\n    dispatch({\r\n        type: ACTION.CHANGE_TAB,\r\n        payload: tab\r\n    })\r\n}\r\n\r\nexport const uploadProfilePic = (profilePic, avatar) => (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.UPDATE_PROFILE_PIC,\r\n        payload: { profilePic, avatar }\r\n    })\r\n}\r\n\r\n\r\nexport const followUser = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/follow/${id}`);\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const unfollowUser = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/unfollow/${id}`);\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const getFollowers = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/followers/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_FOLLOWERS,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const getFollowing = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/following/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_FOLLOWING,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const rejectDonation = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.post('api/donation/reject', { _id: id })\r\n        console.log(res.data);\r\n        dispatch({\r\n            type: 'REJECT_DONATION',\r\n            id: id\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const editProfile = (user) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/users/edit-profile', { user });\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Card, Form, Upload, Row, Col, Input, Modal, DatePicker, Button } from \"antd\";\r\nimport { UploadOutlined, InboxOutlined, AimOutlined } from \"@ant-design/icons\";\r\nimport \"./styles.css\";\r\nimport { addPost } from './action';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport moment from 'moment';\r\nimport axios from \"axios\"\r\nimport {addHistory} from '../Profile/action';\r\n\r\nconst normFile = e => {\r\n  console.log(\"Upload event:\", e);\r\n\r\n  if (Array.isArray(e)) {\r\n    return e;\r\n  }\r\n\r\n  return e && e.fileList;\r\n};\r\n\r\nclass PostModal extends Component {\r\n  state = {\r\n    user: this.props.name,\r\n    description: '',\r\n    files: []\r\n  }\r\n  addpost = (e) => {\r\n    this.props.handleOk()\r\n    const { dragger } = e;\r\n    const imageUrl = dragger?.map(image => image.response.location);\r\n\r\n    const post = {\r\n      author:this.state.user,\r\n      description: e.description,\r\n      likes: [],\r\n      liked: false,\r\n      noOfLikes: 0,\r\n      DateTime: moment().format(\"HH:mm ll\"),\r\n      imageUrl\r\n    };\r\n\r\n    this.props.addPost(post);\r\n    const history = {\r\n      color: 'blue',\r\n      icon: 'dot',\r\n      text: post.description + ' ( Posted on ' + post.DateTime + ' )'\r\n    };\r\n    this.props.addHistory(history);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Modal\r\n        visible={this.props.visible}\r\n        maskClosable={false}\r\n        destroyOnClose\r\n        title=\"Share your Thoughts\"\r\n        onOk={this.props.handleOk}\r\n        onCancel={this.props.handleCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={this.props.handleCancel}>\r\n            Return\r\n              </Button>,\r\n          <Button form=\"post-form\" key=\"submit\" type=\"primary\" htmlType=\"submit\" loading={this.props.loading}\r\n          //  onClick={this.addpost} \r\n          >\r\n            Post\r\n              </Button>,\r\n        ]}\r\n      >\r\n        <Form id=\"post-form\" name=\"validate_other\" layout={\"Vertical\"} onFinish={this.addpost} >\r\n          <Form.Item\r\n            name='description'\r\n            width={500}\r\n            rules={\r\n              [{\r\n                required: true, message: \"Please Enter Items details\"\r\n              }]\r\n            }\r\n          >\r\n            <Input.TextArea placeholder=\"Express your thoughts\"\r\n              autoSize={{ minRows: 2, maxRows: 6 }} />\r\n          </Form.Item>\r\n          <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n            <Upload.Dragger multiple={false} name=\"file\"\r\n              customRequest={async ({ file, onSuccess, onError }) => {\r\n                let formData = new FormData()\r\n                formData.append('file', file)\r\n                await axios.post('/upload/posts', formData).then(res => {\r\n                  onSuccess(res.data)\r\n                  console.log(res.data)\r\n                }).catch(err => { console.log(\"error in uploading\"); onError(\"Error in uploading.Try again\") })\r\n              }} >\r\n              <p className=\"ant-upload-drag-icon\">\r\n                <InboxOutlined />\r\n              </p>\r\n              <p className=\"ant-upload-text\">\r\n                Click or drag file to this area to upload\r\n                  </p>\r\n              <p className=\"ant-upload-hint\">\r\n                Support for a single or bulk upload.\r\n                  </p>\r\n            </Upload.Dragger>\r\n          </Form.Item>\r\n        </Form>\r\n\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\nconst mapStatetoProps = state => {\r\n  return {\r\n      name: state.LeftSidePanelReducer.profileDetails.name,\r\n  };\r\n  \r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory: bindActionCreators(addHistory,dispatch),\r\n  addPost: bindActionCreators(addPost, dispatch)\r\n})\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(PostModal);\r\n","import axios from 'axios';\r\nexport const addComment = (id,comment) => async (dispatch) => {\r\n    const postId = id;\r\n    await axios.post(`/api/comment/add/${id}`,{content:comment.content});\r\n\r\n     dispatch({\r\n         type: 'ADD_COMMENT',\r\n         id:id,\r\n         comment:comment\r\n     });\r\n };\r\n ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport { Modal, Button } from 'antd';\r\nimport { Comment, Avatar, Form, List, Input } from 'antd';\r\nimport moment from 'moment';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { addComment } from './action'\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst CommentList = ({ comments }) => (\r\n  <List\r\n    dataSource={comments}\r\n    header={`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`}\r\n    itemLayout=\"horizontal\"\r\n    renderItem={props => <Comment {...props} />}\r\n  />\r\n);\r\n\r\nconst Editor = ({ onChange, onSubmit, submitting, value }) => (\r\n  <>\r\n    <Form.Item>\r\n      <TextArea rows={2} onChange={onChange} value={value} />\r\n    </Form.Item>\r\n    <Form.Item>\r\n      <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\">\r\n        Add Comment\r\n      </Button>\r\n    </Form.Item>\r\n  </>\r\n);\r\n\r\nclass Comments extends React.Component {\r\n  state = {\r\n    submitting: false,\r\n    value: '',\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    if (!this.state.value) {\r\n      return;\r\n    }\r\n    console.log('inside comments', this.props.postComments, this.props.id)\r\n    const value = this.state.value\r\n    console.log(value)\r\n    this.setState({\r\n      submitting: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n\r\n      var comments = {\r\n        author: 'Arpit Bandjiya',\r\n        avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n        content: value,\r\n        datetime: moment().fromNow(),\r\n      }\r\n      this.props.addComment(this.props.id, comments)\r\n    }, 1000);\r\n\r\n    this.setState({\r\n      submitting: false,\r\n      value: '',\r\n\r\n    });\r\n  };\r\n\r\n  handleChange = e => {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    \r\n    if(this.props.id){\r\n      const { submitting, value } = this.state;\r\n    const { comments } = this.props.postComments[0];\r\n    console.log(this.props.id, this.props.postComments, comments);\r\n      return (\r\n        <>\r\n          <Modal\r\n            visible={this.props.visible}\r\n            title=\"Comments\"\r\n            onOk={this.props.handleOk}\r\n            onCancel={this.props.handleCancel}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                Return\r\n              </Button>,\r\n              <Button key=\"submit\" type=\"primary\" loading={this.props.loading} onClick={this.props.handleOk}>\r\n                DOne\r\n              </Button>,\r\n            ]}\r\n          >\r\n            {comments.length > 0 && <CommentList comments={comments} />}\r\n            <Comment\r\n              avatar={\r\n                <Avatar\r\n                  src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\r\n                  alt=\"Han Solo\"\r\n                />\r\n              }\r\n              content={\r\n                <Editor\r\n                  onChange={this.handleChange}\r\n                  onSubmit={this.handleSubmit}\r\n                  submitting={submitting}\r\n                  value={value}\r\n                />\r\n              }\r\n            />\r\n          </Modal>\r\n        </>\r\n      );\r\n    }\r\n    else\r\n        return null;\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { id } = ownProps\r\n  const allcomments = state.HomeCenterReducer.postComments;\r\n  console.log('inside the commments');\r\n  console.log(id)\r\n  console.log(allcomments)\r\n  return {\r\n    postComments: allcomments.filter((comment) => comment.postId === id)\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n  addComment: bindActionCreators(addComment, dispatch)\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Comments);","import axios from \"axios\"\r\n\r\nexport const getPost = () => async (dispatch) => {\r\n    const res = await axios.get('/api/posts/');\r\n    console.log('check it out')\r\n    console.log(res.data)\r\n    dispatch({\r\n        type:'GET_POST',\r\n        payload: res.data.posts,\r\n        allcomments: res.data.allcomments,\r\n        avatars: res.data.avatars\r\n    })\r\n}\r\nexport const changelike = (id,value) => async (dispatch) => {\r\n   // const res = await axios.get(\"/some-api-route\");\r\n    //console.log(value)\r\n    value? (await axios.post('/api/posts/like', {id:id,value:-1})):(await axios.post('/api/posts/like', {id:id,value:1}));\r\n    dispatch({\r\n        type: 'CHANGE_LIKE',\r\n        id:id,\r\n        value:value\r\n    });\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport 'antd/dist/antd.css';\r\nimport './styles.css'\r\n\r\nimport { Layout, Card, Space ,Image, Avatar } from 'antd';\r\nimport {\r\n    CommentOutlined,LikeFilled, LikeOutlined,\r\n    GiftOutlined, ShareAltOutlined, EditOutlined\r\n} from '@ant-design/icons';\r\nimport { Link } from \"react-router-dom\"\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport { Modal } from 'antd';\r\nimport PostModal from '../PostModal';\r\nimport Comments from '../Comments';\r\nimport { changelike, getPost } from './action';\r\nimport {bindActionCreators} from 'redux'\r\nconst { Content } = Layout;\r\n\r\nclass HomeCenter extends Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        visible: false,\r\n        loadingComments: false,\r\n        visibleComments: false,\r\n        currentPostid: null\r\n    }\r\n    componentDidMount(){\r\n        console.log('mount called in home center');\r\n        this.props.getPost();\r\n        \r\n    }\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true\r\n        });\r\n    };\r\n    startModalComments = async (id) =>{\r\n        await this.setState({\r\n            currentPostid:id\r\n        });\r\n        this.setState({\r\n            visibleComments:true\r\n        })\r\n        console.log('inside start modal comment '.id);\r\n    }\r\n    showModalComments = () => {\r\n        this.setState({\r\n            visibleComments: true\r\n        });\r\n    };\r\n\r\n    handleOk = () => {\r\n        this.setState({ loading: true });\r\n        setTimeout(() => {\r\n            this.setState({ loading: false, visible: false });\r\n        }, 500);\r\n        Modal.success({\r\n            content: \"Post Shared\"\r\n        });\r\n    };\r\n\r\n    handleOkComments = () => {\r\n        this.setState({ loadingComments: true });\r\n        setTimeout(() => {\r\n            this.setState({ loadingComments: false, visibleComments: false });\r\n        }, 100);\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({ visible: false });\r\n    };\r\n\r\n    handleCancelComments = () => {\r\n        this.setState({ visibleComments: false });\r\n    };\r\n    incrementLike = (id,value) =>{\r\n        //console.log(id)\r\n        this.props.changelike(id,value)\r\n    }\r\n    render (){\r\n        \r\n        const { visible, loading , visibleComments, loadingComments} = this.state;\r\n        const { posts } = this.props;\r\n        const imageList = (imagelist) =>{\r\n            if(imagelist==undefined)\r\n                return(\r\n                    <div>No images!</div>\r\n                )\r\n            return imagelist.length? (imagelist.map(imageurl =>{\r\n                return (\r\n                    <Image\r\n                        width={100}\r\n                        height={100}\r\n                        alt=\"example\"\r\n                        src={imageurl}\r\n                        />\r\n                )\r\n            })\r\n                \r\n            ):(<div>No images!</div>)\r\n        }\r\n        const type = (liked) =>{\r\n            return liked? (<LikeFilled key=\"Like\" style={{margin:\"8px\"}} />):(<LikeOutlined key=\"Like\" style={{margin:\"8px\"}} />)\r\n        }\r\n        const postList = posts.length? (\r\n            posts.map(post =>{\r\n                return(\r\n                    <Card title={<Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${post.authorId._id}`}>\r\n                        <Avatar\r\n                          src={post.authorId.avatar}\r\n                          alt=\"Han Solo\"\r\n                          style={{margin:'8px'}}\r\n                        />\r\n                       {post.author}</Link>} extra={post.DateTime} style={{ width: 700 , margin:\"8px\"}} \r\n                      actions= {[\r\n                        <div onClick={(id) =>this.incrementLike(post._id,post.liked)} >{type(post.liked)}{post.noOfLikes}</div>,\r\n                        <div><ShareAltOutlined key=\"share\" style={{margin:\"8px\"}}/> </div>,\r\n                        <div><CommentOutlined hoverable={true} onClick={() =>this.startModalComments(post._id)} key=\"Comment\" style={{margin:\"8px\"}}/> </div>,\r\n                        <div><GiftOutlined key=\"Award\" style={{margin:\"8px\"}}/> </div>,\r\n                        ]} >\r\n                        <p>{post.description}</p>\r\n                        <Space>\r\n                        {imageList(post.imageUrl)}\r\n                        </Space>\r\n                    </Card>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <div> No post are here! </div>\r\n            )\r\n\r\n        return (\r\n            <Content style={{ \"margin\": \"auto\" }}>\r\n                <Card style={{ width: 700, margin: \"8px\" }} hoverable={true} onClick={this.showModal} >\r\n                    <p className=\"cardtext\"> <EditOutlined /> Share something with the community</p>\r\n                </Card>\r\n                <PostModal handleCancel={this.handleCancel} handleOk={this.handleOk} showModal={this.showModal} visible={visible} loading={loading}/>    \r\n                <Comments id={this.state.currentPostid} handleCancel={this.handleCancelComments} handleOk={this.handleOkComments} showModal={this.showModalComments} visible={visibleComments} loading={loadingComments}/>\r\n                {postList}   \r\n            </Content>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => ({\r\n    posts: state.HomeCenterReducer.posts,\r\n    \r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    changelike: bindActionCreators(changelike, dispatch),\r\n    getPost: bindActionCreators(getPost,dispatch),\r\n    setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(HomeCenter);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport { getSomeData } from './action';\r\nimport 'antd/dist/antd.css';\r\nimport '../../index.css';\r\nimport { BulbOutlined, ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { Layout, List, Avatar, Card,Space, Typography, Divider, Button , Modal} from 'antd';\r\nimport \"./styles.css\";\r\n\r\nimport LeftSidePanel from '../LeftSidePanel';\r\nimport HomeCenter from '../HomeCenter';\r\n\r\nconst { Sider } = Layout;\r\n\r\nfunction info() {\r\n    Modal.info({\r\n      title: 'Coming soon',\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\n  function about() {\r\n    Modal.info({\r\n      title: 'Food4all',\r\n      content: (\r\n        <div>\r\n          <p>A new community-led platform to highlight local food security programs and connect donors \r\n              to them, making the process convenient.\r\n          </p>\r\n        </div>\r\n      ),\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\n\r\n  function help() {\r\n    Modal.info({\r\n      title: 'Please refer to Documentation',\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\n  function contact() {\r\n    Modal.info({\r\n      title: 'Reach out to us at any of the below email address :',\r\n      content: (\r\n        <div>\r\n          <p>Dinkar     - cs18b010@iittp.ac.in</p>\r\n          <p>Arpit      - cs18b003@iittp.ac.in</p>\r\n          <p>Sudheesh    - cs18b020@iittp.ac.in</p>\r\n          <p>Shreyansh  - cs18b042@iittp.ac.in</p>\r\n        </div>\r\n      ),\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\nclass Home extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            someStateVariable: \"hi\"\r\n        }\r\n    }\r\n     \r\n    render() {\r\n        return (\r\n                <Layout>\r\n                    <LeftSidePanel/>\r\n                    <Layout style={{ marginTop: '64px' }}>   \r\n                        <HomeCenter/>\r\n                    </Layout>  \r\n                    {\r\n                        //right hand side pane, needs to be made a seperate component\r\n                    } \r\n                    <Sider width={300} style={{ padding: \"25px\", marginTop: '48px', right : 0, position: 'fixed', height: '100vh' }}>\r\n                    <List\r\n                        itemLayout=\"horizontal\"\r\n                        //dataSource={savedEvents}\r\n                        header={\r\n                            <div style={{ fontWeight: \"bolder\", padding: \"5px\", fontSize: \"medium\" }}>\r\n                            Saved events\r\n                            </div>\r\n                        }\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                            <List.Item.Meta\r\n                            /*\r\n                                avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                                title={<a href=\"<add event url here\">{item.title}</a>}\r\n                                description=\"brief description\"\r\n                            */\r\n                            />\r\n                            </List.Item>\r\n                        )}\r\n                     />\r\n\r\n\r\n                     <div style={{marginTop:'20px'}}>\r\n\r\n                        <Card size=\"small\" style={{ width: 200 , marginLeft: 25}} bodyStyle={{color: '#97033e', fontWeight:'bold'}} bordered={false}\r\n                            actions={[\r\n                                <p onClick={info}><BulbOutlined hoverable={true} key=\"learnMoreAwards\" /> Learn more </p>,\r\n                                <p onClick={info}><ShoppingCartOutlined hoverable={true} key=\"buyAwards\" /> Buy now! </p>,\r\n                            ]}\r\n                            >\r\n                            <p>\r\n                                <Avatar.Group>\r\n                                <Avatar size=\"small\" src=\"https://www.clipartmax.com/png/small/119-1190442_shield-batch-star-safe-badge-sheriff-police-icon-badge.png\" />\r\n                                <Avatar size=\"large\" src=\"https://www.clipartmax.com/png/small/216-2160288_shield-badge-star-reward-award-honor-achievement-comments-sheriff-shield.png\" />\r\n                                <Avatar size={64} src=\"https://www.clipartmax.com/png/small/155-1553987_all-finishers-will-receive-a-custom-medal-award-icon.png\" />\r\n                                <Avatar size=\"large\" src=\"https://www.clipartmax.com/png/small/216-2160288_shield-badge-star-reward-award-honor-achievement-comments-sheriff-shield.png\" />\r\n                                <Avatar size=\"small\" src=\"https://www.clipartmax.com/png/small/119-1190442_shield-batch-star-safe-badge-sheriff-police-icon-badge.png\" />\r\n                                </Avatar.Group>\r\n                                NofoodWasted awards are the best way to show your appreciation for work of other users!</p>\r\n                        </Card>\r\n                     </div>\r\n\r\n                     <div style={{marginTop:'64px', marginLeft:0}}>\r\n                     <Space split={<Divider type=\"vertical\" style={{color: 'black', paddingLeft: '5px'}} />}>\r\n                        <Button onClick={about} type=\"link\">About</Button>\r\n                        <Button onClick={help} type=\"link\">Help</Button>\r\n                        <Button onClick={contact} type=\"link\">Contact us</Button>\r\n\r\n                    </Space>\r\n                    {\r\n                        //can add logo here\r\n                    }\r\n                    </div>\r\n                    </Sider>\t                    \r\n                </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    someData: state.homeReducer.someData\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    getSomeData: bindActionCreators(getSomeData, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import io from \"socket.io-client\";\r\nimport { updateThread } from \"../components/messages/actions\";\r\nimport { store } from \"../store\";\r\n// let server = \"http://localhost:8000\";\r\nlet server = \"/\"\r\n\r\nlet socket;\r\n\r\n\r\n\r\nexport const startConnection = () => {\r\n\r\n    console.log(\"someone wants to start connection\", socket)\r\n\r\n    if (socket) {\r\n        console.log(\"socket already there\")\r\n        return socket;\r\n    }\r\n\r\n    const user = store.getState().authReducer.user?.userId;\r\n\r\n    socket = io(server, {\r\n        query: `user=${user}`,\r\n        reconnection: true\r\n    });\r\n    socket.on(\"output_message\", thread => {\r\n        // this.props.updateThread(thread);\r\n        store.dispatch(updateThread(thread));\r\n        console.log(\"WOW... I got it\", thread)\r\n    })\r\n    return socket;\r\n\r\n}\r\n\r\nexport const getSocket = () => {\r\n    return socket;\r\n}\r\n\r\n\r\n","import axios from \"axios\";\r\n\r\nconst setAuthToken = token => {\r\n    if (token) {\r\n        // Apply authorization token to every request if logged in\r\n        axios.defaults.headers.common[\"Authorization\"] = token;\r\n    } else {\r\n        // Delete auth header\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n};\r\n\r\nexport default setAuthToken;\r\n","export const ACTION = {\r\n    GET_ERRORS: \"GET_ERRORS\",\r\n    USER_LOADING: \"USER_LOADING\",\r\n    SET_CURRENT_USER: \"SET_CURRENT_USER\",\r\n    CLEAR_ERRORS: \"CLEAR_ERRORS\"\r\n};","export const GET_CHATS = 'get_chat';\r\nexport const AFTER_POST_MESSAGE = 'after_post_message';\r\n\r\nexport const ACTION = {\r\n    GET_THREADS: \"GET_THREADS\",\r\n    UPDATE_THREAD: \"UPDATE_THREAD\"\r\n}","import axios from 'axios';\r\nimport {\r\n    GET_CHATS,\r\n    AFTER_POST_MESSAGE,\r\n    ACTION\r\n} from './constants';\r\n\r\nexport const getThreads = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get('/api/message/getThreads')\r\n        dispatch({\r\n            type: ACTION.GET_THREADS,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateThread = (thread) => dispatch => {\r\n    dispatch({\r\n        type: ACTION.UPDATE_THREAD,\r\n        payload: thread\r\n    })\r\n}\r\n\r\n\r\nexport const sendMessage = (threadId, body, type) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/message/send', {\r\n            threadId,\r\n            body,\r\n            type\r\n        })\r\n        dispatch({\r\n            type: ACTION.UPDATE_THREAD,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const startThread = (receiver) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/message/new-thread', {\r\n            receiver\r\n        })\r\n        dispatch({\r\n            type: ACTION.UPDATE_THREAD,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    someData: \"initilProp\"\r\n}\r\n\r\nconst homeReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default homeReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    currentRoute: \"home\"\r\n}\r\n\r\nconst navReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.SET_CURRENT_ROUTE: {\r\n            state = { ...state, currentRoute: action.payload }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default navReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst isEmpty = require(\"is-empty\");\r\n\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    loading: false,\r\n    errors: {}\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: !isEmpty(action.payload),\r\n                user: action.payload\r\n            };\r\n        case ACTION.USER_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case ACTION.GET_ERRORS:\r\n            return {\r\n                ...state,\r\n                errors: action.payload\r\n            };\r\n        case ACTION.CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                errors: {}\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...initialState\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { ACTION } from \"../Home/constants\";\r\n\r\nconst initialState = {\r\n    postComments: [\r\n        {\r\n            postId: 1,\r\n            comments: [\r\n                {\r\n                    author: 'Arpit Bandejiya',\r\n                    avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n                    content: 'hello there',\r\n                    datetime: \"2000-12-11\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            postId: 2,\r\n            comments: [\r\n                {\r\n                    author: 'Krishnendu',\r\n                    avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n                    content: 'hello there',\r\n                    datetime: \"2000-12-11\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            postId: 3,\r\n            comments: [\r\n                {\r\n                    author: 'Shreyansh',\r\n                    avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n                    content: 'hello there',\r\n                    datetime: \"2000-12-11\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            postId: 4,\r\n            comments: [\r\n                {\r\n                    author: 'Dinkar',\r\n                    avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n                    content: 'hello there',\r\n                    datetime: \"2000-12-11\",\r\n                }\r\n            ]\r\n        },\r\n\r\n    ],\r\n    posts: [\r\n        // { user_name: 'Arpit', title: 'Felt so good to finally do something good in my life', date: '28-10-20', description: 'Card Content', id: 1, likes: 20, liked: false, shares: 30 },\r\n        // { user_name: 'Dinkar', title: 'Vote for me in coming election', date: '28-10-20', description: 'Card Content', id: 2, likes: 30, liked: false, shares: 17 },\r\n        // { user_name: 'Sudheesh', title: 'Feeding someone is so fulfilling!', date: '28-10-20', description: 'Card Content', id: 3, likes: 34, liked: false, shares: 16 },\r\n        // { user_name: 'Shreyansh', title: 'What am i doing here?', date: '28-10-20', description: 'Card Content', id: 4, likes: 31, liked: false, shares: 14 }\r\n    ],\r\n    currentfilter: ['Donations', 'Events', 'Posts']\r\n}\r\n\r\nconst HomeCenterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            return { ...state, someData: action.payload }\r\n        }\r\n        case 'GET_POST': {\r\n            console.log('this should work')\r\n            console.log(action.allcomments)\r\n            state = { ...state, posts: action.payload, postComments: action.allcomments };\r\n            break;\r\n        }\r\n        case 'ADD_POST': {\r\n            console.log('inside the ADD post')\r\n            console.log(action.post)\r\n            let posts = [...state.posts, action.post]\r\n            let postComments = [...state.postComments, action.comment]\r\n            console.log(posts)\r\n            return {\r\n                ...state,\r\n                posts: posts,\r\n                postComments: postComments\r\n            }\r\n        }\r\n        case 'CHANGE_LIKE': {\r\n            //console.log(action.value)\r\n            let posts = [...state.posts];\r\n            let Post = posts.find((post) => { return post._id == action.id })\r\n            if (Post.liked) {\r\n                Post.noOfLikes = Post.noOfLikes - 1\r\n                Post.liked = false;\r\n            }\r\n            else {\r\n                Post.noOfLikes = Post.noOfLikes + 1\r\n                Post.liked = true;\r\n            }\r\n            console.log(posts)\r\n            return { ...state, posts }\r\n        }\r\n        case 'ADD_COMMENT': {\r\n            return { ...state, postComments: state.postComments.map(p => p.postId == action.id ? { ...p, comments: [...p.comments, action.comment] } : { ...p }) }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default HomeCenterReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    profileDetails: {\r\n        name: \"\",\r\n        avatar: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=50\",\r\n        followers: [],\r\n        following: [],\r\n        donations: [],\r\n        achievements: []\r\n    },\r\n    currentfilter: []\r\n}\r\n\r\n\r\n\r\nconst LeftSidePanelReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.CHANGE_FILTERS: {\r\n            //console.log('hahaha')\r\n            state = { ...state, currentfilter: action.selectedfilters }\r\n            break;\r\n        }\r\n        case ACTION.GET_LEFT_DETAILS: {\r\n            state = { ...state, profileDetails: action.payload }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n        // case 'ADD_POST':{\r\n        //     state = {...state,profileDetails:{...state.profileDetails,posts:[...state.profileDetails.posts,action.post._id]}}\r\n        //     break;\r\n        // }\r\n        case 'ADD_DONATION': {\r\n            state = { ...state, profileDetails: { ...state.profileDetails, donations: [...state.profileDetails.donations, { _id: action.payload._id, title: action.payload.title }] } }\r\n            console.log('inside the left side reducer', state.profileDetails.donations)\r\n            break;\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default LeftSidePanelReducer;","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n};","import { latLng } from \"leaflet\";\r\nimport { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    Donations:[\r\n            {\r\n                donorId:'',\r\n                receiverId:'',\r\n                title:'Check',\r\n                acceptedTime: '',   \r\n                donorName:'Arpit',\r\n                contact:9411890675,\r\n                postTime:'12-10-2020',\r\n                description: 'Card content description',\r\n                peoplefed: 0,\r\n                status: 'NotAccepted',\r\n                location:{\r\n                    type:'Point',\r\n                    coordinates:[]\r\n                },\r\n                images:[\"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png\"]\r\n            },\r\n            {\r\n                donorId:'',\r\n                receiverId:'',\r\n                title:'Check',\r\n                acceptedTime: '',   \r\n                donorName:'Dinkar',\r\n                contact:9411890675,\r\n                postTime:'12-10-2020',\r\n                description: 'Card content description',\r\n                peoplefed: 0,\r\n                status: 'NotAccepted',\r\n                location:{\r\n                    type:'Point',\r\n                    coordinates:[]\r\n                },\r\n                images:[\"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png\"]\r\n            },\r\n            {\r\n                donorId:'',\r\n                receiverId:'',\r\n                title:'Check',\r\n                acceptedTime: '',   \r\n                donorName:'Krish',\r\n                contact:9411890675,\r\n                postTime:'12-10-2020',\r\n                description: 'Card content description',\r\n                peoplefed: 0,\r\n                status: 'NotAccepted',\r\n                location:{\r\n                    type:'Point',\r\n                    coordinates:[]\r\n                },\r\n                images:[\"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png\"]\r\n            },\r\n            {\r\n                donorId:'',\r\n                receiverId:'',\r\n                title:'Check',\r\n                acceptedTime: '',   \r\n                donorName:'Shreyansh',\r\n                contact:9411890675,\r\n                postTime:'12-10-2020',\r\n                description: 'Card content description',\r\n                peoplefed: 0,\r\n                status: 'NotAccepted',\r\n                location:{\r\n                    type:'Point',\r\n                    coordinates:[]\r\n                },\r\n                images:[\"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png\"]\r\n            },\r\n    ],\r\n    Organisations:[\r\n        {   \r\n            organisationName:'Arpit1',\r\n            contact:9411890675,\r\n            address:'Address',\r\n            description:'Brief description',\r\n            peoplefed: '0',\r\n            imageurl:[]\r\n        },\r\n    ],\r\n    Events:[],\r\n    currentfilter:[]\r\n}\r\n\r\nconst DiscoverReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_DONATION':{\r\n            //console.log('lets check the donations',action.donations)\r\n            return {...state,Donations: action.donations}\r\n        }\r\n        case 'GET_ORGANISATION':{\r\n            return {...state,Organisations:action.organisations}\r\n        }\r\n        case ACTION.CHANGE_FILTERS: {\r\n            //console.log('hahaha')\r\n            return { ...state, currentfilter: action.selectedfilters }\r\n        }\r\n        case 'ADD_DONATION': {\r\n            \r\n            //console.log(action.payload);\r\n            const donation = action.payload\r\n            return { ...state,Donations: [...state.Donations,donation]}\r\n        }\r\n        case 'PENDING_DONATION': {\r\n            const donation = action.payload;\r\n            donation.status = \"pending\"\r\n            donation.receiverId = action.userId\r\n            console.log('inside the discover reducer!',donation);\r\n            return { ...state,Donations:state.Donations.map( d => d._id == donation._id? {...donation}:{...d})}\r\n        }\r\n        case 'REJECT_DONATION':{\r\n            console.log('called to reject donations')\r\n            return { ...state,Donations:state.Donations.map( d => d._id == action.id? {...d,status:'NotAccepted',receiverId:null}:{...d})}\r\n        }\r\n        case 'ACCEPT_DONATION':{\r\n            return { ...state,Donations:state.Donations.map( d => d._id == action.payload._id? {...d,status:'Accepted'}:{...d})}\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default DiscoverReducer;","export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n};","import { ACTION } from \"../ListModal/constants\";\r\n\r\nconst initialState = {\r\n    users: [\r\n        {user_name:'Arpit', description:'Brief Description',id:1},\r\n        {user_name:'Dinkar', description:'Brief Description',id:2},\r\n        {user_name:'Sudheesh', description:'Brief Description',id:3},\r\n        {user_name:'Shreyansh', description:'Brief Description',id:4}\r\n    ],\r\n}\r\n\r\nconst ListReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default ListReducer; ","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    suggestedPages: [\r\n        {\r\n            title: 'User 1',\r\n        },\r\n        {\r\n            title: 'User 2',\r\n        },\r\n        {\r\n            title: 'User 3',\r\n        },\r\n        {\r\n            title: 'User 4',\r\n        }\r\n    ],\r\n    profileDetails: {\r\n        profilePic: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=400\",\r\n        avatar: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=50\",\r\n        name: \"\",\r\n        description: \"\",\r\n        contact: \"\",\r\n        address: \"\",\r\n        followers: [],\r\n        following: [],\r\n        donations: [],\r\n        history: [],\r\n        posts: [],\r\n        noFed: 0,\r\n        noDonations: 0\r\n    },\r\n\r\n    Pending: [\r\n        { donorname: 'Arpit1', posttime: '000', Description: 'Brief description' }\r\n    ],\r\n\r\n    currentTab: \"timelinePost\",\r\n    followers: [],\r\n    following: []\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n            break;\r\n\r\n        }\r\n        case ACTION.GET_SUGGESTED_PAGES: {\r\n            state = { ...state, suggestedPages: action.payload }\r\n            break;\r\n        }\r\n        case ACTION.CHANGE_TAB: {\r\n            state = { ...state, currentTab: action.payload }\r\n            break;\r\n        }\r\n\r\n        case ACTION.GET_PROFILE: {\r\n            state = { ...state, profileDetails: { ...action.payload, followers: [...action.payload.followers], following: [...action.payload.following] } }\r\n            break;\r\n        }\r\n\r\n        case ACTION.UPDATE_PROFILE_PIC: {\r\n            state = { ...state, profileDetails: { ...state.profileDetails, ...action.payload } }\r\n            break;\r\n        }\r\n        case ACTION.GET_FOLLOWERS: {\r\n            state = { ...state, followers: [...action.payload] }\r\n            break;\r\n        }\r\n        case ACTION.GET_FOLLOWING: {\r\n            state = { ...state, following: [...action.payload] }\r\n            break;\r\n        }\r\n        case 'PENDING_DONATION': {\r\n            const { donorName, postTime, description } = action.payload\r\n            const PendingDonation = {\r\n                donorname: donorName,\r\n                Description: description,\r\n                posttime: postTime\r\n            }\r\n            return { ...state, Pending: [...state.Pending, PendingDonation] }\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n        case 'GET_PENDING_DONATION': {\r\n            console.log(action.payload)\r\n            return { ...state, Pending: action.payload }\r\n\r\n        }\r\n        case 'REJECT_DONATION': {\r\n            return { ...state, Pending: state.Pending.filter(pending => pending._id !== action.id) }\r\n        }\r\n        case 'ACCEPT_DONATION':{\r\n            return {...state,Pending: state.Pending.filter(pending => pending._id !==action.payload._id)}\r\n        }\r\n        case 'ADD_HISTORY':{\r\n            console.log('reciveved from the donate')\r\n            console.log(action.payload)\r\n            return {...state,profileDetails:action.payload}\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default profileReducer;","import { ACTION } from './constants';\r\n\r\nconst initialState = {\r\n    threads: [],\r\n}\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_THREADS: {\r\n            state = { ...state, threads: [...action.payload] }\r\n            break;\r\n        }\r\n        case ACTION.UPDATE_THREAD: {\r\n            const updatedThreads = state.threads.filter(x => x._id != action.payload._id)\r\n            state = { ...state, threads: [action.payload, ...updatedThreads] }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\n\r\nexport default messageReducer;","import { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { composeWithDevTools as compose } from \"redux-devtools-extension/developmentOnly\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\n\r\nimport homeReducer from \"./components/Home/reducer\";\r\nimport navReducer from \"./components/Navbar/reducer\";\r\nimport authReducer from \"./components/Auth/reducer\";\r\nimport HomeCenterReducer from './components/HomeCenter/reducer';\r\nimport LeftSidePanelReducer from './components/LeftSidePanel/reducer';\r\nimport DiscoverReducer from './components/Discover/reducer';\r\nimport ListReducer from './components/ListModal/reducer';\r\nimport profileReducer from \"./components/Profile/reducer\";\r\nimport messageReducer from \"./components/messages/reducer\";\r\n//import all reducers here\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    homeReducer,\r\n    navReducer,\r\n    authReducer,\r\n    HomeCenterReducer,\r\n    DiscoverReducer,\r\n    ListReducer,\r\n    LeftSidePanelReducer,\r\n    profileReducer,\r\n    messageReducer\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\n\r\nexport const store = createStore(\r\n    persistedReducer,\r\n    {},\r\n    compose(applyMiddleware(thunk))\r\n);\r\n\r\nexport const persistor = persistStore(store)\r\n","import axios from \"axios\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { ACTION } from \"./constants\";\r\nimport { startConnection } from \"../../utils/common\";\r\n\r\n// Register User\r\nexport const registerUser = (userData, history) => async dispatch => {\r\n    console.log(userData)\r\n    await axios\r\n        .post(\"/api/users/register\", userData)\r\n        .then(res => history.push(\"/login\"))\r\n        .catch(err =>\r\n            dispatch({\r\n                type: ACTION.GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Login - get user token\r\nexport const loginUser = userData => async dispatch => {\r\n    await axios\r\n        .post(\"/api/users/login\", userData)\r\n        .then(res => {\r\n            // Save to localStorage\r\n\r\n            // Set token to localStorage\r\n            const { token } = res.data;\r\n            localStorage.setItem(\"jwtToken\", token);\r\n            // Set token to Auth header\r\n            setAuthToken(token);\r\n            // Decode token to get user data\r\n            const decoded = jwt_decode(token);\r\n            // Set current user\r\n            dispatch(setCurrentUser(decoded));\r\n\r\n            startConnection();\r\n\r\n\r\n            //START SOCKET\r\n\r\n\r\n\r\n\r\n        })\r\n        .catch(err =>\r\n            dispatch({\r\n                type: ACTION.GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n    return {\r\n        type: ACTION.SET_CURRENT_USER,\r\n        payload: decoded\r\n    };\r\n};\r\n\r\n// User loading\r\nexport const setUserLoading = () => {\r\n    return {\r\n        type: ACTION.USER_LOADING\r\n    };\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n    // Remove token from local storage\r\n    console.log(\"dsa\")\r\n    localStorage.removeItem(\"jwtToken\");\r\n    // Remove auth header for future requests\r\n    setAuthToken(false);\r\n    // Set current user to empty object {} which will set isAuthenticated to false\r\n    dispatch(setCurrentUser({}));\r\n    dispatch({\r\n        type: 'LOGOUT'\r\n    })\r\n};\r\n\r\n\r\nexport const clearErrors = () => dispatch => {\r\n    dispatch({\r\n        type: ACTION.CLEAR_ERRORS\r\n    })\r\n}","import React, { Component } from \"react\";\r\nimport L from \"leaflet\";\r\nimport * as ELG from \"esri-leaflet-geocoder\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"./styles.css\";\r\nimport { geolocated } from 'react-geolocated';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css\";\r\nimport \"leaflet/dist/leaflet.js\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.js\";\r\nimport 'antd/dist/antd.css';\r\nimport { Modal, Button } from 'antd';\r\n\r\nconst DEFAULT_LATITUDE = 28.6139;\r\nconst DEFUALT_LONGITUDE = 77.2090;\r\n\r\n// import marker icons\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n    \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon-2x.png\",\r\n  iconUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon.png\",\r\n  shadowUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-shadow.png\"\r\n});\r\n\r\nclass MapComp extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      markers: []\r\n    };\r\n  }\r\n\r\n  addMarker = (e) => {\r\n    const { markers } = this.state;\r\n    markers.pop();\r\n    markers.push(e.latlng);\r\n    console.log(markers)\r\n    this.props.saveLatLng(markers[0]);\r\n    this.setState({ markers });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const map = this.leafletMap.leafletElement;\r\n    const searchControl = new ELG.Geosearch().addTo(map);\r\n    const results = new L.LayerGroup().addTo(map);\r\n\r\n    searchControl.on(\"results\", function (data) {\r\n      results.clearLayers();\r\n      for (let i = data.results.length - 1; i >= data.results.length - 1; i--) {\r\n        results.addLayer(L.marker(data.results[i].latlng));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const longitude = this.props.coords ? this.props.coords.longitude : DEFUALT_LONGITUDE;\r\n    const latitude = this.props.coords ? this.props.coords.latitude : DEFAULT_LATITUDE;\r\n    const center = [28.6139, 77.209];\r\n    return (\r\n      <>\r\n        <div className=\"MAP\">\r\n          <Map\r\n            style={{ height: \"80vh\" }}\r\n            center={[latitude, longitude]}\r\n            zoom=\"10\"\r\n            ref={(m) => {\r\n              this.leafletMap = m;\r\n            }}\r\n            onClick={this.addMarker}\r\n          >\r\n            <TileLayer\r\n              attribution=\"&copy; <a href='https://osm.org/copyright'>OpenStreetMap</a> contributors\"\r\n              url={\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}\r\n            />\r\n            <div className=\"pointer\" />\r\n\r\n\r\n            {\r\n              !this.props.coords\r\n                ? <div className=\"loading\">Loading</div>\r\n                :\r\n                <Marker\r\n                  position={[latitude, longitude]}\r\n                >\r\n                  <Popup>\r\n                    you are here!\r\n            </Popup>\r\n                </Marker>\r\n            }\r\n\r\n            {this.state.markers.map((position, idx) => (\r\n              <Marker draggable={true} key={`marker-${idx}`} position={position}>\r\n                <Popup>\r\n                  <span>Marked Location</span>\r\n                </Popup>\r\n              </Marker>\r\n            ))}\r\n          </Map>\r\n          {/* <div class=\"container\">\r\n            <div class=\"vertical-center\">\r\n              <button class=\"button\">Done</button>\r\n            </div>\r\n          </div> */}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: false\r\n  },\r\n  userDecisionTimeout: 1000\r\n})(MapComp);\r\n\r\n\r\n//export default MapComp;\r\n","\r\nimport axios from \"axios\"\r\n\r\nexport const addDonation = (data,contact) => async (dispatch) => {\r\n    console.log('this is add donations',data);\r\n    const res = await axios.post('/api/donation/create',{donation:data});\r\n    console.log(res.data.donation);    \r\n    dispatch({\r\n        type: 'ADD_DONATION',\r\n        payload:{...res.data.donation,contact:contact}\r\n    })\r\n}","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport { Form, Upload, Row , Col , Input , Modal,DatePicker, Button } from 'antd';\r\nimport { UploadOutlined, InboxOutlined , CompassOutlined , AimOutlined } from '@ant-design/icons';\r\nimport MapComp from \"../MapComp\";\r\nimport { addDonation } from './action';\r\nimport { bindActionCreators } from 'redux'\r\nimport {connect} from 'react-redux'\r\nimport axios from \"axios\"\r\nimport moment from 'moment';\r\nimport {addHistory} from '../Profile/action';\r\n\r\n  const formItemLayout = {\r\n      labelCol: {\r\n      span: 6,\r\n    },\r\n      wrapperCol: {\r\n      span: 14,\r\n    },\r\n  };\r\n\r\n  const config = {\r\n      rules: [\r\n      {\r\n      type: 'object',\r\n      required: true,\r\n      message: 'Please select time!',\r\n      },\r\n    ],\r\n  };\r\n\r\n  const normFile = (e) => {\r\n    console.log('Upload event:', e);\r\n\r\n    if (Array.isArray(e)) {\r\n    return e;\r\n    }\r\n\r\n    return e && e.fileList;\r\n  };\r\n  \r\n  class DonateModal extends Component {\r\n    state = {\r\n      user:'Name',\r\n    }\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n          title:'',\r\n          description:'',\r\n          Date:'',\r\n          files:[],\r\n          mapOpen: false,\r\n          latlng: null\r\n      };\r\n    }\r\n\r\n    saveLatLng = (latlng) => {\r\n      this.setState({\r\n          latlng: latlng\r\n      })\r\n      //console.log(this.state.latlng.lat + \" , \" + this.state.latlng.lng);\r\n    }\r\n    onChange = (value,dateString) => {\r\n        this.setState({\r\n          Date: dateString\r\n        })\r\n    }\r\n    disabledDate = (current) => {\r\n      // Can not select days before today and today\r\n      return current && current < moment().endOf('day');\r\n    }\r\n    \r\n    render() {\r\n      const onFieldsChange = (changedFields,allFields) =>{\r\n        //console.log(allFields)\r\n        this.setState({\r\n          title: allFields[0].value,\r\n          description:allFields[1].value,\r\n          //Date:allFields[2].value==undefined? (null):(allFields[2].value.getDate),\r\n          //files: allFields[3].value ==undefined? ([]):([allFields[3].value])\r\n        })\r\n      }\r\n      const createPost = (e) =>{\r\n        //console.log(this.state)\r\n        if(this.state.latlng !== undefined){\r\n          this.props.handleOk()\r\n          const { dragger } = e;\r\n          const imageUrl = dragger?.map(image => image.response.location);\r\n          console.log('this is to create the post',imageUrl);\r\n          const donation = {\r\n            donorId: this.props.profileDetails._id,\r\n            title: this.state.title,\r\n            expiryTime:this.state.Date,\r\n            peopleFed: 0,\r\n            status: 'NotAccepted',\r\n            description:this.state.description,\r\n            location: {type: \"Point\", coordinates :[this.state.latlng.lng,this.state.latlng.lat]},\r\n            images:this.state.files,\r\n            donorName:this.props.profileDetails.name\r\n          }\r\n          this.props.addDonation(donation,this.props.profileDetails.contact)\r\n          this.props.addHistory({\r\n            color: 'blue',\r\n            icon: 'clock',\r\n            text: donation.title + ' ( Donation expires on ' + donation.expiryTime + ' )'\r\n          });\r\n          \r\n          this.setState({\r\n            latlng:null,\r\n            files:[]\r\n          })\r\n        } \r\n        \r\n      }\r\n      const { latlng } = this.state;\r\n      const addpost = (imagelist) =>{\r\n        this.setState({\r\n          files: [...this.state.files,imagelist.location]\r\n        })\r\n        console.log('When the form is finished',this.state.files);\r\n      }\r\n      return(\r\n        <>\r\n        <Modal\r\n          destroyOnClose\r\n          visible={this.props.visible}\r\n          title=\"Donation Details\"\r\n          onOk={this.props.handleOk}\r\n          onCancel={this.props.handleCancel}\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.props.handleCancel}>\r\n              Return\r\n            </Button>,\r\n            <Button key=\"submit\" type=\"primary\" loading={this.props.loading} form = 'donateform' htmlType = 'submit'>\r\n              Submit\r\n            </Button>,\r\n          ]}\r\n        >\r\n          <Form\r\n            id = 'donateform'\r\n            name=\"validate_other\"\r\n            onFieldsChange = {onFieldsChange}\r\n            onFinish={createPost}\r\n            {...formItemLayout}\r\n          >\r\n            <Form.Item\r\n              {...formItemLayout}\r\n              name=\"username\"\r\n              label=\"Title\"\r\n              rules={\r\n                [{\r\n                required: true, message: 'Please input your Title',\r\n                },]\r\n              }\r\n            >\r\n              <Input placeholder=\"Please input your Title\" />\r\n             </Form.Item>\r\n\r\n            <Form.Item name={['user', 'ItemDetails']} label=\"ItemDetails\"\r\n              rules={\r\n                [{\r\n                required: true, message: 'Please Enter Items details',\r\n                },]\r\n              }\r\n            >\r\n              <Input.TextArea placeholder=\"Please Enter Items details here\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"date-picker\" label=\"Enter expiry date\" {...config}>\r\n              <DatePicker onChange={this.onChange} disabledDate={this.disabledDate} format=\"HH:mm ll\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Address\" \r\n              rules={\r\n                [{\r\n                required: true, message: 'Please input your address',\r\n                },]\r\n              }\r\n            >\r\n              <Row gutter={8}>\r\n                <Col span={20}>\r\n                    <Input placeholder=\"Location\" disabled value={latlng ? latlng.lat + \" , \" + latlng.lng : \"\"} />\r\n                </Col>\r\n                <Col span={2}>\r\n                  <Button onClick={() => this.setState({ mapOpen: true })} icon={<CompassOutlined />}></Button>\r\n                </Col>\r\n              </Row>\r\n            </Form.Item>\r\n            \r\n            <Form.Item label=\"Dragger\">\r\n              <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n              <Upload.Dragger multiple={false} name=\"file\"\r\n              customRequest={async ({ file, onSuccess, onError }) => {\r\n                let formData = new FormData()\r\n                formData.append('file', file)\r\n                await axios.post('/upload/donations', formData).then(res => {\r\n                  onSuccess(res.data)\r\n                  console.log(res.data)\r\n                  addpost(res.data)\r\n                }).catch(err => { console.log(\"error in uploading\"); onError(\"Error in uploading.Try again\") })\r\n              }} >\r\n              <p className=\"ant-upload-drag-icon\">\r\n                <InboxOutlined />\r\n              </p>\r\n              <p className=\"ant-upload-text\">\r\n                Click or drag file to this area to upload\r\n                  </p>\r\n              <p className=\"ant-upload-hint\">\r\n                Support for a single or bulk upload.\r\n                  </p>\r\n            </Upload.Dragger>\r\n              </Form.Item>\r\n            </Form.Item>\r\n          </Form> \r\n        </Modal>\r\n\r\n        <Modal footer={[\r\n          <Button onClick={() => this.setState({ mapOpen: false })}>\r\n            Return\r\n          </Button>\r\n          ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n        <MapComp saveLatLng={this.saveLatLng} />\r\n        </Modal>\r\n</>\r\n      )\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory: bindActionCreators(addHistory,dispatch),\r\n  addDonation : bindActionCreators(addDonation,dispatch)\r\n})\r\nconst mapStatetoProps = state => {\r\n  return {\r\n      profileDetails: state.LeftSidePanelReducer.profileDetails,\r\n  };\r\n  \r\n}\r\nexport default connect(mapStatetoProps ,mapDispatchToProps)(DonateModal);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { Layout, Menu, Button, Input, Space, Modal } from 'antd';\r\nimport {\r\n  HeartFilled, LogoutOutlined, HomeOutlined, BellOutlined, TrophyOutlined,\r\n  UsergroupDeleteOutlined, BulbOutlined, UserOutlined,\r\n  MessageOutlined\r\n} from '@ant-design/icons';\r\nimport \"./styles.css\"\r\nimport { setCurrentRoute } from './actions';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport { logoutUser } from '../Auth/action';\r\n\r\nimport \"./styles.css\"\r\nimport DonateModal from '../DonateModal';\r\n\r\nconst { Header } = Layout;\r\nconst { Search } = Input;\r\n\r\n\r\nclass Navbar extends Component {\r\n  state = {\r\n    loading: false,\r\n    visible: false,\r\n  };\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = () => {\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      this.setState({ loading: false, visible: false });\r\n    }, 500);\r\n    Modal.success({\r\n      content: 'Donations posted',\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n\r\n  render() {\r\n    const { visible, loading } = this.state;\r\n    const { currentRoute, setCurrentRoute, logoutUser, auth } = this.props;\r\n    if (auth.isAuthenticated)\r\n      return (\r\n        <div>\r\n          <Header style={{ position: 'fixed', zIndex: 100, width: '100%' }}>\r\n            <Menu theme=\"dark\" mode=\"horizontal\" selectedKeys={[currentRoute, \"logo\"]} onSelect={(item) => { item.key == \"logout\" ? logoutUser() : setCurrentRoute(item.key) }}>\r\n              <Menu.Item key=\"logo\" className=\"customclasslogo\" icon={<HeartFilled />} ><Link to=\"/home\">NofoodWasted</Link></Menu.Item>\r\n              <Button type=\"dashed\" size={\"large\"} style={{ \"marginRight\": \"8px\", \"marginLeft\": \"8px\" }} onClick={this.showModal}>\r\n                Donate Now!\r\n                  </Button>\r\n              <DonateModal handleCancel={this.handleCancel} handleOk={this.handleOk} showModal={this.showModal} visible={visible} loading={loading} />\r\n              <Menu.Item key=\"home\" icon={<HomeOutlined />} ><Link to=\"/home\">Home</Link></Menu.Item>\r\n              <Menu.Item key=\"discover\" icon={<BulbOutlined />}><Link to='/discover'>Discover</Link></Menu.Item>\r\n              <Menu.Item key=\"community\" icon={<TrophyOutlined />} ><Link to=\"/community\">Community</Link></Menu.Item>\r\n              <Menu.Item key=\"leaderboard\" icon={<UsergroupDeleteOutlined />} ><Link to=\"/leaderboard\">Leaderboard</Link></Menu.Item>\r\n              <Menu.Item key=\"notifications\" icon={<BellOutlined />}><Link to=\"/notifications\">Notifications</Link></Menu.Item>\r\n              <Menu.Item key=\"messages\" icon={<MessageOutlined />} ><Link to=\"/messages\">Messages</Link></Menu.Item>\r\n              <Menu.Item key=\"profile\" icon={<UserOutlined />} ><Link to={`/i/profile/${auth.user.userId}`}>Profile</Link></Menu.Item>\r\n              <Menu.Item key=\"search\">\r\n                <Search\r\n                  placeholder=\"Search\"\r\n                  onSearch={value => console.log(value)}\r\n                  style={{ width: 200 }} />\r\n              </Menu.Item>\r\n              <Menu.Item key=\"logout\" icon={<LogoutOutlined />} >Logout</Menu.Item>\r\n            </Menu>\r\n          </Header>\r\n\r\n        </div>\r\n      );\r\n    else\r\n      return null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currentRoute: state.navReducer.currentRoute,\r\n  auth: state.authReducer\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n  logoutUser: bindActionCreators(logoutUser, dispatch)\r\n})\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Navbar));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {connect} from 'react-redux'\r\nimport 'antd/dist/antd.css';\r\nimport { Modal, Button } from 'antd';\r\nimport { List, Avatar } from 'antd';\r\n\r\n// const data = [\r\n//   {\r\n//     title: 'Ant Design Title 1',\r\n//   },\r\n//   {\r\n//     title: 'Ant Design Title 2',\r\n//   },\r\n//   {\r\n//     title: 'Ant Design Title 3',\r\n//   },\r\n//   {\r\n//     title: 'Ant Design Title 4',\r\n//   },\r\n//   {\r\n//     title: 'Ant Design Title 5',\r\n//   },\r\n//   {\r\n//     title: 'Ant Design Title 6',\r\n//   },\r\n// ];\r\n\r\nclass ListModal extends React.Component {\r\n  render() {\r\n    const {data} = this.props\r\n    return (\r\n      <>\r\n\r\n        <Modal\r\n          title=\"List\"\r\n          visible={this.props.visible}\r\n          onOk={this.props.handleOk}\r\n          onCancel={this.props.handleCancel}\r\n        >\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={data}\r\n            renderItem={item => (\r\n            <List.Item>\r\n            <List.Item.Meta\r\n            avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n            title={<a>{item.user_name}</a>}\r\n            description={item.description}\r\n            />\r\n            </List.Item>\r\n            )}\r\n            />,\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n  return {\r\n      data:state.ListReducer.users\r\n  };\r\n\r\n};\r\nexport default connect(mapStatetoProps)(ListModal);\r\n\r\n\r\n//export default ListModal;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux'\r\nimport 'antd/dist/antd.css';\r\nimport { Button, Modal, Form, Input, Radio } from 'antd';\r\nimport { UserOutlined, PhoneOutlined, MailOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nclass EditProfile extends React.Component {\r\n    render() {\r\n        const { data } = this.props\r\n        console.log(this.props)\r\n        //const Uname = data.name;\r\n        return (\r\n            <>\r\n\r\n                <Modal\r\n                    visible={this.props.visible}\r\n                    title=\"Edit Profile\"\r\n                    onOk={this.props.handleOk}\r\n                    onCancel={this.props.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                            Return\r\n                  </Button>,\r\n                        <Button form=\"edit-profile-form\" key=\"submit\" type=\"primary\" htmlType=\"submit\" loading={this.props.loading}>\r\n                            Submit\r\n                  </Button>,\r\n                    ]}\r\n                >\r\n                    <Form\r\n                        id=\"edit-profile-form\"\r\n                        layout=\"vertical\"\r\n                        name=\"form_in_modal\"\r\n                        initialValues={{\r\n                            ['name']: data.name,\r\n                            ['contact']: data.contact,\r\n                            ['address']: data.address,\r\n                            ['description']: data.description,\r\n                        }}\r\n                        onFinish={this.props.handleOk}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Name\"\r\n                            name=\"name\"\r\n                            rules={[{ required: true, message: 'Please input your name!' }]}\r\n                        >\r\n                            <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"Contact\"\r\n                            name=\"contact\"\r\n\r\n                            rules={[{ required: true, message: 'Please input your contact!' }]}\r\n                        >\r\n                            <Input prefix={<PhoneOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Address\"\r\n                            name=\"address\"\r\n\r\n                            rules={[{ required: true, message: 'Please input your address!' }]}\r\n                        >\r\n                            <Input.TextArea />\r\n\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Description\"\r\n                            name=\"description\"\r\n\r\n                            rules={[{ required: true, message: 'Please input a brief description!' }]}\r\n                        >\r\n                            <Input.TextArea />\r\n\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n    return {\r\n        data: state.profileReducer.profileDetails\r\n    };\r\n\r\n};\r\nexport default connect(mapStatetoProps)(EditProfile);\r\n\r\n//export default EditProfile;","import React from 'react';\r\nimport { Button, Modal, Form, Input, Upload } from 'antd';\r\nimport { UploadOutlined, PhoneOutlined, MailOutlined, LockOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { uploadProfilePic } from '../action';\r\n\r\nclass ProfilePic extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal\r\n                    visible={this.props.visible}\r\n                    title=\"Change Profile Picture\"\r\n                    onOk={this.props.handleOk}\r\n                    onCancel={this.props.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                            Return\r\n                  </Button>\r\n                    ]}\r\n                >\r\n\r\n                    <Upload multiple={false} name=\"file\" accept=\"image/*\"\r\n                        customRequest={async ({ file, onSuccess, onError }) => {\r\n                            let formData = new FormData()\r\n                            formData.append('file', file)\r\n                            await axios.post('/upload/profile-pic', formData).then(res => {\r\n                                onSuccess(res.data)\r\n                                this.props.uploadProfilePic(res.data.profilePic, res.data.avatar)\r\n\r\n                            }).catch(err => {\r\n                                console.log(\"error in uploading\");\r\n                                onError(\"Error in uploading. Try again\")\r\n                            }\r\n                            )\r\n                        }}\r\n                        listType=\"picture\"\r\n                    >\r\n                        <Button icon={<UploadOutlined />}>Upload Profile Pic</Button>\r\n                    </Upload>\r\n\r\n\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    uploadProfilePic: bindActionCreators(uploadProfilePic, dispatch)\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(ProfilePic); ","import React from 'react';\r\n\r\nimport { Modal, Button } from 'antd';\r\nimport { List, Avatar } from 'antd';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux';\r\nimport { getFollowers } from '../action';\r\n\r\nclass FollowersList extends React.Component {\r\n\r\n\r\n\r\n    render() {\r\n        const { data, title, loading } = this.props\r\n        return (\r\n            <>\r\n\r\n                <Modal\r\n                    title={title}\r\n                    visible={this.props.visible}\r\n                    onCancel={this.props.handleCancel}\r\n                    destroyOnClose\r\n                    footer={[\r\n                        <Button type=\"primary\" onClick={this.props.handleCancel}>\r\n                            Close\r\n                        </Button>\r\n                    ]}\r\n                >\r\n                    <List\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={data}\r\n                        loading={loading}\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                                <List.Item.Meta\r\n                                    avatar={<Link onClick={this.props.handleCancel} to={`/profile/${item._id}`}><Avatar src={item.avatar} /></Link>}\r\n                                    title={<a>{item.name}</a>}\r\n                                    description={item.description}\r\n                                />\r\n                            </List.Item>\r\n                        )}\r\n                    />,\r\n        </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default (FollowersList);","import React from 'react'\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nexport default function LoadingScreen() {\r\n    return (\r\n        <div style={{ width: \"100vw\", height: \"100vh\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", fontSize: \"50px\" }}>\r\n            <LoadingOutlined />\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport ReactDOM, { render } from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport { AudioOutlined, LogoutOutlined, CommentOutlined, HomeOutlined, BellOutlined, TrophyOutlined, UsergroupDeleteOutlined, BulbOutlined, EditOutlined, EllipsisOutlined, LikeOutlined, MessageOutlined, GiftOutlined, ShareAltOutlined, ClockCircleOutlined, UserOutlined, PhoneOutlined, MoreOutlined, TeamOutlined, SendOutlined, CheckOutlined, CloseOutlined } from '@ant-design/icons';\r\nimport ListModal from '../ListModal';\r\nimport EditProfile from './EditProfile';\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport { getSomeData, changeTab, getProfile, followUser, unfollowUser, getFollowers, getFollowing,addHistory, getPendingDonations, rejectDonation, editProfile,acceptdonation } from './action';\r\nimport moment from 'moment';\r\nimport { Layout, Menu, Modal, Image, Input, Card, Tabs, Timeline, Checkbox, List, Avatar, Button, Dropdown, Divider, Space, InputNumber } from 'antd';\r\nimport ProfilePic from './ProfilePic';\r\n// import { CheckOutlined, CloseOutlined, AudioOutlined, LogoutOutlined, CommentOutlined, HomeOutlined, BellOutlined, TrophyOutlined, UsergroupDeleteOutlined, BulbOutlined, EditOutlined, EllipsisOutlined, LikeOutlined, MessageOutlined, GiftOutlined, ShareAltOutlined, ClockCircleOutlined, UserOutlined } from '@ant-design/icons';\r\nimport \"./styles.css\"\r\nimport FollowersList from './FollowersList';\r\nimport { Link } from 'react-router-dom';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport LoadingScreen from '../LoadingScreen';\r\nconst { Search } = Input;\r\nconst { SubMenu } = Menu;\r\nconst { TabPane } = Tabs;\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nclass Profile extends Component {\r\n\r\n  state = {\r\n    // PendingDonations: [\r\n    //   {donorname:'Arpit',posttime:'123',Description:'Brief description'}\r\n    // ],\r\n    followersVisible: false,\r\n    followingVisible: false,\r\n    loadingAccept: false,\r\n    visibleAccept: false,\r\n    visibleEdit: false,\r\n    visibleProfilePic: false,\r\n    loadingEdit: false,\r\n    clicked: false,\r\n    followLoading: false,\r\n    unfollowLoading: false,\r\n    followListLoading: false,\r\n    profilePageLoading: false,\r\n    followingText: \"Following\"\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  handleCancel = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  showModalAccept = (data) => {\r\n    console.log('inside the show modal accept')\r\n    this.props.acceptdonation(data)\r\n    this.props.addHistory({\r\n      color: 'green',\r\n      icon: 'dot',\r\n      text: data.title + ' ( Donation accepted on ' + moment().format(\"HH:mm ll\") + ' )'\r\n    });\r\n    \r\n    this.setState({\r\n      visibleAccept: true\r\n    });\r\n    //console.log(this.state.visibleAccept);\r\n  };\r\n\r\n  handleOkAccept = () => {\r\n    this.setState({ loadingAccept: true });\r\n    setTimeout(() => {\r\n      this.setState({ loadingAccept: false, visibleAccept: false });\r\n    }, 1000);\r\n    Modal.success({\r\n      content: \"Donation Shared on profile\"\r\n    });\r\n  };\r\n\r\n  handleCancelAccept = () => {\r\n    this.setState({ visibleAccept: false });\r\n  };\r\n\r\n  handleCancelProfilePic = () => {\r\n    this.setState({ visibleProfilePic: false })\r\n  }\r\n\r\n  showModalEdit = () => {\r\n    this.setState({\r\n      visibleEdit: true,\r\n    });\r\n  };\r\n\r\n  handleOkEdit = async (user) => {\r\n    this.setState({ loadingEdit: true });\r\n    await this.props.editProfile(user);\r\n    this.setState({ loadingEdit: false, visibleEdit: false })\r\n  };\r\n\r\n  handleCancelEdit = () => {\r\n    this.setState({ visibleEdit: false });\r\n  };\r\n\r\n  callback = (key) => {\r\n    console.log(key);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({\r\n      profilePageLoading: true\r\n    })\r\n    await this.props.getProfile(this.props.match.params.id)\r\n    this.props.getPendingDonations()\r\n    this.setState({\r\n      profilePageLoading: false\r\n    })\r\n  }\r\n  render() {\r\n\r\n    const { followersVisible, followingVisible, loadingAccept, visibleAccept, visibleEdit, loadingEdit, visibleProfilePic } = this.state;\r\n    const { suggestedPages, PendingDonations, currentTab, changeTab, donations, timelinePost, posts, profileDetails, user, followUser, unfollowUser, getFollowers, getFollowing, followers, following } = this.props\r\n\r\n    const imagelist = (images) => {\r\n      return images.length ? (\r\n        images.map(image => {\r\n          return (\r\n            <Image\r\n              width={100}\r\n              height={100}\r\n              alt=\"example\"\r\n              src={image}\r\n            />\r\n          )\r\n        })\r\n      ) : (<div> No images!</div>)\r\n    }\r\n    \r\n    const Demo = () => (\r\n      <Tabs centered=\"true\" size=\"large\"\r\n      // activeKey={currentTab}\r\n      // onChange={changeTab}\r\n      >\r\n\r\n        <TabPane tab=\"Timeline\" key=\"timelinePost\">\r\n          <Timeline mode=\"alternate\">\r\n\r\n            {profileDetails?.history?.map(timelinepost => (\r\n              <Timeline.Item color={timelinepost?.color} dot={timelinepost?.icon === 'clock' ? <ClockCircleOutlined /> : null}>{timelinepost.text}</Timeline.Item>\r\n            ))}\r\n\r\n          </Timeline>\r\n\r\n        </TabPane>\r\n\r\n\r\n        <TabPane tab=\"Donations\" key=\"donations\">\r\n          {\r\n            //Add donation card here : donation title, body, photos plus show whether donation active or accepted (see reducer for sample data entry)\r\n          }\r\n          {profileDetails?.donations?.map(donation => (\r\n            <Card title={donation.title} extra={<div>{donation.status}</div>} style={{ marginLeft: '75px', marginRight: '75px', marginTop: '8px' }}>\r\n              <p>{donation.description}</p>\r\n              <Space>\r\n                {imagelist(donation.images)}\r\n              </Space>\r\n            </Card>\r\n          )\r\n          )}\r\n        </TabPane>\r\n\r\n        <TabPane tab=\"Posts\" key=\"posts\">\r\n\r\n\r\n\r\n          {profileDetails?.posts?.map(post => (\r\n            <Card title={post.author} extra={post.DateTime} style={{ marginLeft: '75px', marginRight: '75px', marginTop: '8px' }}>\r\n              <p>{post.description}</p>\r\n            </Card>\r\n          ))}\r\n        </TabPane>\r\n        <TabPane tab=\"Acheivements\" key=\"achievements\" >\r\n          <p style={{ fontSize: \"20px\", textAlign: \"center\" }}> Coming Soon!</p>\r\n        </TabPane>\r\n      </Tabs >\r\n    );\r\n\r\n    const PendingDonationList = PendingDonations.length ? (\r\n      PendingDonations.map(PendingDonation => {\r\n        return (\r\n          <Card title={PendingDonation.donorName} extra={moment(PendingDonation.postTime).format(\"HH:mm ll\")} size=\"small\" style={{ width: 250 }}\r\n            actions={[\r\n              <p classname=\"cardtext1\" onClick={() => this.showModalAccept(PendingDonation)} ><CheckOutlined hoverable={true} key=\"Accept\" /> Accept </p>,\r\n              <p onClick={() => this.props.rejectDonation(PendingDonation._id)}><CloseOutlined hoverable={true} key=\"Reject\" /> Reject </p>,\r\n            ]}\r\n          >\r\n            <p>{PendingDonation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    return (\r\n      this.state.profilePageLoading ? <LoadingScreen /> :\r\n        <Layout key={this.props.match.params.id} className=\"layout\" style={{ marginTop: \"56px\" }}>\r\n          <Layout>\r\n            <Sider width={250} style={{ padding: \"20px\" }}>\r\n              <List\r\n                itemLayout=\"horizontal\"\r\n                //dataSource={suggestedPages}\r\n                header={\r\n                  <div style={{ fontWeight: \"bolder\", padding: \"5px\", fontSize: \"medium\" }}>\r\n                    Suggested pages\r\n                </div>\r\n                }\r\n                renderItem={item => (\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                      title={<a href=\"https://www.google.com/\">{item.title}</a>}\r\n                      description=\"brief description\"\r\n                    />\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Sider>\r\n            <Layout >\r\n              <Content\r\n                // className=\"site-layout-background\"\r\n                style={{\r\n                  padding: 24,\r\n                  marginTop: 24,\r\n                  minHeight: 280,\r\n                }}\r\n                key={this.props.match.params.id}\r\n              >\r\n                <div style={{ display: \"flex\" }}>\r\n                  <Image\r\n                    width={250}\r\n                    src={profileDetails?.profilePic}\r\n                  />\r\n                  <Button\r\n                    shape=\"circle\"\r\n                    style={{ marginLeft: \"-15px\", zIndex: \"10\" }}\r\n                    onClick={() => this.setState({ visibleProfilePic: true })}>\r\n                    <EditOutlined />\r\n                  </Button>\r\n                  <div style={{ marginLeft: \"20px\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-evenly\" }}>\r\n                    <p style={{ \"fontSize\": \"24px\", marginBottom: \"0px\", fontWeight: 500 }}>{profileDetails.name}</p>\r\n\r\n                    <div>\r\n                      <p>{profileDetails?.description}</p>\r\n\r\n                      <PhoneOutlined /> <span style={{ fontWeight: 500, marginRight: \"20px\" }}>{profileDetails?.contact}</span>\r\n                      <HomeOutlined /> <span style={{ fontWeight: 500 }}>{profileDetails?.address}</span>\r\n                    </div>\r\n                    <div style={{ marginLeft: \"-16px\", marginTop: \"6px\" }}>\r\n                      <Button type=\"link\" size=\"large\" style={{ fontWeight: \"bolder\" }} onClick={\r\n                        async () => {\r\n                          this.setState({ followersVisible: true, followListLoading: true })\r\n                          await getFollowers(this.props.match.params.id);\r\n                          this.setState({ followListLoading: false })\r\n                        }}>\r\n                        {profileDetails?.followers?.length} Followers\r\n          </Button>\r\n                      <Button type=\"link\" size=\"large\" style={{ fontWeight: \"bolder\" }} onClick={\r\n                        async () => {\r\n                          this.setState({ followingVisible: true, followListLoading: true })\r\n                          await getFollowing(this.props.match.params.id)\r\n                          this.setState({ followListLoading: false })\r\n                        }}>\r\n                        {profileDetails?.following?.length} Following\r\n          </Button>\r\n                      <FollowersList title=\"Followers\" data={this.props.followers} handleCancel={() => this.setState({ followersVisible: false })} showModal={() => this.setState({ followersVisible: true })} visible={followersVisible} loading={this.state.followListLoading} />\r\n                      <FollowersList title=\"Following\" data={this.props.following} handleCancel={() => this.setState({ followingVisible: false })} showModal={() => this.setState({ followingVisible: true })} visible={followingVisible} loading={this.state.followListLoading} />\r\n\r\n                      {user.userId === this.props.match.params.id ?\r\n                        (<span style={{ float: \"right\", marginTop: \"6px\" }}>\r\n                          <Button onClick={this.showModalEdit} type=\"primary\" style={{ marginRight: \"8px\" }}  >\r\n                            <EditOutlined /> Edit Profile\r\n                      </Button>\r\n                          <EditProfile handleCancel={this.handleCancelEdit} handleOk={this.handleOkEdit} showModal={this.showModalEdit} visible={visibleEdit} loading={loadingEdit} />\r\n                          <ProfilePic visible={visibleProfilePic} handleCancel={this.handleCancelProfilePic} />\r\n                        </span>\r\n                        ) : (<span style={{ float: \"right\", marginTop: \"6px\" }}>\r\n                          <>\r\n                            {\r\n                              profileDetails?.followers.find(f => f == user.userId) ?\r\n                                <Button onMouseOver={() => {\r\n                                  this.setState({\r\n                                    followingText: \"Unfollow\"\r\n                                  })\r\n                                }\r\n                                } onMouseLeave={() => {\r\n                                  this.setState({\r\n                                    followingText: \"Following\"\r\n                                  })\r\n                                }} loading={this.state.unfollowLoading} type={this.state.followingText == \"Unfollow\" ? \"danger\" : \"primary\"} style={{ marginRight: \"14px\" }} onClick={async () => {\r\n                                  this.setState({ unfollowLoading: true })\r\n                                  await unfollowUser(this.props.match.params.id)\r\n                                  this.setState({ unfollowLoading: false })\r\n                                }} >\r\n                                  <p> <TeamOutlined /> {this.state.followingText}</p>\r\n                                </Button> :\r\n                                <Button loading={this.state.followLoading} type=\"primary\" style={{ marginRight: \"14px\" }} onClick={async () => {\r\n                                  this.setState({ followLoading: true })\r\n                                  await followUser(this.props.match.params.id)\r\n                                  this.setState({ followLoading: false })\r\n\r\n                                }}>\r\n                                  <p> <TeamOutlined /> Follow </p>\r\n                                </Button>\r\n                            }\r\n                            <Link onClick={() => this.props.setCurrentRoute('messages')} to={{ pathname: '/messages', state: { user: this.props.match.params.id } }}>\r\n                              <Button type=\"primary\" style={{ marginRight: \"14px\" }}>\r\n                                <SendOutlined /> Message\r\n                        </Button>\r\n                            </Link>\r\n\r\n                          </>\r\n\r\n                        </span>)}\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: \"8px\" }}>\r\n                      <p style={{ fontWeight: 600 }}>\r\n                        <span >{profileDetails?.name} has fed {profileDetails?.noFed} people and made {profileDetails?.noDonations} donations overall!</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/*\r\n              <div>\r\n                <p style={{ fontWeight: 600 }}>User has fed 324 No. of people since last month.</p>\r\n              </div>\r\n              */}\r\n                <Divider style={{ \"background\": \"rgba(151,3,62, 0.2)\" }} />\r\n                <Demo />\r\n\r\n              </Content>\r\n              {user.userId === this.props.match.params.id ?\r\n                <Sider width={300} style={{ padding: \"20px\" }}>\r\n                  {\r\n                    //add title div here \r\n                  }\r\n                  <div style={{ fontWeight: \"bolder\", paddingBottom: \"15px\", paddingTop: \"15px\", fontSize: \"medium\" }}>Pending Donations</div>\r\n\r\n                  <div>\r\n                    {PendingDonationList}\r\n                  </div>\r\n                </Sider>\r\n                : null}\r\n            </Layout>\r\n          </Layout >\r\n\r\n          <Modal\r\n            visible={visibleAccept}\r\n            title=\"Accept Donation\"\r\n            onOk={this.handleOkAccept}\r\n            onCancel={this.handleCancelAccept}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.handleCancelAccept}>\r\n                Say Thanks\r\n                  </Button>,\r\n              <Button\r\n                key=\"submit\"\r\n                type=\"primary\"\r\n                loading={loadingAccept}\r\n                onClick={this.handleOkAccept}\r\n              >\r\n                Share Donation\r\n                  </Button>\r\n            ]}\r\n          >\r\n            <b> Enter No of people will be fed from this donation ?</b>\r\n            <Input placeholder=\"Input Number Here\" />\r\n            <b> Rate the User</b>\r\n            <Input placeholder=\"Rate Between 1 to 5\" />\r\n          </Modal>\r\n\r\n\r\n        </Layout >\r\n    )\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(state.profileReducer.profileDetails)\r\n  return ({\r\n    suggestedPages: state.profileReducer.suggestedPages,\r\n    currentTab: state.profileReducer.currentTab,\r\n    donations: state.profileReducer.donations,\r\n    timelinePost: state.profileReducer.profileDetails.history,\r\n    posts: state.profileReducer.posts,\r\n    PendingDonations: state.profileReducer.Pending,\r\n    profileDetails: state.profileReducer.profileDetails,\r\n    user: state.authReducer.user,\r\n    followers: state.profileReducer.followers,\r\n    following: state.profileReducer.following\r\n  })\r\n  \r\n}\r\n  \r\n  \r\n  \r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory:bindActionCreators(addHistory,dispatch),\r\n  acceptdonation: bindActionCreators(acceptdonation,dispatch),\r\n  getSomeData: bindActionCreators(getSomeData, dispatch),\r\n  changeTab: bindActionCreators(changeTab, dispatch),\r\n  getProfile: bindActionCreators(getProfile, dispatch),\r\n  followUser: bindActionCreators(followUser, dispatch),\r\n  unfollowUser: bindActionCreators(unfollowUser, dispatch),\r\n  getFollowers: bindActionCreators(getFollowers, dispatch),\r\n  getFollowing: bindActionCreators(getFollowing, dispatch),\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n  rejectDonation: bindActionCreators(rejectDonation, dispatch),\r\n  getPendingDonations: bindActionCreators(getPendingDonations, dispatch),\r\n  editProfile: bindActionCreators(editProfile, dispatch)\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import { ACTION } from './constants';\r\nimport axios from \"axios\"\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\nexport const getOrganisation = () => async (dispatch) =>{\r\n    console.log('get the organisaions')\r\n    const res = await axios.get('api/users/organisations')\r\n    console.log('get organisations',res.data.organisations)\r\n    dispatch({\r\n        type:'GET_ORGANISATION',\r\n        organisations: res.data.organisations\r\n    })\r\n}\r\nexport const getDonation = () => async (dispatch) =>{\r\n    const res = await axios.get('/api/donation/donations');\r\n    console.log('THis is inside the get donations',res.data)\r\n    dispatch({\r\n        type:'GET_DONATION',\r\n        donations: res.data.donations\r\n    })\r\n}\r\nexport const pendingDonation = (data) => async (dispatch,getState) => {\r\n    const userId = getState().authReducer.user.userId\r\n    const res = await axios.post('/api/donation/changeStatus',{_id:data._id,status:'pending'})\r\n    console.log(res.data);\r\n    dispatch({\r\n        type: 'PENDING_DONATION',\r\n        payload:data,\r\n        userId\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport '../../index.css';\r\nimport './styles.css'\r\nimport { connect } from 'react-redux'\r\nimport { changeFilters, getDonation, getOrganisation } from './action'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Modal, Menu, Checkbox, Layout, Card, Button, Input, Space, Image,Avatar } from 'antd';\r\nimport moment from 'moment';\r\nimport { HomeOutlined, PhoneOutlined, CheckOutlined, CloseOutlined } from '@ant-design/icons';\r\nimport { pendingDonation } from './action';\r\nimport { acceptdonation } from '../Profile/action';\r\nimport { rejectDonation } from '../Profile/action';\r\nimport sortBy from 'lodash/sortBy';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport { Link } from \"react-router-dom\"\r\nconst { Content, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nfunction success(contact) {\r\n  Modal.success({\r\n    title: 'Donor Notified',\r\n    content: 'You can contact Donor on ' + contact\r\n  });\r\n}\r\n\r\nclass Discover extends Component {\r\n  state = {\r\n    Organisations: [\r\n      { organisationName: 'Arpit1', address: 'Address', contact: 'contact no', peoplefed: '0', description: 'Brief description' },\r\n      { organisationName: 'Arpit1', address: 'Address', contact: 'contact no', peoplefed: '0', description: 'Brief description' },\r\n      { organisationName: 'Arpit1', address: 'Address', contact: 'contact no', peoplefed: '0', description: 'Brief description' },\r\n      { organisationName: 'Arpit1', address: 'Address', contact: 'contact no', peoplefed: '0', description: 'Brief description' },\r\n      { organisationName: 'Arpit1', address: 'Address', contact: 'contact no', peoplefed: '0', description: 'Brief description' }\r\n    ],\r\n    Events: [],\r\n    selectedMenuItem: '1',\r\n    loading: false,\r\n    visible: false,\r\n    filters: []\r\n  }\r\n  componentDidMount() {\r\n    console.log(this.props.getOrganisation);\r\n    this.props.getOrganisation();\r\n    this.props.getDonation();\r\n  }\r\n  showModal = (data) => {\r\n    this.props.acceptdonation(data)\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  handleOk = () => {\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      this.setState({ loading: false, visible: false });\r\n    }, 1000);\r\n    Modal.success({\r\n      content: \"Donation Shared on profile\"\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n\r\n\r\n\r\n  render() {\r\n    const { Events, selectedMenuItem, visible, loading } = this.state;\r\n    const { Organisations, Donations, pendingDonations, pendingDonorDonation } = this.props\r\n    //console.log('this is  the dicover ',pendingDonations);\r\n\r\n    const plainOptions = [\r\n      { label: 'Location', value: 'Location' },\r\n      { label: 'Expiry Date', value: 'Expiry Date' },\r\n      { label: 'Time', value: 'Time' },\r\n    ];\r\n    const onChange = (checkedValues) => {\r\n      // this.props.changeFilters(checkedValues)\r\n      console.log(checkedValues)\r\n      this.setState({\r\n        filters: [...checkedValues]\r\n      })\r\n      //console.log(this.state.filters)\r\n      //return checkedValues;\r\n      //console.log('checked = ', checkedValues);\r\n    }\r\n\r\n    const addpending = (Donation) => {\r\n      const { _id, donorName, postTime, description } = Donation;\r\n      const Pending = {\r\n        donorName: donorName,\r\n        postTime: postTime,\r\n        description: description\r\n      };\r\n\r\n      this.props.pendingDonation(Donation);\r\n    }\r\n\r\n    const imagelist = (images) => {\r\n      return images.length ? (\r\n        images.map(image => {\r\n          return (\r\n            <Image\r\n              width={100}\r\n              height={100}\r\n              alt=\"example\"\r\n              src={image}\r\n            />\r\n          )\r\n        })\r\n      ) : (<div> No images!</div>)\r\n    }\r\n\r\n    const filteredDonation = (Donations) => {\r\n      const filters = this.state.filters;\r\n      console.log(filters);\r\n      if (filters.find((value => value.localeCompare(\"Time\") === 0))) {\r\n        const filterDonations = sortBy(Donations, (donation) => {\r\n          return new moment(donation.createdAt);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      if (filters.find((value => value.localeCompare(\"Expiry Date\") === 0))) {\r\n        const filterDonations = sortBy(Donations, (donation) => {\r\n          return new moment(donation.expiryTime);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      return Donations\r\n    }\r\n    const action = (Donation) => {\r\n      if (this.props.userType.localeCompare('donor') === 0)\r\n        return [];\r\n      const value = [\r\n        <Link to={{\r\n          pathname: \"/messages\",\r\n          state: {\r\n            //PUT DONOR_ID\r\n            user: Donation.donorId\r\n          }\r\n        }}>\r\n          <p className=\"text\" onClick={() => { this.props.setCurrentRoute('messages') }} ><b> Contact Donor </b></p>\r\n        </Link>,\r\n        <p className=\"text\" onClick={() => addpending(Donation)} ><b> Interested </b></p>,\r\n      ]\r\n\r\n      return value;\r\n    }\r\n    const filterDonations = filteredDonation(Donations);\r\n    const DonationList = (Donations).length ? (\r\n      filterDonations.map(Donation => {\r\n        return (\r\n          <Card title={<Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${Donation.donorId}`}>{Donation.donorName}</Link>} extra={<div>{moment(Donation.postTime).format(\"HH:mm ll\")}</div>} style={{ width: 700, margin: '8px' }}\r\n\r\n            actions={action(Donation)}\r\n          >\r\n            <p>{Donation.description}</p>\r\n            <Space>\r\n              {imagelist(Donation.images)}\r\n            </Space>\r\n\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    const pendingDonationList = pendingDonations.length ? (\r\n      pendingDonations.map(Donation => {\r\n\r\n        return (\r\n          <Card title={Donation.donorName} extra={moment(Donation.postTime).format(\"HH:mm ll\")} size=\"small\" style={{ width: 250 }}\r\n            actions={[\r\n              <p classname=\"cardtext1\" onClick={() => this.showModal(Donation)} ><CheckOutlined hoverable={true} key=\"Accept\" /> Accept </p>,\r\n              <p onClick={() => this.props.rejectDonation(Donation._id)}><CloseOutlined hoverable={true} key=\"Reject\" /> Reject </p>,\r\n            ]}\r\n          >\r\n            <p>{Donation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n    const pendingDonorDonationList = pendingDonorDonation.length ? (\r\n      pendingDonorDonation.map(Donation => {\r\n\r\n        return (\r\n          <Card title={Donation.donorName} extra={moment(Donation.postTime).format(\"HH:mm ll\")} size=\"small\" style={{ width: 250 }}\r\n\r\n          >\r\n            <p>{Donation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    const OrganisationList = Organisations.length ? (\r\n      Organisations.map(Organisation => {\r\n        return (\r\n\r\n          <Card title={<div> {\r\n            <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${Organisation._id}`}>\r\n            <Avatar\r\n              src={Organisation.avatar}\r\n              alt=\"Han Solo\"\r\n            />\r\n            </Link>\r\n          } <a>{Organisation.name}</a> </div>} extra={<p>People fed {Organisation?.noFed}</p>} style={{ width: 700, margin: '8px' }}>\r\n            <p><PhoneOutlined /> : {Organisation.contact} <HomeOutlined /> : {Organisation.address} </p>\r\n\r\n            <p>{Organisation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Organisation are currently there!</div>\r\n      )\r\n\r\n    const EventList = Events.length ? (\r\n      Events.map(Event => {\r\n        return (\r\n          <Card title={Event.title} style={{ width: 700, margin: '8px' }}>\r\n            <p>{Event.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Events are currently there!</div>\r\n      )\r\n\r\n    const componentsSwitch = (key) => {\r\n      switch (key) {\r\n        case '1':\r\n          return (DonationList);\r\n        case '2':\r\n          return (OrganisationList);\r\n        case '3':\r\n          return (EventList);\r\n        default:\r\n          return (DonationList);\r\n      }\r\n    }\r\n\r\n    const onclick = (key) => {\r\n      this.setState(\r\n        {\r\n          selectedMenuItem: key,\r\n        }\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Layout>\r\n        <Sider width={280} className=\"site-layout-background\"\r\n          style={{\r\n            overflow: 'auto',\r\n            height: '100vh',\r\n            position: 'fixed',\r\n            left: 0,\r\n            marginTop: '64px',\r\n          }} >\r\n          <Menu\r\n            mode=\"inline\"\r\n            defaultSelectedKeys={['1']}\r\n            defaultOpenKeys={['1']}\r\n            style={{ height: '100%', borderRight: 0 }}\r\n            onClick={(e) => onclick(e.key)} >\r\n            <SubMenu key=\"1\" title=\"Donations\" onTitleClick={(e) => onclick(e.key)} style={{ fontSize: '16px' }}>\r\n              <div style={{ \"padding\": \"auto\" }}>\r\n                <Checkbox.Group options={plainOptions} onChange={onChange} />\r\n              </div>\r\n            </SubMenu>\r\n            <Menu.Item key=\"2\">Nearby Organisations</Menu.Item>\r\n            <Menu.Item key=\"3\">Nearby Events/Activities</Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n\r\n        <Layout style={{ marginLeft: '280px', marginTop: '64px' }}>\r\n          <Content className=\"site-layout-background\"\r\n            style={{\r\n              paddingLeft: 120,\r\n              minHeight: 280,\r\n            }}>\r\n            {componentsSwitch(selectedMenuItem)}\r\n          </Content>\r\n          <Sider width={300} style={{ padding: \"25px\" }}>\r\n            <div style={{ fontWeight: \"bolder\", paddingBottom: \"15px\", fontSize: \"medium\" }}>Pending Donations</div>\r\n            <div>\r\n              {this.props.userType.localeCompare('donor') === 0 ? pendingDonorDonationList : pendingDonationList}\r\n            </div>\r\n          </Sider>\r\n\r\n        </Layout>\r\n\r\n        <Modal\r\n          visible={visible}\r\n          title=\"Accept Donation\"\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.handleCancel}>\r\n              Say Thanks\r\n              </Button>,\r\n            <Button\r\n              key=\"submit\"\r\n              type=\"primary\"\r\n              loading={loading}\r\n              onClick={this.handleOk}\r\n            >\r\n              Share Donation\r\n              </Button>\r\n          ]}\r\n        >\r\n          <b> Enter No of people will be fed from this donation ?</b>\r\n          <Input placeholder=\"Input Number Here\" />\r\n          <b> Rate the User</b>\r\n          <Input placeholder=\"Rate Between 1 to 5\" />\r\n        </Modal>\r\n\r\n\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n  const checkvisibilty = (donation) => {\r\n    //console.log(donation.status.localeCompare(\"NotAccepted\") === 0 )\r\n    return donation.status.localeCompare(\"NotAccepted\") === 0\r\n  }\r\n  const pendingdonations = (donation) => {\r\n    const userId = state.authReducer.user.userId\r\n    //console.log(userId)\r\n    //console.log(donation.status.localeCompare(\"pending\") === 0 )\r\n    return (donation.status.localeCompare(\"pending\") == 0 && donation.receiverId == userId)\r\n  }\r\n  const pendingdonordonations = (donation) => {\r\n    const userId = state.authReducer.user.userId\r\n    //console.log(userId)\r\n    //console.log(donation.status.localeCompare(\"pending\") === 0 )\r\n    return (donation.status.localeCompare(\"pending\") == 0 && donation.donorId == userId)\r\n  }\r\n\r\n  return {\r\n    pendingDonorDonation: state.DiscoverReducer.Donations.filter(pendingdonordonations),\r\n    userType: state.authReducer.user.userType,\r\n    currentfilter: state.DiscoverReducer.currentfilter,\r\n    Donations: state.DiscoverReducer.Donations.filter(checkvisibilty),\r\n    pendingDonations: state.DiscoverReducer.Donations.filter(pendingdonations),\r\n    Organisations: state.DiscoverReducer.Organisations,\r\n    Events: state.DiscoverReducer.Events\r\n  };\r\n\r\n};\r\nconst mapDispatchToProps = (dispatch, getState) => ({\r\n  getOrganisation: bindActionCreators(getOrganisation,dispatch),\r\n  acceptdonation: bindActionCreators(acceptdonation,dispatch),\r\n  changeFilters: bindActionCreators(changeFilters, dispatch),\r\n  pendingDonation: bindActionCreators(pendingDonation, dispatch),\r\n  rejectDonation: bindActionCreators(rejectDonation, dispatch),\r\n  getDonation: bindActionCreators(getDonation, dispatch),\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(Discover);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivateRoute = ({ component: Component, auth, my, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            auth.isAuthenticated === true ? my === true ? <Component key=\"my\" {...props} /> :\r\n                <Component key={Math.random()} {...props} />\r\n                : (\r\n                    <Redirect to=\"/login\" />\r\n                )\r\n        }\r\n    />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"./action\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Form, Input, Button, notification, Upload, message, Radio } from 'antd';\r\nimport { MailOutlined, LockOutlined, UserOutlined, PhoneOutlined, UploadOutlined, CompassOutlined } from '@ant-design/icons';\r\nimport MapComp from \"../MapComp\";\r\nimport axios from \"axios\"\r\nimport Modal from \"antd/lib/modal/Modal\";\r\n\r\n// import \r\n\r\nconst props = {\r\n    name: 'file',\r\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n    headers: {\r\n        authorization: 'authorization-text',\r\n    },\r\n    onChange(info) {\r\n        if (info.file.status !== 'uploading') {\r\n            console.log(info.file, info.fileList);\r\n        }\r\n        if (info.file.status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully`);\r\n        } else if (info.file.status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n        }\r\n    },\r\n};\r\n\r\n\r\nclass Register extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            value: 1,\r\n            mapOpen: false,\r\n            latlng: null,\r\n            certificates: [],\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    onChange = e => {\r\n        console.log('radio checked', e.target.value);\r\n        this.setState({\r\n            value: e.target.value,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    openNotificationWithIcon = (type, message) => {\r\n        notification[type]({\r\n            message: message\r\n        });\r\n    };\r\n    onSubmit = async values => {\r\n        console.log(values)\r\n        if (values.password != values.password2)\r\n            this.openNotificationWithIcon('warning', 'Passwords are not matching')\r\n        else if (!this.state.latlng)\r\n            this.openNotificationWithIcon('warning', 'Please enter your location')\r\n        else if (values.userType == \"organisation\" && this.state.certificates.length == 0) {\r\n            this.openNotificationWithIcon('warning', 'Please upload the certificates')\r\n        }\r\n        else {\r\n            console.log(\"everythhing okay\", { ...values, location: this.state.latlng })\r\n            console.log(this.state.certificates, values.userType)\r\n            this.setState({\r\n                loading: true\r\n            })\r\n            await this.props.registerUser({ ...values, certificates: this.state.certificates, location: { type: \"Point\", coordinates: [this.state.latlng.lng, this.state.latlng.lat] } }, this.props.history);\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        }\r\n\r\n    };\r\n\r\n    saveLatLng = (latlng) => {\r\n        this.setState({\r\n            latlng: latlng\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const radioStyle = {\r\n            display: 'block',\r\n            height: '30px',\r\n            lineHeight: '30px',\r\n        };\r\n\r\n        const { errors, value } = this.state;\r\n\r\n        return (\r\n            <div style={{ paddingTop: \"20px\", height: \"100vh\", display: \"flex\", justifyContent: \"center\" }}>\r\n                <Form\r\n                    layout=\"vertical\"\r\n                    style={{\r\n                        width: \"500px\"\r\n                    }}\r\n                    onFinish={this.onSubmit}\r\n                >\r\n                    <Form.Item\r\n                        label=\"Name\"\r\n                        name=\"name\"\r\n                        rules={[{ required: true, message: 'Please input your name!' }]}\r\n                    >\r\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[{\r\n                            type: 'email',\r\n                            message: 'The input is not valid E-mail!',\r\n                        }, { required: true, message: 'Please input your email!' }]}\r\n                    >\r\n                        <Input prefix={<MailOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"Confirm Password\"\r\n                        name=\"password2\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Input placeholder=\"Location\" disabled value={this.state.latlng ? this.state.latlng.lat + \" , \" + this.state.latlng.lng : \"\"} style={{ width: 300, marginBottom: \"10px\" }} />\r\n\r\n                    <Button onClick={() => this.setState({ mapOpen: true })} icon={<CompassOutlined />} /> <br />\r\n                    <Form.Item\r\n                        label=\"Contact\"\r\n                        name=\"contact\"\r\n\r\n                        rules={[{ required: true, message: 'Please input your contact!' }]}\r\n                    >\r\n                        <Input prefix={<PhoneOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Address\"\r\n                        name=\"address\"\r\n\r\n                        rules={[{ required: true, message: 'Please input your address!' }]}\r\n                    >\r\n                        <Input.TextArea />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Description\"\r\n                        name=\"description\"\r\n\r\n                        rules={[{ required: true, message: 'Please input a brief description!' }]}\r\n                    >\r\n                        <Input.TextArea />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Choose User type\"\r\n                        name=\"userType\"\r\n\r\n                        rules={[{ required: true, message: 'Please Choose user type' }]}\r\n                    >\r\n                        <Radio.Group onChange={this.onChange} value={value}>\r\n                            <Radio style={radioStyle} value={\"donor\"}>\r\n                                Donor\r\n                            </Radio>\r\n                            <Radio style={radioStyle} value={\"organisation\"}>\r\n                                Organisation\r\n                            <br />\r\n                                {value === \"organisation\"\r\n                                    ? <div style={{ marginLeft: 25 }}>\r\n\r\n                                        <Upload multiple={false} name=\"file\" accept=\"application/pdf\"\r\n                                            customRequest={async ({ file, onSuccess, onError }) => {\r\n                                                let formData = new FormData()\r\n                                                formData.append('file', file)\r\n                                                await axios.post('/upload/certificates', formData).then(res => {\r\n                                                    this.setState({ certificates: [...this.state.certificates, res.data.location] })\r\n                                                    onSuccess(res.data)\r\n                                                }).catch(err => {\r\n                                                    console.log(\"error in uploading\");\r\n                                                    onError(\"Error in uploading. Try again\")\r\n                                                }\r\n                                                )\r\n                                            }}\r\n\r\n                                            onRemove={(file) => {\r\n                                                let removedLocation = file.response.location;\r\n                                                let newCertificates = this.state.certificates.filter(certificate => certificate != removedLocation)\r\n                                                this.setState({ certificates: newCertificates })\r\n                                            }}\r\n\r\n                                        >\r\n                                            <p>Please upload Government issued certificate for your Organisation(in pdf format)</p>\r\n                                            <Button icon={<UploadOutlined />}>Upload certificates</Button>\r\n                                        </Upload>\r\n                                    </div>\r\n                                    : null}\r\n                            </Radio>\r\n                        </Radio.Group>\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Register\r\n                        </Button>\r\n                        {\" \"}Or <Link to=\"/login\">Login now!</Link>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Modal footer={[\r\n                    <Button onClick={() => this.setState({ mapOpen: false })}>\r\n                        Return\r\n            </Button>\r\n                ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n                    <MapComp saveLatLng={this.saveLatLng} />\r\n                </Modal>\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        )\r\n\r\n    }\r\n}\r\n\r\nRegister.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer,\r\n    errors: state.authReducer.errors\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    registerUser: bindActionCreators(registerUser, dispatch)\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(withRouter(Register));\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"./action\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Form, Input, Button } from 'antd';\r\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    onSubmit = async values => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        await this.props.loginUser(values);\r\n        this.setState({\r\n            loading: false\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n\r\n        return (\r\n            <div style={{ paddingTop: \"200px\", height: \"100vh\", display: \"flex\", justifyContent: \"center\" }}>\r\n                <Form\r\n                    layout=\"vertical\"\r\n                    style={{\r\n                        width: \"500px\"\r\n                    }}\r\n                    onFinish={this.onSubmit}\r\n                >\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[{\r\n                            type: 'email',\r\n                            message: 'The input is not valid E-mail!',\r\n                        }, { required: true, message: 'Please input your email!' }]}\r\n                    >\r\n                        <Input prefix={<MailOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button loading={this.state.loading} type=\"primary\" htmlType=\"submit\">\r\n                            Log in\r\n                        </Button>\r\n                        {\" \"}Or <Link to=\"/register\">Register now!</Link>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer,\r\n    errors: state.authReducer.errors\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    loginUser: bindActionCreators(loginUser, dispatch)\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button } from \"antd\";\r\n\r\nclass Landing extends Component {\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{ height: \"100vh\" }}>\r\n\r\n                <div style={{ marginTop: \"40vh\", display: \"flex\", justifyContent: \"center\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n\r\n                    <p>WELCOME</p>\r\n                    <div style={{ display: \"flex\" }}>\r\n                        <Button type=\"primary\"><Link to=\"/login\">LOGIN</Link></Button>\r\n                        <Button style={{ marginLeft: \"8px\" }}><Link to=\"/register\">REGISTER</Link></Button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer\r\n});\r\n\r\nexport default connect(mapStateToProps)(Landing)\r\n","import React from 'react'\r\n\r\nconst ComingSoon = () => {\r\n    return (\r\n        <div style={{ height: \"100vh\", paddingTop: \"40vh\", fontSize: \"30px\", textAlign: \"center\" }}>\r\n            Coming Soon!\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ComingSoon\r\n","import React from \"react\";\r\nimport moment from 'moment';\r\nimport { Comment, Tooltip, Avatar, Image } from 'antd';\r\n\r\nfunction MessageCard({ message, currentUser, you }) {\r\n    const { sender, time, body, type } = message\r\n    return (\r\n        <div style={{ width: '100%' , paddingLeft: '10px'}}>\r\n            <Comment\r\n                author={sender === you?._id ? you.name : currentUser.name}\r\n                avatar={\r\n                    <Avatar\r\n                        src={sender === you?._id ? you.avatar : currentUser.avatar}\r\n                        alt={sender === you?._id ? you.name : currentUser.name}\r\n                    />\r\n                }\r\n                content={\r\n                    type === \"image\" ?\r\n                        <Image\r\n                            width={200}\r\n                            src={body}\r\n                            alt=\"image\"\r\n                        />\r\n                        :\r\n                        <p>\r\n                            {body}\r\n                        </p>\r\n                }\r\n                datetime={\r\n                    <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                        <span>{moment(time).fromNow()}</span>\r\n                    </Tooltip>\r\n                }\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageCard;\r\n\r\n","import React, { Component } from 'react'\r\nimport { Form, Input, Button, Row, Col, Layout, List, Avatar, notification } from 'antd';\r\nimport { connect } from \"react-redux\";\r\nimport { getThreads, startThread, sendMessage, updateThread } from \"./actions\"\r\nimport MessageCard from \"./MessageCard\"\r\nimport Dropzone from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport { MessageOutlined, UploadOutlined, SendOutlined } from '@ant-design/icons';\r\nimport './styles.css'\r\nimport { bindActionCreators } from 'redux';\r\nimport LoadingScreen from '../LoadingScreen';\r\nconst { Content, Sider } = Layout;\r\n\r\nexport class Messagepage extends Component {\r\n    state = {\r\n        chatMessage: \"\",\r\n        currentThread: {},\r\n        currentUser: {},\r\n        you: {},\r\n        requiredUser: null,\r\n        loading: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n\r\n        if (this.props.location.state) {\r\n            console.log(\"from user\", this.props.location.state.user)\r\n            this.setState({ requiredUser: this.props.location.state.user })\r\n        }\r\n\r\n        await this.props.getThreads();\r\n        this.setState({\r\n            loading: false\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.messagesEnd)\r\n            this.messagesEnd.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n\r\n    openNotificationWithIcon = (type, message) => {\r\n        notification[type]({\r\n            message: message\r\n        });\r\n    };\r\n\r\n    hanleSearchChange = (e) => {\r\n        this.setState({\r\n            chatMessage: e.target.value\r\n        })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        console.log(\"nextProps\", nextProps)\r\n        const currentThreadId = this.state.currentThread?._id;\r\n        if (currentThreadId) {\r\n            const req = nextProps.threads.find(x => x._id == currentThreadId);\r\n            if (req)\r\n                this.setState({ currentThread: req })\r\n        }\r\n        else if (this.state.requiredUser) {\r\n\r\n\r\n            const req = nextProps.threads.find(thread => {\r\n                if (thread?.members.find(m => m._id == this.state.requiredUser)) {\r\n                    return true;\r\n                }\r\n\r\n                return false\r\n            })\r\n            if (req) {\r\n                const member = req.members.find(x => x._id != this.props.user.userId)\r\n                const you = req.members.find(x => x._id == this.props.user.userId)\r\n                console.log(\"okayy the required user\", req)\r\n                this.setState({ currentThread: req, requiredUser: null, currentUser: member, you: you })\r\n            } else {\r\n                console.log(\"not there, maybe new user\")\r\n                this.props.startThread(this.state.requiredUser)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    renderCards = () => {\r\n        return (\r\n            this.state.currentThread.messages\r\n            && this.state.currentThread.messages.map((message) => (\r\n                <MessageCard\r\n                    key={message._id}\r\n                    message={message}\r\n                    currentUser={this.state.currentUser}\r\n                    you={this.state.you}\r\n                />\r\n            )))\r\n    }\r\n\r\n    onDrop = (files) => {\r\n        console.log(files)\r\n\r\n\r\n        let formData = new FormData;\r\n\r\n        const config = {\r\n            header: { 'content-type': 'multipart/form-data' }\r\n        }\r\n\r\n        formData.append(\"file\", files[0])\r\n\r\n        axios.post('upload/messages', formData, config)\r\n            .then(res => {\r\n                if (res.data.success) {\r\n                    let chatMessage = res.data.location;\r\n                    let receiverID = this.state.currentThread?._id;\r\n                    if (receiverID) {\r\n                        this.props.sendMessage(receiverID, chatMessage, \"image\")\r\n                    } else {\r\n                        this.openNotificationWithIcon(\"warning\", \"Please select a user to send the message\")\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    submitChatMessage = (e) => {\r\n        e.preventDefault();\r\n        let chatMessage = this.state.chatMessage\r\n        let receiverID = this.state.currentThread?._id;\r\n        if (receiverID) {\r\n            this.props.sendMessage(receiverID, chatMessage, \"text\")\r\n            this.setState({ chatMessage: \"\" })\r\n        } else {\r\n            this.openNotificationWithIcon(\"warning\", \"Please select a user to send the message\")\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment >\r\n                {this.state.loading ? <LoadingScreen /> :\r\n                    <Layout style={{ paddingTop: \"64px\", paddingLeft: \"24px\" }}>\r\n                        <Layout style={{}}>\r\n\r\n                            <Sider width={300}  className=\"site-layout-background\">\r\n                                <List\r\n                                    style={{paddingLeft: \"10px\"}}\r\n                                    itemLayout=\"horizontal\"\r\n                                    dataSource={this.props.threads}\r\n                                    renderItem={item => {\r\n                                        const member = item.members.find(x => x._id != this.props.user.userId)\r\n                                        const you = item.members.find(x => x._id == this.props.user.userId)\r\n                                        return (\r\n                                            <List.Item key={item._id} onClick={() => this.setState({ currentThread: item, currentUser: member, you: you })}>\r\n                                                <List.Item.Meta\r\n                                                    avatar={<Avatar src={member.avatar} />}\r\n                                                    title={member.name}\r\n                                                    description={item.messages.length ? item.messages[item.messages.length - 1].type == \"text\" ? item.messages[item.messages.length - 1].body : \"Image\" : \"\"}\r\n                                                //OR LAST MESSAGE\r\n                                                />\r\n                                            </List.Item>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Sider>\r\n                            <Layout style={{ padding: \"0 24px 24px\" }}>\r\n                                <Content\r\n                                    style={{\r\n                                        //padding: 24,\r\n                                        margin: 0,\r\n                                    }}\r\n                                >\r\n                                    <div class=\"site-layout-background\" style={{ paddingLeft: '0px', maxWidth: '860px' }}>\r\n                                        <div className=\"infinite-container\" style={{ height: '570px', overflowY: 'scroll' }}>\r\n                                            {this.state.currentThread && (\r\n                                                this.renderCards()\r\n                                            )}\r\n                                            <div\r\n                                                ref={el => {\r\n                                                    this.messagesEnd = el;\r\n                                                }}\r\n                                                style={{ float: \"left\", clear: \"both\", paddingLeft: '30px' }}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <Row gutter={12}>\r\n                                            <Form style={{ width: \"100%\", marginTop: \"10px\", marginBottom: '12px', marginLeft: '10px' }} layout=\"inline\" onSubmit={this.submitChatMessage}>\r\n                                                <Col span={18}>\r\n                                                    <Input\r\n                                                        id=\"message\"\r\n                                                        prefix={<MessageOutlined />\r\n                                                            // <Icon type=\"message\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n                                                        }\r\n                                                        placeholder=\"Let's start talking\"\r\n                                                        type=\"text\"\r\n                                                        value={this.state.chatMessage}\r\n                                                        onChange={this.hanleSearchChange}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={2}>\r\n                                                    <Dropzone onDrop={this.onDrop}>\r\n                                                        {({ getRootProps, getInputProps }) => (\r\n                                                            <section>\r\n                                                                <div {...getRootProps()}>\r\n                                                                    <input {...getInputProps()} />\r\n                                                                    <Button  style={{ width: '100%' }}>\r\n                                                                        <UploadOutlined />\r\n                                                                    </Button>\r\n                                                                </div>\r\n                                                            </section>\r\n                                                        )}\r\n                                                    </Dropzone>\r\n                                                </Col>\r\n\r\n                                                <Col span={3}>\r\n                                                    <Button type=\"primary\" style={{ width: '100%' }} onClick={this.submitChatMessage} htmlType=\"submit\">\r\n                                                        {/* <Icon type=\"enter\" /> */}\r\n                                                        <SendOutlined />\r\n                                                    </Button>\r\n                                                </Col>\r\n                                            </Form>\r\n                                        </Row>\r\n                                    </div>\r\n                                </Content>\r\n                            </Layout>\r\n                        </Layout>\r\n                    </Layout>\r\n                }\r\n\r\n\r\n\r\n            </React.Fragment >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        threads: state.messageReducer.threads,\r\n        user: state.authReducer.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    getThreads: bindActionCreators(getThreads, dispatch),\r\n    startThread: bindActionCreators(startThread, dispatch),\r\n    sendMessage: bindActionCreators(sendMessage, dispatch),\r\n    updateThread: bindActionCreators(updateThread, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Messagepage);\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Switch as RouterSwitch } from \"react-router-dom\";\r\nimport 'antd/dist/antd.css';\r\n\r\n//IMPORT COMPONENTS\r\nimport Home from \"./components/Home\";\r\nimport Navbar from './components/Navbar';\r\nimport Profile from './components/Profile';\r\nimport Discover from './components/Discover';\r\nimport { Layout, Button, notification } from 'antd';\r\nimport { useThemeSwitcher } from 'react-css-theme-switcher';\r\n\r\nimport { FireFilled } from \"@ant-design/icons\"\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\"\r\n\r\nimport PrivateRoute from \"./components/Auth/PrivateRoute\"\r\n\r\nimport Register from \"./components/Auth/Register\"\r\nimport Login from \"./components/Auth/Login\"\r\nimport Landing from \"./components/Landing\"\r\n\r\nimport { setCurrentUser, logoutUser, clearErrors } from './components/Auth/action';\r\nimport { store } from \"./store\"\r\nimport ComingSoon from './components/ComingSoon';\r\nimport Messages from './components/messages';\r\nimport { startConnection } from './utils/common';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\n\r\n\r\n// Check for token to keep user logged in\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(token);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n  console.log(\"the main guyYYY\")\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000; // to get in milliseconds\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n\r\n    // Redirect to login\r\n    window.location.href = \"./login\";\r\n  }\r\n\r\n\r\n  //START SOCKET HERE..................\r\n\r\n  startConnection()\r\n\r\n\r\n}\r\n\r\nconst App = (props) => {\r\n\r\n  const [isDarkMode, setIsDarkMode] = React.useState();\r\n  const { switcher, status, themes } = useThemeSwitcher();\r\n\r\n  const toggleTheme = (isChecked) => {\r\n    setIsDarkMode(isChecked);\r\n    switcher({ theme: isChecked ? themes.dark : themes.light });\r\n  };\r\n\r\n  const openNotificationWithIcon = (type, message) => {\r\n    notification[type]({\r\n      message: message\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.errors?.message) {\r\n      openNotificationWithIcon(\"error\", props.errors.message)\r\n      props.clearErrors()\r\n    }\r\n  }, [props.errors])\r\n\r\n\r\n  // Avoid theme change flicker\r\n  if (status === \"loading\") {\r\n    return null;\r\n  }\r\n\r\n\r\n  return (\r\n    <Layout>\r\n      <Navbar />\r\n\r\n      <RouterSwitch>\r\n        <Route exact path='/' component={Landing} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n\r\n        <RouterSwitch>\r\n          <PrivateRoute exact path='/home' component={Home} />\r\n          <PrivateRoute exact path='/i/profile/:id' component={Profile} my={true} />\r\n          <PrivateRoute exact path='/profile/:id' component={Profile} />\r\n          <PrivateRoute exact path=\"/discover\" component={Discover} />\r\n          <PrivateRoute exact path=\"/messages\" component={Messages} />\r\n          <Route path=\"/\" component={ComingSoon} />\r\n        </RouterSwitch>\r\n        {/* <Route path='/discover' component={Discover} /> */}\r\n        {/*Put remaining routes here*/}\r\n      </RouterSwitch>\r\n\r\n      <Button shape=\"circle\" size=\"large\" icon={\r\n        // <FireTwoTone twoToneColor={isDarkMode?\"yellow\":\"black\"} \r\n        <FireFilled style={isDarkMode ? { \"color\": \"#F0C315\" } : { \"color\": \"#444\" }} />} style={{ \"position\": \"fixed\", \"right\": \"16px\", \"bottom\": \"16px\" }} onClick={() => toggleTheme(!isDarkMode)}></Button>\r\n\r\n    </Layout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  errors: state.authReducer.errors\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearErrors: bindActionCreators(clearErrors, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { store, persistor } from \"./store\"\r\n\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nimport { ThemeSwitcherProvider } from \"react-css-theme-switcher\";\r\n\r\nconst themes = {\r\n  dark: `${process.env.PUBLIC_URL}/dark-theme.css`,\r\n  light: `${process.env.PUBLIC_URL}/light-theme.css`,\r\n};\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <PersistGate persistor={persistor}>\r\n        {/* <React.StrictMode> */}\r\n        <ThemeSwitcherProvider themeMap={themes} defaultTheme=\"light\">\r\n          <App />\r\n        </ThemeSwitcherProvider>\r\n        {/* </React.StrictMode> */}\r\n      </PersistGate>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}