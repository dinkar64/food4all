{"version":3,"sources":["components/Home/constants.js","components/Home/action.js","components/Navbar/constants.js","components/Navbar/actions.js","components/LeftSidePanel/constants.js","components/LeftSidePanel/action.js","components/LeftSidePanel/index.js","components/HomeCenter/action.js","components/PostModal/action.js","components/Profile/constants.js","components/Profile/action.js","components/PostModal/index.js","components/Comments/action.js","components/Comments/index.js","components/LoadingScreen/index.js","components/HomeCenter/index.js","components/Home/index.js","utils/common.js","utils/setAuthToken.js","components/Auth/constants.js","components/messages/constants.js","components/messages/actions.js","components/Home/reducer.js","components/Navbar/reducer.js","components/Auth/reducer.js","components/HomeCenter/reducer.js","components/LeftSidePanel/reducer.js","components/Discover/constants.js","components/Discover/reducer.js","components/ListModal/constants.js","components/ListModal/reducer.js","components/Profile/reducer.js","components/messages/reducer.js","store.js","components/Auth/action.js","components/MapComp/index.js","components/DonateModal/action.js","components/DonateModal/index.js","components/Navbar/index.js","components/Profile/FollowersList/index.js","components/Profile/EditProfile/index.js","components/Profile/ProfilePic/index.js","components/Profile/index.js","components/Discover/action.js","components/Discover/index.js","components/Auth/PrivateRoute.js","components/Auth/Register.js","components/Auth/Login.js","components/Landing/index.js","components/ComingSoon/index.js","components/messages/MessageCard/index.js","components/messages/index.js","App.js","serviceWorker.js","index.js"],"names":["ACTION","getSomeData","data","dispatch","a","axios","get","type","payload","setCurrentRoute","route","getLeftDetails","res","response","changeFilters","selectedfilters","Sider","Layout","SubMenu","Menu","LeftSidePanel","this","props","profileDetails","following","followers","achievements","donations","name","avatar","followerList","length","map","follower","onClick","to","_id","Item","key","style","paddingLeft","marginBottom","size","src","backgroundColor","marginRight","followingList","donationList","donation","console","log","title","achievement","id","width","className","overflow","height","position","left","marginTop","mode","defaultOpenKeys","borderRight","paddingTop","fontSize","marginBlock","icon","UserOutlined","Group","options","label","value","onChange","checkedValues","Component","connect","state","LeftSidePanelReducer","bindActionCreators","getPost","posts","allcomments","avatars","changelike","post","addPost","comment","acceptdonation","addHistory","history","getProfile","getPendingDonations","getState","userId","authReducer","user","checkvisibilty","status","localeCompare","receiverId","DiscoverReducer","Donations","filter","changeTab","tab","uploadProfilePic","profilePic","followUser","unfollowUser","getFollowers","getFollowing","rejectDonation","editProfile","normFile","e","Array","isArray","fileList","PostModal","description","files","addpost","handleOk","dragger","imageUrl","image","location","author","likes","liked","noOfLikes","DateTime","moment","format","color","text","visible","maskClosable","destroyOnClose","onOk","onCancel","handleCancel","footer","form","htmlType","loading","layout","onFinish","rules","required","message","TextArea","placeholder","autoSize","minRows","maxRows","valuePropName","getValueFromEvent","noStyle","Dragger","multiple","customRequest","file","onSuccess","onError","formData","FormData","append","then","catch","err","InboxOutlined","addComment","content","Input","CommentList","comments","dataSource","header","itemLayout","renderItem","Editor","onSubmit","submitting","rows","Comments","handleSubmit","setState","setTimeout","datetime","fromNow","handleChange","target","postComments","alt","React","ownProps","HomeCenterReducer","postId","LoadingScreen","display","justifyContent","alignItems","LoadingOutlined","Content","HomeCenter","loadingComments","visibleComments","currentPostid","profilePageLoading","showModal","startModalComments","showModalComments","Modal","success","handleOkComments","handleCancelComments","incrementLike","postList","authorId","margin","extra","actions","LikeFilled","LikeOutlined","ShareAltOutlined","CommentOutlined","hoverable","GiftOutlined","undefined","imagelist","imageurl","EditOutlined","info","about","help","contact","socket","Home","someStateVariable","padding","right","fontWeight","item","Meta","marginLeft","bodyStyle","bordered","BulbOutlined","ShoppingCartOutlined","split","someData","homeReducer","setAuthToken","token","defaults","headers","common","getThreads","updateThread","thread","sendMessage","threadId","body","startThread","receiver","initialState","action","currentRoute","navReducer","isEmpty","require","isAuthenticated","errors","currentfilter","Post","find","p","Organisations","Events","organisations","d","users","ListReducer","suggestedPages","address","noFed","noDonations","Pending","currentTab","profileReducer","donorName","postTime","PendingDonation","donorname","Description","posttime","pending","threads","messageReducer","updatedThreads","x","persistConfig","storage","rootReducer","combineReducers","persistedReducer","persistReducer","store","createStore","compose","applyMiddleware","thunk","persistor","persistStore","startConnection","io","query","reconnection","on","registerUser","userData","push","loginUser","localStorage","setItem","decoded","jwt_decode","setCurrentUser","logoutUser","removeItem","clearErrors","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapComp","addMarker","markers","pop","latlng","saveLatLng","leafletMap","leafletElement","searchControl","ELG","addTo","results","LayerGroup","clearLayers","i","addLayer","marker","longitude","coords","latitude","Map","center","zoom","ref","m","TileLayer","attribution","url","Marker","Popup","idx","draggable","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","addDonation","formItemLayout","labelCol","span","wrapperCol","config","DonateModal","dateString","Date","disabledDate","current","endOf","mapOpen","onFieldsChange","changedFields","allFields","donorId","expiryTime","peopleFed","coordinates","lng","lat","images","gutter","disabled","CompassOutlined","centered","closable","Header","Search","Navbar","auth","zIndex","theme","selectedKeys","onSelect","HeartFilled","HomeOutlined","TrophyOutlined","UsergroupDeleteOutlined","BellOutlined","MessageOutlined","onSearch","LogoutOutlined","withRouter","FollowersList","EditProfile","initialValues","prefix","PhoneOutlined","ProfilePic","accept","listType","UploadOutlined","TabPane","Tabs","Profile","followersVisible","followingVisible","loadingAccept","visibleAccept","visibleEdit","visibleProfilePic","loadingEdit","clicked","followLoading","unfollowLoading","followListLoading","followingText","showModalAccept","handleOkAccept","handleCancelAccept","handleCancelProfilePic","showModalEdit","handleOkEdit","handleCancelEdit","callback","match","params","PendingDonations","Demo","timelinepost","dot","ClockCircleOutlined","textAlign","PendingDonationList","classname","CheckOutlined","CloseOutlined","href","minHeight","shape","flexDirection","float","f","onMouseOver","onMouseLeave","TeamOutlined","pathname","SendOutlined","paddingBottom","timelinePost","getOrganisation","getDonation","pendingDonation","Discover","selectedMenuItem","filters","pendingDonations","pendingDonorDonation","Donation","userType","addpending","filterDonations","sortBy","createdAt","filteredDonation","DonationList","pendingDonationList","pendingDonorDonationList","OrganisationList","Organisation","EventList","Event","onclick","defaultSelectedKeys","onTitleClick","componentsSwitch","component","my","rest","render","Math","random","Register","openNotificationWithIcon","notification","values","password","password2","certificates","nextProps","radioStyle","lineHeight","MailOutlined","Password","LockOutlined","onRemove","removedLocation","newCertificates","certificate","Login","Landing","ComingSoon","MessageCard","currentUser","you","sender","time","Messagepage","chatMessage","currentThread","requiredUser","hanleSearchChange","renderCards","messages","onDrop","receiverID","submitChatMessage","preventDefault","messagesEnd","scrollIntoView","behavior","currentThreadId","req","members","member","Fragment","class","maxWidth","overflowY","el","clear","getRootProps","getInputProps","jwtToken","currentTime","now","exp","window","useState","isDarkMode","setIsDarkMode","useThemeSwitcher","switcher","themes","useEffect","exact","path","Messages","FireFilled","isChecked","dark","light","Boolean","hostname","process","ReactDOM","themeMap","defaultTheme","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.dff18e28.chunk.js","sourcesContent":["export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n\r\n};","import { ACTION } from \"./constants\";\r\nimport axios from \"axios\";\r\n\r\nexport const getSomeData = (data) => async (dispatch) => {\r\n    await axios.get(\"/some-api-route\");\r\n    dispatch({\r\n        type: ACTION.GET_SOME_DATA,\r\n        payload: data,\r\n    });\r\n};\r\n","export const ACTION = {\r\n    SET_CURRENT_ROUTE: \"SET_CURRENT_ROUTE\",\r\n};","import { ACTION } from \"./constants\";\r\n\r\nexport const setCurrentRoute = (route) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.SET_CURRENT_ROUTE,\r\n        payload: route,\r\n    });\r\n};\r\n","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n    GET_LEFT_DETAILS: 'GET_LEFT_DETAILS'\r\n};","import { ACTION } from './constants';\r\nimport axios from \"axios\";\r\n\r\nexport const getLeftDetails = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get('/api/users/left-details')\r\n        dispatch({\r\n            type: ACTION.GET_LEFT_DETAILS,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport '../../index.css';\r\nimport { Layout, Menu, Checkbox, Avatar, Space } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport { changeFilters, getLeftDetails } from './action'\r\n\r\n\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nclass LeftSidePanel extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getLeftDetails();\r\n    }\r\n    render() {\r\n        const { following, followers, achievements, donations, name, avatar } = this.props.profileDetails\r\n        const plainOptions = [\r\n            { label: 'Donations', value: 'Donations' },\r\n            { label: 'Events', value: 'Events' },\r\n            { label: 'Posts', value: 'Posts' },\r\n        ];\r\n        const onChange = (checkedValues) => {\r\n            this.props.changeFilters(checkedValues)\r\n        }\r\n\r\n        const followerList = followers.length ? (\r\n            followers.map(follower => {\r\n                return (\r\n                    <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${follower._id}`}>\r\n                        <Menu.Item key={follower._id} style={{ paddingLeft: \"36px\", marginBottom: \"10px\" }}>\r\n                            <Avatar size={25}\r\n                                src={follower.avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                    marginRight: \"4px\"\r\n                                }}\r\n                            //-------------Upload profile pic here---------------\r\n                            // icon={<UserOutlined />}\r\n                            />\r\n                            {follower.name}</Menu.Item>\r\n                    </Link>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key='1' > No followers yet! </Menu.Item>\r\n            )\r\n\r\n        const followingList = following.length ? (\r\n            following.map(follower => {\r\n                return (\r\n                    <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${follower._id}`}>\r\n                        <Menu.Item key={follower._id} style={{ paddingLeft: \"36px\", marginBottom: \"10px\" }}>\r\n                            <Avatar size={25}\r\n                                src={follower.avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                    marginRight: \"4px\"\r\n                                }}\r\n                            //-------------Upload profile pic here---------------\r\n                            // icon={<UserOutlined />}\r\n                            />\r\n                            {follower.name}</Menu.Item>\r\n                    </Link>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key='1' > You are not following anyone! </Menu.Item>\r\n            )\r\n\r\n        const donationList = donations?.length ? (\r\n            donations.map(donation => {\r\n                console.log('inside the donation list', donation)\r\n                return (\r\n                    <Menu.Item key={donation._id}>{donation.title}</Menu.Item>\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key=\"1\"> No donations yet! </Menu.Item>\r\n            )\r\n\r\n\r\n        const achievementList = achievements?.length ? (\r\n            achievements.map(achievement => {\r\n                return (\r\n                    <Menu.Item key={achievement.id}>\r\n                        {achievement.title}</Menu.Item>\r\n                )\r\n            }))\r\n            : (\r\n                <Menu.Item key=\"1\"> No achievements yet! </Menu.Item>\r\n            )\r\n\r\n\r\n\r\n        return (\r\n\r\n            <Sider width={280} className=\"site-layout-background\"\r\n                style={{\r\n                    overflow: 'auto',\r\n                    height: '100vh',\r\n                    position: 'fixed',\r\n                    left: 0,\r\n                    marginTop: '40px',\r\n                }}\r\n            >\r\n                <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['sub5']}\r\n                    style={{ height: '100%', borderRight: 0, paddingTop: '40px' }}\r\n                >\r\n\r\n                    <Menu.Item key=\"Sub1\" style={{ fontSize: '16px', marginBlock: '10px' }}>\r\n                        <Link to={`/profile/${this.props.profileDetails._id}`}>\r\n                        </Link>\r\n                        <Space>\r\n                            <Avatar size={36}\r\n                                src={avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                }}\r\n                                //-------------Upload profile pic here---------------\r\n                                icon={<UserOutlined />}\r\n                            />\r\n                            {name}\r\n                        </Space>\r\n                    </Menu.Item>\r\n\r\n                    <SubMenu key=\"sub2\" title=\"Followers\" style={{ fontSize: '16px' }}>\r\n                        {followerList}\r\n                    </SubMenu>\r\n\r\n                    <SubMenu key=\"sub3\" title=\"Following\" style={{ fontSize: '16px' }}>\r\n                        {followingList}\r\n                    </SubMenu>\r\n\r\n                    <SubMenu key=\"sub4\" title=\"Recent Donations\" style={{ fontSize: '16px' }}>\r\n                        {donationList}\r\n                    </SubMenu>\r\n\r\n                    {/* <SubMenu key=\"sub5\" title=\"Recent Acheivements\" style={{ fontSize: '16px' }}>\r\n                        {achievementList}\r\n                    </SubMenu> */}\r\n\r\n                    <SubMenu key=\"sub6\" title=\"Filters\" style={{ fontSize: '16px' }}>\r\n                        <div style={{ \"padding\": \"auto\" }}>\r\n                            <Checkbox.Group options={plainOptions} onChange={onChange} />\r\n                        </div>\r\n                    </SubMenu>\r\n                </Menu>\r\n            </Sider>\r\n\r\n\r\n        )\r\n    }\r\n}\r\nconst mapStatetoProps = state => {\r\n    return {\r\n        profileDetails: state.LeftSidePanelReducer.profileDetails,\r\n    };\r\n\r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n    changeFilters: bindActionCreators(changeFilters, dispatch),\r\n    getLeftDetails: bindActionCreators(getLeftDetails, dispatch),\r\n    setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(LeftSidePanel);\r\n\r\n","import axios from \"axios\"\r\n\r\nexport const getPost = () => async (dispatch) => {\r\n    const res = await axios.get('/api/posts/');\r\n    dispatch({\r\n        type:'GET_POST',\r\n        payload: res.data.posts,\r\n        allcomments: res.data.allcomments,\r\n        avatars: res.data.avatars\r\n    })\r\n}\r\nexport const changelike = (id,value) => async (dispatch) => {\r\n    value? (await axios.post('/api/posts/like', {id:id,value:-1})):(await axios.post('/api/posts/like', {id:id,value:1}));\r\n    dispatch({\r\n        type: 'CHANGE_LIKE',\r\n        id:id,\r\n        value:value\r\n    });\r\n};\r\n","import axios from \"axios\"\r\n\r\nexport const addPost = (post) => async (dispatch) => {\r\n    const res = await axios.post(\"/api/posts/create\", { post });\r\n    dispatch({\r\n        type: 'ADD_POST',\r\n        post: res.data.post,\r\n        comment:res.data.comment\r\n    });\r\n};\r\n","export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n    GET_SUGGESTED_PAGES: \"GET_SUGGESTED_PAGES\",\r\n    CHANGE_TAB: \"CHANGE_TAB\",\r\n    GET_PROFILE: \"GET_PROFILE\",\r\n    UPDATE_PROFILE_PIC: \"UPDATE_PROFILE_PIC\",\r\n    GET_FOLLOWERS: \"GET_FOLLOWERS\",\r\n    GET_FOLLOWING: \"GET_FOLLOWING\",\r\n    UPDATE_PROFILE: \"UPDATE_PROFILE\"\r\n};","import { ACTION } from \"./constants\";\r\nimport axios from \"axios\";\r\nexport const acceptdonation = (data) => async(dispatch) =>{\r\n    await axios.post('../../api/donation/accept', { _id: data._id })\r\n    dispatch({\r\n        type:'ACCEPT_DONATION',\r\n        payload:data\r\n    })\r\n}\r\nexport const getSomeData = (data) => async (dispatch) => {\r\n    await axios.get(\"/some-api-route\");\r\n    dispatch({\r\n        type: ACTION.GET_SOME_DATA,\r\n        payload: data,\r\n    });\r\n};\r\nexport const addHistory =(history) => async(dispatch) =>{\r\n    const res = await axios.post('/api/users/addhistory', { history: history })\r\n    dispatch({\r\n        type:'ADD_HISTORY',\r\n        payload: res.data \r\n    })\r\n}\r\nexport const getProfile = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/profile/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const getSuggestedPages = () => async (dispatch) => {\r\n    const res = await axios.get(\"/api/path/to/sugPage\");\r\n    dispatch({\r\n        type: ACTION.GET_SUGGESTED_PAGES,\r\n        payload: res.data\r\n    })\r\n}\r\nexport const getPendingDonations = () => async (dispatch, getState) => {\r\n    const userId = getState().authReducer.user.userId\r\n    const checkvisibilty = (donation) => {\r\n        return (donation.status.localeCompare(\"pending\") == 0 && donation.receiverId == userId)\r\n    }\r\n    const donations = getState().DiscoverReducer.Donations.filter(checkvisibilty);\r\n    dispatch({\r\n        type: 'GET_PENDING_DONATION',\r\n        payload: donations\r\n    })\r\n}\r\nexport const changeTab = tab => (dispatch) => {\r\n\r\n    // const res = await axios.get(`/api/route/${tab}`)\r\n    //MAKE ANOTHER DISPATCH TO UPDATE STATE\r\n\r\n    dispatch({\r\n        type: ACTION.CHANGE_TAB,\r\n        payload: tab\r\n    })\r\n}\r\n\r\nexport const uploadProfilePic = (profilePic, avatar) => (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.UPDATE_PROFILE_PIC,\r\n        payload: { profilePic, avatar }\r\n    })\r\n}\r\n\r\n\r\nexport const followUser = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/follow/${id}`);\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const unfollowUser = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/unfollow/${id}`);\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const getFollowers = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/followers/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_FOLLOWERS,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const getFollowing = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/following/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_FOLLOWING,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const rejectDonation = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.post('api/donation/reject', { _id: id })\r\n        console.log(res.data);\r\n        dispatch({\r\n            type: 'REJECT_DONATION',\r\n            id: id\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const editProfile = (user) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/users/edit-profile', { user });\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport moment from 'moment';\r\nimport axios from \"axios\"\r\n\r\nimport \"antd/dist/antd.css\";\r\nimport { Form, Upload, Input, Modal, Button } from \"antd\";\r\nimport { InboxOutlined, } from \"@ant-design/icons\";\r\nimport \"./styles.css\";\r\n\r\nimport { addPost } from './action';\r\nimport {addHistory} from '../Profile/action';\r\n\r\nconst normFile = e => {\r\n  console.log(\"Upload event:\", e);\r\n\r\n  if (Array.isArray(e)) {\r\n    return e;\r\n  }\r\n\r\n  return e && e.fileList;\r\n};\r\n\r\nclass PostModal extends Component {\r\n  state = {\r\n    user: this.props.name,\r\n    description: '',\r\n    files: []\r\n  }\r\n  addpost = (e) => {\r\n    this.props.handleOk()\r\n    const { dragger } = e;\r\n    const imageUrl = dragger?.map(image => image.response.location);\r\n\r\n    const post = {\r\n      author:this.state.user,\r\n      description: e.description,\r\n      likes: [],\r\n      liked: false,\r\n      noOfLikes: 0,\r\n      DateTime: moment().format(\"HH:mm ll\"),\r\n      imageUrl\r\n    };\r\n\r\n    this.props.addPost(post);\r\n    const history = {\r\n      color: 'blue',\r\n      icon: 'dot',\r\n      text: post.description + ' ( Posted on ' + post.DateTime + ' )'\r\n    };\r\n    this.props.addHistory(history);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Modal\r\n        visible={this.props.visible}\r\n        maskClosable={false}\r\n        destroyOnClose\r\n        title=\"Share your Thoughts\"\r\n        onOk={this.props.handleOk}\r\n        onCancel={this.props.handleCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={this.props.handleCancel}>\r\n            Return\r\n              </Button>,\r\n          <Button form=\"post-form\" key=\"submit\" type=\"primary\" htmlType=\"submit\" loading={this.props.loading}\r\n          //  onClick={this.addpost} \r\n          >\r\n            Post\r\n              </Button>,\r\n        ]}\r\n      >\r\n        <Form id=\"post-form\" name=\"validate_other\" layout={\"Vertical\"} onFinish={this.addpost} >\r\n          <Form.Item\r\n            name='description'\r\n            width={500}\r\n            rules={\r\n              [{\r\n                required: true, message: \"Please Enter Items details\"\r\n              }]\r\n            }\r\n          >\r\n            <Input.TextArea placeholder=\"Express your thoughts\"\r\n              autoSize={{ minRows: 2, maxRows: 6 }} />\r\n          </Form.Item>\r\n          <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n            <Upload.Dragger multiple={false} name=\"file\"\r\n              customRequest={async ({ file, onSuccess, onError }) => {\r\n                let formData = new FormData()\r\n                formData.append('file', file)\r\n                await axios.post('/upload/posts', formData).then(res => {\r\n                  onSuccess(res.data)\r\n                }).catch(err => { console.log(\"error in uploading\"); onError(\"Error in uploading.Try again\") })\r\n              }} >\r\n              <p className=\"ant-upload-drag-icon\">\r\n                <InboxOutlined />\r\n              </p>\r\n              <p className=\"ant-upload-text\">\r\n                Click or drag file to this area to upload\r\n                  </p>\r\n              <p className=\"ant-upload-hint\">\r\n                Support for a single or bulk upload.\r\n                  </p>\r\n            </Upload.Dragger>\r\n          </Form.Item>\r\n        </Form>\r\n\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\nconst mapStatetoProps = state => {\r\n  return {\r\n      name: state.LeftSidePanelReducer.profileDetails.name,\r\n  };\r\n  \r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory: bindActionCreators(addHistory,dispatch),\r\n  addPost: bindActionCreators(addPost, dispatch)\r\n})\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(PostModal);\r\n","import axios from 'axios';\r\nexport const addComment = (id,comment) => async (dispatch) => {\r\n    const postId = id;\r\n    await axios.post(`/api/comment/add/${id}`,{content:comment.content});\r\n\r\n     dispatch({\r\n         type: 'ADD_COMMENT',\r\n         id:id,\r\n         comment:comment\r\n     });\r\n };\r\n ","import React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport moment from 'moment';\r\nimport { Modal, Button } from 'antd';\r\nimport { Comment, Avatar, Form, List, Input } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { addComment } from './action'\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst CommentList = ({ comments }) => (\r\n  <List\r\n    dataSource={comments}\r\n    header={`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`}\r\n    itemLayout=\"horizontal\"\r\n    renderItem={props => <Comment {...props} />}\r\n  />\r\n);\r\n\r\nconst Editor = ({ onChange, onSubmit, submitting, value }) => (\r\n  <>\r\n    <Form.Item>\r\n      <TextArea rows={2} onChange={onChange} value={value} />\r\n    </Form.Item>\r\n    <Form.Item>\r\n      <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\">\r\n        Add Comment\r\n      </Button>\r\n    </Form.Item>\r\n  </>\r\n);\r\n\r\nclass Comments extends React.Component {\r\n  state = {\r\n    submitting: false,\r\n    value: '',\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    if (!this.state.value) {\r\n      return;\r\n    }\r\n    const value = this.state.value\r\n    this.setState({\r\n      submitting: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n\r\n      var comments = {\r\n        author: 'Arpit Bandjiya',\r\n        avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n        content: value,\r\n        datetime: moment().fromNow(),\r\n      }\r\n      this.props.addComment(this.props.id, comments)\r\n    }, 1000);\r\n\r\n    this.setState({\r\n      submitting: false,\r\n      value: '',\r\n\r\n    });\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    \r\n    if(this.props.id){\r\n      const { submitting, value } = this.state;\r\n      const { comments } = this.props.postComments[0];\r\n      return (\r\n        <>\r\n          <Modal\r\n            visible={this.props.visible}\r\n            title=\"Comments\"\r\n            onOk={this.props.handleOk}\r\n            onCancel={this.props.handleCancel}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                Return\r\n              </Button>,\r\n              <Button key=\"submit\" type=\"primary\" loading={this.props.loading} onClick={this.props.handleOk}>\r\n                DOne\r\n              </Button>,\r\n            ]}\r\n          >\r\n            {comments.length > 0 && <CommentList comments={comments} />}\r\n            <Comment\r\n              avatar={\r\n                <Avatar\r\n                  src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\r\n                  alt=\"Han Solo\"\r\n                />\r\n              }\r\n              content={\r\n                <Editor\r\n                  onChange={this.handleChange}\r\n                  onSubmit={this.handleSubmit}\r\n                  submitting={submitting}\r\n                  value={value}\r\n                />\r\n              }\r\n            />\r\n          </Modal>\r\n        </>\r\n      );\r\n    }\r\n    else\r\n        return null;\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { id } = ownProps\r\n  const allcomments = state.HomeCenterReducer.postComments;\r\n  return {\r\n    postComments: allcomments.filter((comment) => comment.postId === id)\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n  addComment: bindActionCreators(addComment, dispatch)\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Comments);","import React from 'react'\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nexport default function LoadingScreen() {\r\n    return (\r\n        <div style={{ width: \"100vw\", height: \"100vh\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", fontSize: \"50px\" }}>\r\n            <LoadingOutlined />\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport './styles.css';\r\nimport { Layout, Card, Space ,Image, Avatar } from 'antd';\r\nimport { CommentOutlined, LikeFilled, LikeOutlined, GiftOutlined, ShareAltOutlined, EditOutlined } from '@ant-design/icons';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Modal } from 'antd';\r\n\r\nimport { changelike, getPost } from './action';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport PostModal from '../PostModal';\r\nimport Comments from '../Comments';\r\nimport LoadingScreen from '../LoadingScreen';\r\n\r\nconst { Content } = Layout;\r\n\r\nclass HomeCenter extends Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        visible: false,\r\n        loadingComments: false,\r\n        visibleComments: false,\r\n        currentPostid: null,\r\n        profilePageLoading: false\r\n    }\r\n    async componentDidMount(){\r\n        this.setState({\r\n            profilePageLoading: true\r\n        })\r\n        await this.props.getPost();\r\n        this.setState({\r\n            profilePageLoading: false\r\n        })\r\n    }\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true\r\n        });\r\n    };\r\n    startModalComments = async (id) =>{\r\n        await this.setState({\r\n            currentPostid:id\r\n        });\r\n        this.setState({\r\n            visibleComments:true\r\n        })\r\n    }\r\n    showModalComments = () => {\r\n        this.setState({\r\n            visibleComments: true\r\n        });\r\n    };\r\n\r\n    handleOk = () => {\r\n        this.setState({ loading: true });\r\n        setTimeout(() => {\r\n            this.setState({ loading: false, visible: false });\r\n        }, 500);\r\n        Modal.success({\r\n            content: \"Post Shared\"\r\n        });\r\n    };\r\n\r\n    handleOkComments = () => {\r\n        this.setState({ loadingComments: true });\r\n        setTimeout(() => {\r\n            this.setState({ loadingComments: false, visibleComments: false });\r\n        }, 100);\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({ visible: false });\r\n    };\r\n\r\n    handleCancelComments = () => {\r\n        this.setState({ visibleComments: false });\r\n    };\r\n    incrementLike = (id,value) =>{\r\n        this.props.changelike(id,value)\r\n    }\r\n    render (){\r\n        \r\n        const { visible, loading , visibleComments, loadingComments} = this.state;\r\n        const { posts } = this.props;\r\n        const imageList = (imagelist) =>{\r\n            if(imagelist==undefined)\r\n                return(\r\n                    <div>No images!</div>\r\n                )\r\n            return imagelist.length? (imagelist.map(imageurl =>{\r\n                return (\r\n                    <Image\r\n                        width={100}\r\n                        height={100}\r\n                        alt=\"example\"\r\n                        src={imageurl}\r\n                        />\r\n                )\r\n            })\r\n                \r\n            ):(<div>No images!</div>)\r\n        }\r\n        const type = (liked) =>{\r\n            return liked? (<LikeFilled key=\"Like\" style={{margin:\"8px\"}} />):(<LikeOutlined key=\"Like\" style={{margin:\"8px\"}} />)\r\n        }\r\n        const postList = posts.length? (\r\n            posts.map(post =>{\r\n                return(\r\n                    <Card title={<Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${post.authorId._id}`}>\r\n                        <Avatar\r\n                          src={post.authorId.avatar}\r\n                          alt=\"Han Solo\"\r\n                          style={{margin:'8px'}}\r\n                        />\r\n                       {post.author}</Link>} extra={post.DateTime} style={{ width: 700 , margin:\"8px\"}} \r\n                      actions= {[\r\n                        <div onClick={(id) =>this.incrementLike(post._id,post.liked)} >{type(post.liked)}{post.noOfLikes}</div>,\r\n                        <div><ShareAltOutlined key=\"share\" style={{margin:\"8px\"}}/> </div>,\r\n                        <div><CommentOutlined hoverable={true} onClick={() =>this.startModalComments(post._id)} key=\"Comment\" style={{margin:\"8px\"}}/> </div>,\r\n                        <div><GiftOutlined key=\"Award\" style={{margin:\"8px\"}}/> </div>,\r\n                        ]} >\r\n                        <p>{post.description}</p>\r\n                        <Space>\r\n                        {imageList(post.imageUrl)}\r\n                        </Space>\r\n                    </Card>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <div> No post are here! </div>\r\n            )\r\n\r\n        return (\r\n            this.state.profilePageLoading ? <LoadingScreen /> :\r\n            <Content style={{ \"margin\": \"auto\" }}>\r\n                <Card style={{ width: 700, margin: \"8px\" }} hoverable={true} onClick={this.showModal} >\r\n                    <p className=\"cardtext\"> <EditOutlined /> Share something with the community</p>\r\n                </Card>\r\n                <PostModal handleCancel={this.handleCancel} handleOk={this.handleOk} showModal={this.showModal} visible={visible} loading={loading}/>    \r\n                <Comments id={this.state.currentPostid} handleCancel={this.handleCancelComments} handleOk={this.handleOkComments} showModal={this.showModalComments} visible={visibleComments} loading={loadingComments}/>\r\n                {postList}   \r\n            </Content>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => ({\r\n    posts: state.HomeCenterReducer.posts,\r\n    \r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    changelike: bindActionCreators(changelike, dispatch),\r\n    getPost: bindActionCreators(getPost,dispatch),\r\n    setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(HomeCenter);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport '../../index.css';\r\nimport { BulbOutlined, ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { Layout, List, Avatar, Card,Space, Typography, Divider, Button , Modal} from 'antd';\r\nimport \"./styles.css\";\r\n\r\nimport { getSomeData } from './action';\r\nimport LeftSidePanel from '../LeftSidePanel';\r\nimport HomeCenter from '../HomeCenter';\r\n\r\nconst { Sider } = Layout;\r\n\r\nfunction info() {\r\n    Modal.info({\r\n      title: 'Coming soon',\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\n  function about() {\r\n    Modal.info({\r\n      title: 'Food4all',\r\n      content: (\r\n        <div>\r\n          <p>A new community-led platform to highlight local food security programs and connect donors \r\n              to them, making the process convenient.\r\n          </p>\r\n        </div>\r\n      ),\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\n\r\n  function help() {\r\n    Modal.info({\r\n      title: 'Please refer to Documentation',\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\n  function contact() {\r\n    Modal.info({\r\n      title: 'Reach out to us at any of the below email address :',\r\n      content: (\r\n        <div>\r\n          <p>Dinkar     - cs18b010@iittp.ac.in</p>\r\n          <p>Arpit      - cs18b003@iittp.ac.in</p>\r\n          <p>Sudheesh    - cs18b020@iittp.ac.in</p>\r\n          <p>Shreyansh  - cs18b042@iittp.ac.in</p>\r\n        </div>\r\n      ),\r\n      onOk() {},\r\n    });\r\n  }\r\n\r\nclass Home extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            someStateVariable: \"hi\"\r\n        }\r\n    }\r\n     \r\n    render() {\r\n        return (\r\n                <Layout>\r\n                    <LeftSidePanel/>\r\n                    <Layout style={{ marginTop: '64px' }}>   \r\n                        <HomeCenter/>\r\n                    </Layout>  \r\n                    {\r\n                        //right hand side pane, needs to be made a seperate component\r\n                    } \r\n                    <Sider width={300} style={{ padding: \"25px\", marginTop: '48px', right : 0, position: 'fixed', height: '100vh' }}>\r\n                    <List\r\n                        itemLayout=\"horizontal\"\r\n                        header={\r\n                            <div style={{ fontWeight: \"bolder\", padding: \"5px\", fontSize: \"medium\" }}>\r\n                            Saved events\r\n                            </div>\r\n                        }\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                            <List.Item.Meta\r\n                            /*\r\n                                avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                                title={<a href=\"<add event url here\">{item.title}</a>}\r\n                                description=\"brief description\"\r\n                            */\r\n                            />\r\n                            </List.Item>\r\n                        )}\r\n                     />\r\n\r\n\r\n                     <div style={{marginTop:'20px'}}>\r\n\r\n                        <Card size=\"small\" style={{ width: 200 , marginLeft: 25}} bodyStyle={{color: '#97033e', fontWeight:'bold'}} bordered={false}\r\n                            actions={[\r\n                                <p onClick={info}><BulbOutlined hoverable={true} key=\"learnMoreAwards\" /> Learn more </p>,\r\n                                <p onClick={info}><ShoppingCartOutlined hoverable={true} key=\"buyAwards\" /> Buy now! </p>,\r\n                            ]}\r\n                            >\r\n                            <p>\r\n                                <Avatar.Group>\r\n                                <Avatar size=\"small\" src=\"https://www.clipartmax.com/png/small/119-1190442_shield-batch-star-safe-badge-sheriff-police-icon-badge.png\" />\r\n                                <Avatar size=\"large\" src=\"https://www.clipartmax.com/png/small/216-2160288_shield-badge-star-reward-award-honor-achievement-comments-sheriff-shield.png\" />\r\n                                <Avatar size={64} src=\"https://www.clipartmax.com/png/small/155-1553987_all-finishers-will-receive-a-custom-medal-award-icon.png\" />\r\n                                <Avatar size=\"large\" src=\"https://www.clipartmax.com/png/small/216-2160288_shield-badge-star-reward-award-honor-achievement-comments-sheriff-shield.png\" />\r\n                                <Avatar size=\"small\" src=\"https://www.clipartmax.com/png/small/119-1190442_shield-batch-star-safe-badge-sheriff-police-icon-badge.png\" />\r\n                                </Avatar.Group>\r\n                                NofoodWasted awards are the best way to show your appreciation for work of other users!</p>\r\n                        </Card>\r\n                     </div>\r\n\r\n                     <div style={{marginTop:'64px', marginLeft:0}}>\r\n                     <Space split={<Divider type=\"vertical\" style={{color: 'black', paddingLeft: '5px'}} />}>\r\n                        <Button onClick={about} type=\"link\">About</Button>\r\n                        <Button onClick={help} type=\"link\">Help</Button>\r\n                        <Button onClick={contact} type=\"link\">Contact us</Button>\r\n\r\n                    </Space>\r\n                    {\r\n                        //can add logo here\r\n                    }\r\n                    </div>\r\n                    </Sider>\t                    \r\n                </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    someData: state.homeReducer.someData\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    getSomeData: bindActionCreators(getSomeData, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import io from \"socket.io-client\";\r\nimport { updateThread } from \"../components/messages/actions\";\r\nimport { store } from \"../store\";\r\n// let server = \"http://localhost:8000\";\r\nlet server = \"/\"\r\n\r\nlet socket;\r\n\r\n\r\n\r\nexport const startConnection = () => {\r\n\r\n    console.log(\"someone wants to start connection\", socket)\r\n\r\n    if (socket) {\r\n        console.log(\"socket already there\")\r\n        return socket;\r\n    }\r\n\r\n    const user = store.getState().authReducer.user?.userId;\r\n\r\n    socket = io(server, {\r\n        query: `user=${user}`,\r\n        reconnection: true\r\n    });\r\n    socket.on(\"output_message\", thread => {\r\n        // this.props.updateThread(thread);\r\n        store.dispatch(updateThread(thread));\r\n        console.log(\"WOW... I got it\", thread)\r\n    })\r\n    return socket;\r\n\r\n}\r\n\r\nexport const getSocket = () => {\r\n    return socket;\r\n}\r\n\r\n\r\n","import axios from \"axios\";\r\n\r\nconst setAuthToken = token => {\r\n    if (token) {\r\n        // Apply authorization token to every request if logged in\r\n        axios.defaults.headers.common[\"Authorization\"] = token;\r\n    } else {\r\n        // Delete auth header\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n};\r\n\r\nexport default setAuthToken;\r\n","export const ACTION = {\r\n    GET_ERRORS: \"GET_ERRORS\",\r\n    USER_LOADING: \"USER_LOADING\",\r\n    SET_CURRENT_USER: \"SET_CURRENT_USER\",\r\n    CLEAR_ERRORS: \"CLEAR_ERRORS\"\r\n};","export const GET_CHATS = 'get_chat';\r\nexport const AFTER_POST_MESSAGE = 'after_post_message';\r\n\r\nexport const ACTION = {\r\n    GET_THREADS: \"GET_THREADS\",\r\n    UPDATE_THREAD: \"UPDATE_THREAD\"\r\n}","import axios from 'axios';\r\nimport { ACTION } from './constants';\r\n\r\nexport const getThreads = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get('/api/message/getThreads')\r\n        dispatch({\r\n            type: ACTION.GET_THREADS,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateThread = (thread) => dispatch => {\r\n    dispatch({\r\n        type: ACTION.UPDATE_THREAD,\r\n        payload: thread\r\n    })\r\n}\r\n\r\n\r\nexport const sendMessage = (threadId, body, type) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/message/send', {\r\n            threadId,\r\n            body,\r\n            type\r\n        })\r\n        dispatch({\r\n            type: ACTION.UPDATE_THREAD,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const startThread = (receiver) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/message/new-thread', {\r\n            receiver\r\n        })\r\n        dispatch({\r\n            type: ACTION.UPDATE_THREAD,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    someData: \"initilProp\"\r\n}\r\n\r\nconst homeReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default homeReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    currentRoute: \"home\"\r\n}\r\n\r\nconst navReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.SET_CURRENT_ROUTE: {\r\n            state = { ...state, currentRoute: action.payload }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default navReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst isEmpty = require(\"is-empty\");\r\n\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    loading: false,\r\n    errors: {}\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: !isEmpty(action.payload),\r\n                user: action.payload\r\n            };\r\n        case ACTION.USER_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case ACTION.GET_ERRORS:\r\n            return {\r\n                ...state,\r\n                errors: action.payload\r\n            };\r\n        case ACTION.CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                errors: {}\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...initialState\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { ACTION } from \"../Home/constants\";\r\n\r\nconst initialState = {\r\n    postComments: [],\r\n    posts: [],\r\n    currentfilter: []\r\n}\r\n\r\nconst HomeCenterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            return { ...state, someData: action.payload }\r\n        }\r\n        case 'GET_POST': {\r\n            state = { ...state, posts: action.payload, postComments: action.allcomments };\r\n            break;\r\n        }\r\n        case 'ADD_POST': {\r\n            let posts = [...state.posts, action.post]\r\n            let postComments = [...state.postComments, action.comment]\r\n            return {\r\n                ...state,\r\n                posts: posts,\r\n                postComments: postComments\r\n            }\r\n        }\r\n        case 'CHANGE_LIKE': {\r\n            let posts = [...state.posts];\r\n            let Post = posts.find((post) => { return post._id == action.id })\r\n            if (Post.liked) {\r\n                Post.noOfLikes = Post.noOfLikes - 1\r\n                Post.liked = false;\r\n            }\r\n            else {\r\n                Post.noOfLikes = Post.noOfLikes + 1\r\n                Post.liked = true;\r\n            }\r\n            return { ...state, posts }\r\n        }\r\n        case 'ADD_COMMENT': {\r\n            return { ...state, postComments: state.postComments.map(p => p.postId == action.id ? { ...p, comments: [...p.comments, action.comment] } : { ...p }) }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default HomeCenterReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    profileDetails: {\r\n        name: \"\",\r\n        avatar: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=50\",\r\n        followers: [],\r\n        following: [],\r\n        donations: [],\r\n        achievements: []\r\n    },\r\n    currentfilter: []\r\n}\r\n\r\n\r\n\r\nconst LeftSidePanelReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.CHANGE_FILTERS: {\r\n            //console.log('hahaha')\r\n            state = { ...state, currentfilter: action.selectedfilters }\r\n            break;\r\n        }\r\n        case ACTION.GET_LEFT_DETAILS: {\r\n            state = { ...state, profileDetails: action.payload }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n        // case 'ADD_POST':{\r\n        //     state = {...state,profileDetails:{...state.profileDetails,posts:[...state.profileDetails.posts,action.post._id]}}\r\n        //     break;\r\n        // }\r\n        case 'ADD_DONATION': {\r\n            state = { ...state, profileDetails: { ...state.profileDetails, donations: [...state.profileDetails.donations, { _id: action.payload._id, title: action.payload.title }] } }\r\n            console.log('inside the left side reducer', state.profileDetails.donations)\r\n            break;\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default LeftSidePanelReducer;","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n};","import { latLng } from \"leaflet\";\r\nimport { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    Donations:[],\r\n    Organisations:[],\r\n    Events:[],\r\n    currentfilter:[]\r\n}\r\n\r\nconst DiscoverReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_DONATION':{\r\n            return {...state,Donations: action.donations}\r\n        }\r\n        case 'GET_ORGANISATION':{\r\n            return {...state,Organisations:action.organisations}\r\n        }\r\n        case ACTION.CHANGE_FILTERS: {\r\n            return { ...state, currentfilter: action.selectedfilters }\r\n        }\r\n        case 'ADD_DONATION': {\r\n            const donation = action.payload\r\n            return { ...state,Donations: [...state.Donations,donation]}\r\n        }\r\n        case 'PENDING_DONATION': {\r\n            const donation = action.payload;\r\n            donation.status = \"pending\"\r\n            donation.receiverId = action.userId\r\n            return { ...state,Donations:state.Donations.map( d => d._id == donation._id? {...donation}:{...d})}\r\n        }\r\n        case 'REJECT_DONATION':{\r\n            return { ...state,Donations:state.Donations.map( d => d._id == action.id? {...d,status:'NotAccepted',receiverId:null}:{...d})}\r\n        }\r\n        case 'ACCEPT_DONATION':{\r\n            return { ...state,Donations:state.Donations.map( d => d._id == action.payload._id? {...d,status:'Accepted'}:{...d})}\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default DiscoverReducer;","export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n};","import { ACTION } from \"../ListModal/constants\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n}\r\n\r\nconst ListReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default ListReducer; ","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    suggestedPages: [],\r\n    profileDetails: {\r\n        profilePic: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=400\",\r\n        avatar: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=50\",\r\n        name: \"\",\r\n        description: \"\",\r\n        contact: \"\",\r\n        address: \"\",\r\n        followers: [],\r\n        following: [],\r\n        donations: [],\r\n        history: [],\r\n        posts: [],\r\n        noFed: 0,\r\n        noDonations: 0\r\n    },\r\n\r\n    Pending: [],\r\n\r\n    currentTab: \"timelinePost\",\r\n    followers: [],\r\n    following: []\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n            break;\r\n\r\n        }\r\n        case ACTION.GET_SUGGESTED_PAGES: {\r\n            state = { ...state, suggestedPages: action.payload }\r\n            break;\r\n        }\r\n        case ACTION.CHANGE_TAB: {\r\n            state = { ...state, currentTab: action.payload }\r\n            break;\r\n        }\r\n\r\n        case ACTION.GET_PROFILE: {\r\n            state = { ...state, profileDetails: { ...action.payload, followers: [...action.payload.followers], following: [...action.payload.following] } }\r\n            break;\r\n        }\r\n\r\n        case ACTION.UPDATE_PROFILE_PIC: {\r\n            state = { ...state, profileDetails: { ...state.profileDetails, ...action.payload } }\r\n            break;\r\n        }\r\n        case ACTION.GET_FOLLOWERS: {\r\n            state = { ...state, followers: [...action.payload] }\r\n            break;\r\n        }\r\n        case ACTION.GET_FOLLOWING: {\r\n            state = { ...state, following: [...action.payload] }\r\n            break;\r\n        }\r\n        case 'PENDING_DONATION': {\r\n            const { donorName, postTime, description } = action.payload\r\n            const PendingDonation = {\r\n                donorname: donorName,\r\n                Description: description,\r\n                posttime: postTime\r\n            }\r\n            return { ...state, Pending: [...state.Pending, PendingDonation] }\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n        case 'GET_PENDING_DONATION': {\r\n            return { ...state, Pending: action.payload }\r\n\r\n        }\r\n        case 'REJECT_DONATION': {\r\n            return { ...state, Pending: state.Pending.filter(pending => pending._id !== action.id) }\r\n        }\r\n        case 'ACCEPT_DONATION':{\r\n            return {...state,Pending: state.Pending.filter(pending => pending._id !==action.payload._id)}\r\n        }\r\n        case 'ADD_HISTORY':{\r\n            return {...state,profileDetails:action.payload}\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default profileReducer;","import { ACTION } from './constants';\r\n\r\nconst initialState = {\r\n    threads: [],\r\n}\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_THREADS: {\r\n            state = { ...state, threads: [...action.payload] }\r\n            break;\r\n        }\r\n        case ACTION.UPDATE_THREAD: {\r\n            const updatedThreads = state.threads.filter(x => x._id != action.payload._id)\r\n            state = { ...state, threads: [action.payload, ...updatedThreads] }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\n\r\nexport default messageReducer;","import { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { composeWithDevTools as compose } from \"redux-devtools-extension/developmentOnly\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\n\r\nimport homeReducer from \"./components/Home/reducer\";\r\nimport navReducer from \"./components/Navbar/reducer\";\r\nimport authReducer from \"./components/Auth/reducer\";\r\nimport HomeCenterReducer from './components/HomeCenter/reducer';\r\nimport LeftSidePanelReducer from './components/LeftSidePanel/reducer';\r\nimport DiscoverReducer from './components/Discover/reducer';\r\nimport ListReducer from './components/ListModal/reducer';\r\nimport profileReducer from \"./components/Profile/reducer\";\r\nimport messageReducer from \"./components/messages/reducer\";\r\n//import all reducers here\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    homeReducer,\r\n    navReducer,\r\n    authReducer,\r\n    HomeCenterReducer,\r\n    DiscoverReducer,\r\n    ListReducer,\r\n    LeftSidePanelReducer,\r\n    profileReducer,\r\n    messageReducer\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\n\r\nexport const store = createStore(\r\n    persistedReducer,\r\n    {},\r\n    compose(applyMiddleware(thunk))\r\n);\r\n\r\nexport const persistor = persistStore(store)\r\n","import axios from \"axios\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { ACTION } from \"./constants\";\r\nimport { startConnection } from \"../../utils/common\";\r\n\r\n// Register User\r\nexport const registerUser = (userData, history) => async dispatch => {\r\n    console.log(userData)\r\n    await axios\r\n        .post(\"/api/users/register\", userData)\r\n        .then(res => history.push(\"/login\"))\r\n        .catch(err =>\r\n            dispatch({\r\n                type: ACTION.GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Login - get user token\r\nexport const loginUser = userData => async dispatch => {\r\n    await axios\r\n        .post(\"/api/users/login\", userData)\r\n        .then(res => {\r\n            // Save to localStorage\r\n\r\n            // Set token to localStorage\r\n            const { token } = res.data;\r\n            localStorage.setItem(\"jwtToken\", token);\r\n            // Set token to Auth header\r\n            setAuthToken(token);\r\n            // Decode token to get user data\r\n            const decoded = jwt_decode(token);\r\n            // Set current user\r\n            dispatch(setCurrentUser(decoded));\r\n\r\n            startConnection();\r\n\r\n\r\n            //START SOCKET\r\n\r\n\r\n\r\n\r\n        })\r\n        .catch(err =>\r\n            dispatch({\r\n                type: ACTION.GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n    return {\r\n        type: ACTION.SET_CURRENT_USER,\r\n        payload: decoded\r\n    };\r\n};\r\n\r\n// User loading\r\nexport const setUserLoading = () => {\r\n    return {\r\n        type: ACTION.USER_LOADING\r\n    };\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n    // Remove token from local storage\r\n    console.log(\"dsa\")\r\n    localStorage.removeItem(\"jwtToken\");\r\n    // Remove auth header for future requests\r\n    setAuthToken(false);\r\n    // Set current user to empty object {} which will set isAuthenticated to false\r\n    dispatch(setCurrentUser({}));\r\n    dispatch({\r\n        type: 'LOGOUT'\r\n    })\r\n};\r\n\r\n\r\nexport const clearErrors = () => dispatch => {\r\n    dispatch({\r\n        type: ACTION.CLEAR_ERRORS\r\n    })\r\n}","import React, { Component } from \"react\";\r\nimport L from \"leaflet\";\r\nimport * as ELG from \"esri-leaflet-geocoder\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"./styles.css\";\r\nimport { geolocated } from 'react-geolocated';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css\";\r\nimport \"leaflet/dist/leaflet.js\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.js\";\r\nimport 'antd/dist/antd.css';\r\nimport { Modal, Button } from 'antd';\r\n\r\nconst DEFAULT_LATITUDE = 28.6139;\r\nconst DEFUALT_LONGITUDE = 77.2090;\r\n\r\n// import marker icons\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n    \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon-2x.png\",\r\n  iconUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon.png\",\r\n  shadowUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-shadow.png\"\r\n});\r\n\r\nclass MapComp extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      markers: []\r\n    };\r\n  }\r\n\r\n  addMarker = (e) => {\r\n    const { markers } = this.state;\r\n    markers.pop();\r\n    markers.push(e.latlng);\r\n    console.log(markers)\r\n    this.props.saveLatLng(markers[0]);\r\n    this.setState({ markers });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const map = this.leafletMap.leafletElement;\r\n    const searchControl = new ELG.Geosearch().addTo(map);\r\n    const results = new L.LayerGroup().addTo(map);\r\n\r\n    searchControl.on(\"results\", function (data) {\r\n      results.clearLayers();\r\n      for (let i = data.results.length - 1; i >= data.results.length - 1; i--) {\r\n        results.addLayer(L.marker(data.results[i].latlng));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const longitude = this.props.coords ? this.props.coords.longitude : DEFUALT_LONGITUDE;\r\n    const latitude = this.props.coords ? this.props.coords.latitude : DEFAULT_LATITUDE;\r\n    const center = [28.6139, 77.209];\r\n    return (\r\n      <>\r\n        <div className=\"MAP\">\r\n          <Map\r\n            style={{ height: \"80vh\" }}\r\n            center={[latitude, longitude]}\r\n            zoom=\"10\"\r\n            ref={(m) => {\r\n              this.leafletMap = m;\r\n            }}\r\n            onClick={this.addMarker}\r\n          >\r\n            <TileLayer\r\n              attribution=\"&copy; <a href='https://osm.org/copyright'>OpenStreetMap</a> contributors\"\r\n              url={\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}\r\n            />\r\n            <div className=\"pointer\" />\r\n\r\n\r\n            {\r\n              !this.props.coords\r\n                ? <div className=\"loading\">Loading</div>\r\n                :\r\n                <Marker\r\n                  position={[latitude, longitude]}\r\n                >\r\n                  <Popup>\r\n                    you are here!\r\n            </Popup>\r\n                </Marker>\r\n            }\r\n\r\n            {this.state.markers.map((position, idx) => (\r\n              <Marker draggable={true} key={`marker-${idx}`} position={position}>\r\n                <Popup>\r\n                  <span>Marked Location</span>\r\n                </Popup>\r\n              </Marker>\r\n            ))}\r\n          </Map>\r\n          {/* <div class=\"container\">\r\n            <div class=\"vertical-center\">\r\n              <button class=\"button\">Done</button>\r\n            </div>\r\n          </div> */}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: false\r\n  },\r\n  userDecisionTimeout: 1000\r\n})(MapComp);\r\n\r\n\r\n//export default MapComp;\r\n","\r\nimport axios from \"axios\"\r\n\r\nexport const addDonation = (data,contact) => async (dispatch) => {\r\n    const res = await axios.post('/api/donation/create',{donation:data});\r\n    dispatch({\r\n        type: 'ADD_DONATION',\r\n        payload:{...res.data.donation,contact:contact}\r\n    })\r\n}","import React, {Component} from 'react';\r\nimport { bindActionCreators } from 'redux'\r\nimport {connect} from 'react-redux'\r\nimport axios from \"axios\"\r\nimport moment from 'moment';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport { Form, Upload, Row , Col , Input , Modal,DatePicker, Button } from 'antd';\r\nimport { InboxOutlined , CompassOutlined } from '@ant-design/icons';\r\n\r\nimport MapComp from \"../MapComp\";\r\nimport { addDonation } from './action';\r\nimport {addHistory} from '../Profile/action';\r\n\r\n  const formItemLayout = {\r\n      labelCol: {\r\n      span: 6,\r\n    },\r\n      wrapperCol: {\r\n      span: 14,\r\n    },\r\n  };\r\n\r\n  const config = {\r\n      rules: [\r\n      {\r\n      type: 'object',\r\n      required: true,\r\n      message: 'Please select time!',\r\n      },\r\n    ],\r\n  };\r\n\r\n  const normFile = (e) => {\r\n    if (Array.isArray(e)) {\r\n    return e;\r\n    }\r\n\r\n    return e && e.fileList;\r\n  };\r\n  \r\n  class DonateModal extends Component {\r\n    state = {\r\n      user:'Name',\r\n    }\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n          title:'',\r\n          description:'',\r\n          Date:'',\r\n          files:[],\r\n          mapOpen: false,\r\n          latlng: null\r\n      };\r\n    }\r\n\r\n    saveLatLng = (latlng) => {\r\n      this.setState({\r\n          latlng: latlng\r\n      })\r\n    }\r\n    onChange = (value,dateString) => {\r\n        this.setState({\r\n          Date: dateString\r\n        })\r\n    }\r\n    disabledDate = (current) => {\r\n      return current && current < moment().endOf('day');\r\n    }\r\n    \r\n    render() {\r\n      const onFieldsChange = (changedFields,allFields) =>{\r\n        this.setState({\r\n          title: allFields[0].value,\r\n          description:allFields[1].value,\r\n        })\r\n      }\r\n      const createPost = (e) =>{\r\n        if(this.state.latlng !== undefined){\r\n          this.props.handleOk()\r\n          const { dragger } = e;\r\n          const imageUrl = dragger?.map(image => image.response.location);\r\n          console.log('this is to create the post',imageUrl);\r\n          const donation = {\r\n            donorId: this.props.profileDetails._id,\r\n            title: this.state.title,\r\n            expiryTime:this.state.Date,\r\n            peopleFed: 0,\r\n            status: 'NotAccepted',\r\n            description:this.state.description,\r\n            location: {type: \"Point\", coordinates :[this.state.latlng.lng,this.state.latlng.lat]},\r\n            images:this.state.files,\r\n            donorName:this.props.profileDetails.name\r\n          }\r\n          this.props.addDonation(donation,this.props.profileDetails.contact)\r\n          this.props.addHistory({\r\n            color: 'blue',\r\n            icon: 'clock',\r\n            text: donation.title + ' ( Donation expires on ' + donation.expiryTime + ' )'\r\n          });\r\n          \r\n          this.setState({\r\n            latlng:null,\r\n            files:[]\r\n          })\r\n        } \r\n        \r\n      }\r\n      const { latlng } = this.state;\r\n      const addpost = (imagelist) =>{\r\n        this.setState({\r\n          files: [...this.state.files,imagelist.location]\r\n        })\r\n      }\r\n      return(\r\n        <>\r\n        <Modal\r\n          destroyOnClose\r\n          visible={this.props.visible}\r\n          title=\"Donation Details\"\r\n          onOk={this.props.handleOk}\r\n          onCancel={this.props.handleCancel}\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.props.handleCancel}>\r\n              Return\r\n            </Button>,\r\n            <Button key=\"submit\" type=\"primary\" loading={this.props.loading} form = 'donateform' htmlType = 'submit'>\r\n              Submit\r\n            </Button>,\r\n          ]}\r\n        >\r\n          <Form\r\n            id = 'donateform'\r\n            name=\"validate_other\"\r\n            onFieldsChange = {onFieldsChange}\r\n            onFinish={createPost}\r\n            {...formItemLayout}\r\n          >\r\n            <Form.Item\r\n              {...formItemLayout}\r\n              name=\"username\"\r\n              label=\"Title\"\r\n              rules={\r\n                [{\r\n                required: true, message: 'Please input your Title',\r\n                },]\r\n              }\r\n            >\r\n              <Input placeholder=\"Please input your Title\" />\r\n             </Form.Item>\r\n\r\n            <Form.Item name={['user', 'ItemDetails']} label=\"ItemDetails\"\r\n              rules={\r\n                [{\r\n                required: true, message: 'Please Enter Items details',\r\n                },]\r\n              }\r\n            >\r\n              <Input.TextArea placeholder=\"Please Enter Items details here\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"date-picker\" label=\"Enter expiry date\" {...config}>\r\n              <DatePicker onChange={this.onChange} disabledDate={this.disabledDate} format=\"HH:mm ll\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Address\" \r\n              rules={\r\n                [{\r\n                required: true, message: 'Please input your address',\r\n                },]\r\n              }\r\n            >\r\n              <Row gutter={8}>\r\n                <Col span={20}>\r\n                    <Input placeholder=\"Location\" disabled value={latlng ? latlng.lat + \" , \" + latlng.lng : \"\"} />\r\n                </Col>\r\n                <Col span={2}>\r\n                  <Button onClick={() => this.setState({ mapOpen: true })} icon={<CompassOutlined />}></Button>\r\n                </Col>\r\n              </Row>\r\n            </Form.Item>\r\n            \r\n            <Form.Item label=\"Dragger\">\r\n              <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n              <Upload.Dragger multiple={false} name=\"file\"\r\n              customRequest={async ({ file, onSuccess, onError }) => {\r\n                let formData = new FormData()\r\n                formData.append('file', file)\r\n                await axios.post('/upload/donations', formData).then(res => {\r\n                  onSuccess(res.data)\r\n                  addpost(res.data)\r\n                }).catch(err => { console.log(\"error in uploading\"); onError(\"Error in uploading.Try again\") })\r\n              }} >\r\n              <p className=\"ant-upload-drag-icon\">\r\n                <InboxOutlined />\r\n              </p>\r\n              <p className=\"ant-upload-text\">\r\n                Click or drag file to this area to upload\r\n                  </p>\r\n              <p className=\"ant-upload-hint\">\r\n                Support for a single or bulk upload.\r\n                  </p>\r\n            </Upload.Dragger>\r\n              </Form.Item>\r\n            </Form.Item>\r\n          </Form> \r\n        </Modal>\r\n\r\n        <Modal footer={[\r\n          <Button onClick={() => this.setState({ mapOpen: false })}>\r\n            Return\r\n          </Button>\r\n          ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n        <MapComp saveLatLng={this.saveLatLng} />\r\n        </Modal>\r\n</>\r\n      )\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory: bindActionCreators(addHistory,dispatch),\r\n  addDonation : bindActionCreators(addDonation,dispatch)\r\n})\r\nconst mapStatetoProps = state => {\r\n  return {\r\n      profileDetails: state.LeftSidePanelReducer.profileDetails,\r\n  };\r\n  \r\n}\r\nexport default connect(mapStatetoProps ,mapDispatchToProps)(DonateModal);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Layout, Menu, Button, Input, Modal } from 'antd';\r\nimport {\r\n  HeartFilled, LogoutOutlined, HomeOutlined, BellOutlined, TrophyOutlined,\r\n  UsergroupDeleteOutlined, BulbOutlined, UserOutlined,\r\n  MessageOutlined\r\n} from '@ant-design/icons';\r\nimport \"./styles.css\"\r\n\r\nimport { setCurrentRoute } from './actions';\r\nimport { bindActionCreators } from 'redux';\r\nimport { logoutUser } from '../Auth/action';\r\nimport DonateModal from '../DonateModal';\r\n\r\nconst { Header } = Layout;\r\nconst { Search } = Input;\r\n\r\n\r\nclass Navbar extends Component {\r\n  state = {\r\n    loading: false,\r\n    visible: false,\r\n  };\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = () => {\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      this.setState({ loading: false, visible: false });\r\n    }, 500);\r\n    Modal.success({\r\n      content: 'Donations posted',\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n\r\n  render() {\r\n    const { visible, loading } = this.state;\r\n    const { currentRoute, setCurrentRoute, logoutUser, auth } = this.props;\r\n    if (auth.isAuthenticated)\r\n      return (\r\n        <div>\r\n          <Header style={{ position: 'fixed', zIndex: 100, width: '100%' }}>\r\n            <Menu theme=\"dark\" mode=\"horizontal\" selectedKeys={[currentRoute, \"logo\"]} onSelect={(item) => { item.key == \"logout\" ? logoutUser() : setCurrentRoute(item.key) }}>\r\n              <Menu.Item key=\"logo\" className=\"customclasslogo\" icon={<HeartFilled />} ><Link to=\"/home\">NofoodWasted</Link></Menu.Item>\r\n              <Button type=\"dashed\" size={\"large\"} style={{ \"marginRight\": \"8px\", \"marginLeft\": \"8px\" }} onClick={this.showModal}>\r\n                Donate Now!\r\n                  </Button>\r\n              <DonateModal handleCancel={this.handleCancel} handleOk={this.handleOk} showModal={this.showModal} visible={visible} loading={loading} />\r\n              <Menu.Item key=\"home\" icon={<HomeOutlined />} ><Link to=\"/home\">Home</Link></Menu.Item>\r\n              <Menu.Item key=\"discover\" icon={<BulbOutlined />}><Link to='/discover'>Discover</Link></Menu.Item>\r\n              <Menu.Item key=\"community\" icon={<TrophyOutlined />} ><Link to=\"/community\">Community</Link></Menu.Item>\r\n              <Menu.Item key=\"leaderboard\" icon={<UsergroupDeleteOutlined />} ><Link to=\"/leaderboard\">Leaderboard</Link></Menu.Item>\r\n              <Menu.Item key=\"notifications\" icon={<BellOutlined />}><Link to=\"/notifications\">Notifications</Link></Menu.Item>\r\n              <Menu.Item key=\"messages\" icon={<MessageOutlined />} ><Link to=\"/messages\">Messages</Link></Menu.Item>\r\n              <Menu.Item key=\"profile\" icon={<UserOutlined />} ><Link to={`/i/profile/${auth.user.userId}`}>Profile</Link></Menu.Item>\r\n              <Menu.Item key=\"search\">\r\n                <Search\r\n                  placeholder=\"Search\"\r\n                  onSearch={value => console.log(value)}\r\n                  style={{ width: 200 }} />\r\n              </Menu.Item>\r\n              <Menu.Item key=\"logout\" icon={<LogoutOutlined />} >Logout</Menu.Item>\r\n            </Menu>\r\n          </Header>\r\n\r\n        </div>\r\n      );\r\n    else\r\n      return null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currentRoute: state.navReducer.currentRoute,\r\n  auth: state.authReducer\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n  logoutUser: bindActionCreators(logoutUser, dispatch)\r\n})\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Navbar));\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Modal, Button } from 'antd';\r\nimport { List, Avatar } from 'antd';\r\n\r\nclass FollowersList extends React.Component {\r\n\r\n\r\n\r\n    render() {\r\n        const { data, title, loading } = this.props\r\n        return (\r\n            <>\r\n\r\n                <Modal\r\n                    title={title}\r\n                    visible={this.props.visible}\r\n                    onCancel={this.props.handleCancel}\r\n                    destroyOnClose\r\n                    footer={[\r\n                        <Button type=\"primary\" onClick={this.props.handleCancel}>\r\n                            Close\r\n                        </Button>\r\n                    ]}\r\n                >\r\n                    <List\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={data}\r\n                        loading={loading}\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                                <List.Item.Meta\r\n                                    avatar={<Link onClick={this.props.handleCancel} to={`/profile/${item._id}`}><Avatar src={item.avatar} /></Link>}\r\n                                    title={<a>{item.name}</a>}\r\n                                    description={item.description}\r\n                                />\r\n                            </List.Item>\r\n                        )}\r\n                    />,\r\n        </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default (FollowersList);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport 'antd/dist/antd.css';\r\nimport { Button, Modal, Form, Input } from 'antd';\r\nimport { UserOutlined, PhoneOutlined } from '@ant-design/icons';\r\n\r\nclass EditProfile extends React.Component {\r\n    render() {\r\n        const { data } = this.props\r\n        return (\r\n            <>\r\n\r\n                <Modal\r\n                    visible={this.props.visible}\r\n                    title=\"Edit Profile\"\r\n                    onOk={this.props.handleOk}\r\n                    onCancel={this.props.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                            Return\r\n                  </Button>,\r\n                        <Button form=\"edit-profile-form\" key=\"submit\" type=\"primary\" htmlType=\"submit\" loading={this.props.loading}>\r\n                            Submit\r\n                  </Button>,\r\n                    ]}\r\n                >\r\n                    <Form\r\n                        id=\"edit-profile-form\"\r\n                        layout=\"vertical\"\r\n                        name=\"form_in_modal\"\r\n                        initialValues={{\r\n                            ['name']: data.name,\r\n                            ['contact']: data.contact,\r\n                            ['address']: data.address,\r\n                            ['description']: data.description,\r\n                        }}\r\n                        onFinish={this.props.handleOk}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Name\"\r\n                            name=\"name\"\r\n                            rules={[{ required: true, message: 'Please input your name!' }]}\r\n                        >\r\n                            <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"Contact\"\r\n                            name=\"contact\"\r\n\r\n                            rules={[{ required: true, message: 'Please input your contact!' }]}\r\n                        >\r\n                            <Input prefix={<PhoneOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Address\"\r\n                            name=\"address\"\r\n\r\n                            rules={[{ required: true, message: 'Please input your address!' }]}\r\n                        >\r\n                            <Input.TextArea />\r\n\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Description\"\r\n                            name=\"description\"\r\n\r\n                            rules={[{ required: true, message: 'Please input a brief description!' }]}\r\n                        >\r\n                            <Input.TextArea />\r\n\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n    return {\r\n        data: state.profileReducer.profileDetails\r\n    };\r\n\r\n};\r\nexport default connect(mapStatetoProps)(EditProfile);\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { Button, Modal,Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport { uploadProfilePic } from '../action';\r\n\r\nclass ProfilePic extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal\r\n                    visible={this.props.visible}\r\n                    title=\"Change Profile Picture\"\r\n                    onOk={this.props.handleOk}\r\n                    onCancel={this.props.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                            Return\r\n                  </Button>\r\n                    ]}\r\n                >\r\n\r\n                    <Upload multiple={false} name=\"file\" accept=\"image/*\"\r\n                        customRequest={async ({ file, onSuccess, onError }) => {\r\n                            let formData = new FormData()\r\n                            formData.append('file', file)\r\n                            await axios.post('/upload/profile-pic', formData).then(res => {\r\n                                onSuccess(res.data)\r\n                                this.props.uploadProfilePic(res.data.profilePic, res.data.avatar)\r\n\r\n                            }).catch(err => {\r\n                                console.log(\"error in uploading\");\r\n                                onError(\"Error in uploading. Try again\")\r\n                            }\r\n                            )\r\n                        }}\r\n                        listType=\"picture\"\r\n                    >\r\n                        <Button icon={<UploadOutlined />}>Upload Profile Pic</Button>\r\n                    </Upload>\r\n\r\n\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    uploadProfilePic: bindActionCreators(uploadProfilePic, dispatch)\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(ProfilePic); ","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport { HomeOutlined, EditOutlined, ClockCircleOutlined, PhoneOutlined, TeamOutlined, SendOutlined, CheckOutlined, CloseOutlined } from '@ant-design/icons';\r\nimport { Layout, Modal, Image, Input, Card, Tabs, Timeline, List, Avatar, Button, Divider, Space } from 'antd';\r\nimport \"./styles.css\"\r\n\r\nimport FollowersList from './FollowersList';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport LoadingScreen from '../LoadingScreen';\r\nimport EditProfile from './EditProfile';\r\nimport ProfilePic from './ProfilePic';\r\nimport { getSomeData, changeTab, getProfile, followUser, unfollowUser, getFollowers,\r\n   getFollowing, addHistory, getPendingDonations, rejectDonation, editProfile, acceptdonation } from './action';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Content, Sider } = Layout;\r\n\r\nclass Profile extends Component {\r\n\r\n  state = {\r\n    followersVisible: false,\r\n    followingVisible: false,\r\n    loadingAccept: false,\r\n    visibleAccept: false,\r\n    visibleEdit: false,\r\n    visibleProfilePic: false,\r\n    loadingEdit: false,\r\n    clicked: false,\r\n    followLoading: false,\r\n    unfollowLoading: false,\r\n    followListLoading: false,\r\n    profilePageLoading: false,\r\n    followingText: \"Following\"\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  handleCancel = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  showModalAccept = (data) => {\r\n    this.props.acceptdonation(data)\r\n    this.props.addHistory({\r\n      color: 'green',\r\n      icon: 'dot',\r\n      text: data.title + ' ( Donation accepted on ' + moment().format(\"HH:mm ll\") + ' )'\r\n    });\r\n    \r\n    this.setState({\r\n      visibleAccept: true\r\n    });\r\n  };\r\n\r\n  handleOkAccept = () => {\r\n    this.setState({ loadingAccept: true });\r\n    setTimeout(() => {\r\n      this.setState({ loadingAccept: false, visibleAccept: false });\r\n    }, 1000);\r\n    Modal.success({\r\n      content: \"Donation Shared on profile\"\r\n    });\r\n  };\r\n\r\n  handleCancelAccept = () => {\r\n    this.setState({ visibleAccept: false });\r\n  };\r\n\r\n  handleCancelProfilePic = () => {\r\n    this.setState({ visibleProfilePic: false })\r\n  }\r\n\r\n  showModalEdit = () => {\r\n    this.setState({\r\n      visibleEdit: true,\r\n    });\r\n  };\r\n\r\n  handleOkEdit = async (user) => {\r\n    this.setState({ loadingEdit: true });\r\n    await this.props.editProfile(user);\r\n    this.setState({ loadingEdit: false, visibleEdit: false })\r\n  };\r\n\r\n  handleCancelEdit = () => {\r\n    this.setState({ visibleEdit: false });\r\n  };\r\n\r\n  callback = (key) => {\r\n    console.log(key);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({\r\n      profilePageLoading: true\r\n    })\r\n    await this.props.getProfile(this.props.match.params.id)\r\n    await this.props.getPendingDonations()\r\n    this.setState({\r\n      profilePageLoading: false\r\n    })\r\n  }\r\n  render() {\r\n\r\n    const { followersVisible, followingVisible, loadingAccept, visibleAccept, visibleEdit, loadingEdit, visibleProfilePic } = this.state;\r\n    const { PendingDonations, profileDetails, user, followUser, unfollowUser, getFollowers, getFollowing } = this.props\r\n\r\n    const imagelist = (images) => {\r\n      return images.length ? (\r\n        images.map(image => {\r\n          return (\r\n            <Image\r\n              width={100}\r\n              height={100}\r\n              alt=\"example\"\r\n              src={image}\r\n            />\r\n          )\r\n        })\r\n      ) : (<div> No images!</div>)\r\n    }\r\n    \r\n    const Demo = () => (\r\n      <Tabs centered=\"true\" size=\"large\"\r\n      >\r\n\r\n        <TabPane tab=\"Timeline\" key=\"timelinePost\">\r\n          <Timeline mode=\"alternate\">\r\n\r\n            {profileDetails?.history?.map(timelinepost => (\r\n              <Timeline.Item color={timelinepost?.color} dot={timelinepost?.icon === 'clock' ? <ClockCircleOutlined /> : null}>{timelinepost.text}</Timeline.Item>\r\n            ))}\r\n\r\n          </Timeline>\r\n\r\n        </TabPane>\r\n\r\n\r\n        <TabPane tab=\"Donations\" key=\"donations\">\r\n          {\r\n            //Add donation card here : donation title, body, photos plus show whether donation active or accepted (see reducer for sample data entry)\r\n          }\r\n          {profileDetails?.donations?.map(donation => (\r\n            <Card title={donation.title} extra={<div>{donation.status}</div>} style={{ marginLeft: '75px', marginRight: '75px', marginTop: '8px' }}>\r\n              <p>{donation.description}</p>\r\n              <Space>\r\n                {imagelist(donation.images)}\r\n              </Space>\r\n            </Card>\r\n          )\r\n          )}\r\n        </TabPane>\r\n\r\n        <TabPane tab=\"Posts\" key=\"posts\">\r\n\r\n\r\n\r\n          {profileDetails?.posts?.map(post => (\r\n            <Card title={post.author} extra={post.DateTime} style={{ marginLeft: '75px', marginRight: '75px', marginTop: '8px' }}>\r\n              <p>{post.description}</p>\r\n            </Card>\r\n          ))}\r\n        </TabPane>\r\n        <TabPane tab=\"Acheivements\" key=\"achievements\" >\r\n          <p style={{ fontSize: \"20px\", textAlign: \"center\" }}> Coming Soon!</p>\r\n        </TabPane>\r\n      </Tabs >\r\n    );\r\n\r\n    const PendingDonationList = PendingDonations.length ? (\r\n      PendingDonations.map(PendingDonation => {\r\n        return (\r\n          <Card title={PendingDonation.donorName} extra={moment(PendingDonation.postTime).format(\"HH:mm ll\")} size=\"small\" style={{ width: 250 }}\r\n            actions={[\r\n              <p classname=\"cardtext1\" onClick={() => this.showModalAccept(PendingDonation)} ><CheckOutlined hoverable={true} key=\"Accept\" /> Accept </p>,\r\n              <p onClick={() => this.props.rejectDonation(PendingDonation._id)}><CloseOutlined hoverable={true} key=\"Reject\" /> Reject </p>,\r\n            ]}\r\n          >\r\n            <p>{PendingDonation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    return (\r\n      this.state.profilePageLoading ? <LoadingScreen /> :\r\n        <Layout key={this.props.match.params.id} className=\"layout\" style={{ marginTop: \"56px\" }}>\r\n          <Layout>\r\n            <Sider width={250} style={{ padding: \"20px\" }}>\r\n              <List\r\n                itemLayout=\"horizontal\"\r\n                //dataSource={suggestedPages}\r\n                header={\r\n                  <div style={{ fontWeight: \"bolder\", padding: \"5px\", fontSize: \"medium\" }}>\r\n                    Suggested pages\r\n                </div>\r\n                }\r\n                renderItem={item => (\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                      title={<a href=\"https://www.google.com/\">{item.title}</a>}\r\n                      description=\"brief description\"\r\n                    />\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Sider>\r\n            <Layout >\r\n              <Content\r\n                // className=\"site-layout-background\"\r\n                style={{\r\n                  padding: 24,\r\n                  marginTop: 24,\r\n                  minHeight: 280,\r\n                }}\r\n                key={this.props.match.params.id}\r\n              >\r\n                <div style={{ display: \"flex\" }}>\r\n                  <Image\r\n                    width={250}\r\n                    src={profileDetails?.profilePic}\r\n                  />\r\n                  <Button\r\n                    shape=\"circle\"\r\n                    style={{ marginLeft: \"-15px\", zIndex: \"10\" }}\r\n                    onClick={() => this.setState({ visibleProfilePic: true })}>\r\n                    <EditOutlined />\r\n                  </Button>\r\n                  <div style={{ marginLeft: \"20px\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-evenly\" }}>\r\n                    <p style={{ \"fontSize\": \"24px\", marginBottom: \"0px\", fontWeight: 500 }}>{profileDetails.name}</p>\r\n\r\n                    <div>\r\n                      <p>{profileDetails?.description}</p>\r\n\r\n                      <PhoneOutlined /> <span style={{ fontWeight: 500, marginRight: \"20px\" }}>{profileDetails?.contact}</span>\r\n                      <HomeOutlined /> <span style={{ fontWeight: 500 }}>{profileDetails?.address}</span>\r\n                    </div>\r\n                    <div style={{ marginLeft: \"-16px\", marginTop: \"6px\" }}>\r\n                      <Button type=\"link\" size=\"large\" style={{ fontWeight: \"bolder\" }} onClick={\r\n                        async () => {\r\n                          this.setState({ followersVisible: true, followListLoading: true })\r\n                          await getFollowers(this.props.match.params.id);\r\n                          this.setState({ followListLoading: false })\r\n                        }}>\r\n                        {profileDetails?.followers?.length} Followers\r\n          </Button>\r\n                      <Button type=\"link\" size=\"large\" style={{ fontWeight: \"bolder\" }} onClick={\r\n                        async () => {\r\n                          this.setState({ followingVisible: true, followListLoading: true })\r\n                          await getFollowing(this.props.match.params.id)\r\n                          this.setState({ followListLoading: false })\r\n                        }}>\r\n                        {profileDetails?.following?.length} Following\r\n          </Button>\r\n                      <FollowersList title=\"Followers\" data={this.props.followers} handleCancel={() => this.setState({ followersVisible: false })} showModal={() => this.setState({ followersVisible: true })} visible={followersVisible} loading={this.state.followListLoading} />\r\n                      <FollowersList title=\"Following\" data={this.props.following} handleCancel={() => this.setState({ followingVisible: false })} showModal={() => this.setState({ followingVisible: true })} visible={followingVisible} loading={this.state.followListLoading} />\r\n\r\n                      {user.userId === this.props.match.params.id ?\r\n                        (<span style={{ float: \"right\", marginTop: \"6px\" }}>\r\n                          <Button onClick={this.showModalEdit} type=\"primary\" style={{ marginRight: \"8px\" }}  >\r\n                            <EditOutlined /> Edit Profile\r\n                      </Button>\r\n                          <EditProfile handleCancel={this.handleCancelEdit} handleOk={this.handleOkEdit} showModal={this.showModalEdit} visible={visibleEdit} loading={loadingEdit} />\r\n                          <ProfilePic visible={visibleProfilePic} handleCancel={this.handleCancelProfilePic} />\r\n                        </span>\r\n                        ) : (<span style={{ float: \"right\", marginTop: \"6px\" }}>\r\n                          <>\r\n                            {\r\n                              profileDetails?.followers.find(f => f == user.userId) ?\r\n                                <Button onMouseOver={() => {\r\n                                  this.setState({\r\n                                    followingText: \"Unfollow\"\r\n                                  })\r\n                                }\r\n                                } onMouseLeave={() => {\r\n                                  this.setState({\r\n                                    followingText: \"Following\"\r\n                                  })\r\n                                }} loading={this.state.unfollowLoading} type={this.state.followingText == \"Unfollow\" ? \"danger\" : \"primary\"} style={{ marginRight: \"14px\" }} onClick={async () => {\r\n                                  this.setState({ unfollowLoading: true })\r\n                                  await unfollowUser(this.props.match.params.id)\r\n                                  this.setState({ unfollowLoading: false })\r\n                                }} >\r\n                                  <p> <TeamOutlined /> {this.state.followingText}</p>\r\n                                </Button> :\r\n                                <Button loading={this.state.followLoading} type=\"primary\" style={{ marginRight: \"14px\" }} onClick={async () => {\r\n                                  this.setState({ followLoading: true })\r\n                                  await followUser(this.props.match.params.id)\r\n                                  this.setState({ followLoading: false })\r\n\r\n                                }}>\r\n                                  <p> <TeamOutlined /> Follow </p>\r\n                                </Button>\r\n                            }\r\n                            <Link onClick={() => this.props.setCurrentRoute('messages')} to={{ pathname: '/messages', state: { user: this.props.match.params.id } }}>\r\n                              <Button type=\"primary\" style={{ marginRight: \"14px\" }}>\r\n                                <SendOutlined /> Message\r\n                        </Button>\r\n                            </Link>\r\n\r\n                          </>\r\n\r\n                        </span>)}\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: \"8px\" }}>\r\n                      <p style={{ fontWeight: 600 }}>\r\n                        <span >{profileDetails?.name} has fed {profileDetails?.noFed} people and made {profileDetails?.noDonations} donations overall!</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/*\r\n              <div>\r\n                <p style={{ fontWeight: 600 }}>User has fed 324 No. of people since last month.</p>\r\n              </div>\r\n              */}\r\n                <Divider style={{ \"background\": \"rgba(151,3,62, 0.2)\" }} />\r\n                <Demo />\r\n\r\n              </Content>\r\n              {user.userId === this.props.match.params.id ?\r\n                <Sider width={300} style={{ padding: \"20px\" }}>\r\n                  {\r\n                    //add title div here \r\n                  }\r\n                  <div style={{ fontWeight: \"bolder\", paddingBottom: \"15px\", paddingTop: \"15px\", fontSize: \"medium\" }}>Pending Donations</div>\r\n\r\n                  <div>\r\n                    {PendingDonationList}\r\n                  </div>\r\n                </Sider>\r\n                : null}\r\n            </Layout>\r\n          </Layout >\r\n\r\n          <Modal\r\n            visible={visibleAccept}\r\n            title=\"Accept Donation\"\r\n            onOk={this.handleOkAccept}\r\n            onCancel={this.handleCancelAccept}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.handleCancelAccept}>\r\n                Say Thanks\r\n                  </Button>,\r\n              <Button\r\n                key=\"submit\"\r\n                type=\"primary\"\r\n                loading={loadingAccept}\r\n                onClick={this.handleOkAccept}\r\n              >\r\n                Share Donation\r\n                  </Button>\r\n            ]}\r\n          >\r\n            <b> Enter No of people will be fed from this donation ?</b>\r\n            <Input placeholder=\"Input Number Here\" />\r\n            <b> Rate the User</b>\r\n            <Input placeholder=\"Rate Between 1 to 5\" />\r\n          </Modal>\r\n\r\n\r\n        </Layout >\r\n    )\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(state.profileReducer.profileDetails)\r\n  return ({\r\n    suggestedPages: state.profileReducer.suggestedPages,\r\n    currentTab: state.profileReducer.currentTab,\r\n    donations: state.profileReducer.donations,\r\n    timelinePost: state.profileReducer.profileDetails.history,\r\n    posts: state.profileReducer.posts,\r\n    PendingDonations: state.profileReducer.Pending,\r\n    profileDetails: state.profileReducer.profileDetails,\r\n    user: state.authReducer.user,\r\n    followers: state.profileReducer.followers,\r\n    following: state.profileReducer.following\r\n  })\r\n  \r\n}\r\n  \r\n  \r\n  \r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory:bindActionCreators(addHistory,dispatch),\r\n  acceptdonation: bindActionCreators(acceptdonation,dispatch),\r\n  getSomeData: bindActionCreators(getSomeData, dispatch),\r\n  changeTab: bindActionCreators(changeTab, dispatch),\r\n  getProfile: bindActionCreators(getProfile, dispatch),\r\n  followUser: bindActionCreators(followUser, dispatch),\r\n  unfollowUser: bindActionCreators(unfollowUser, dispatch),\r\n  getFollowers: bindActionCreators(getFollowers, dispatch),\r\n  getFollowing: bindActionCreators(getFollowing, dispatch),\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n  rejectDonation: bindActionCreators(rejectDonation, dispatch),\r\n  getPendingDonations: bindActionCreators(getPendingDonations, dispatch),\r\n  editProfile: bindActionCreators(editProfile, dispatch)\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import { ACTION } from './constants';\r\nimport axios from \"axios\"\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\nexport const getOrganisation = () => async (dispatch) =>{\r\n    const res = await axios.get('api/users/organisations')\r\n    dispatch({\r\n        type:'GET_ORGANISATION',\r\n        organisations: res.data.organisations\r\n    })\r\n}\r\nexport const getDonation = () => async (dispatch) =>{\r\n    const res = await axios.get('/api/donation/donations');\r\n    dispatch({\r\n        type:'GET_DONATION',\r\n        donations: res.data.donations\r\n    })\r\n}\r\nexport const pendingDonation = (data) => async (dispatch,getState) => {\r\n    const userId = getState().authReducer.user.userId\r\n    await axios.post('/api/donation/changeStatus',{_id:data._id,status:'pending'})\r\n    dispatch({\r\n        type: 'PENDING_DONATION',\r\n        payload:data,\r\n        userId\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\"\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport moment from 'moment';\r\nimport sortBy from 'lodash/sortBy';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport '../../index.css';\r\nimport './styles.css'\r\nimport { Modal, Menu, Checkbox, Layout, Card, Button, Input, Space, Image,Avatar } from 'antd';\r\nimport { HomeOutlined, PhoneOutlined, CheckOutlined, CloseOutlined } from '@ant-design/icons';\r\n\r\nimport { pendingDonation, changeFilters, getDonation, getOrganisation } from './action';\r\nimport { rejectDonation, acceptdonation } from '../Profile/action';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport LoadingScreen from '../LoadingScreen';\r\n\r\nconst { Content, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Discover extends Component {\r\n  state = {\r\n    Organisations: [],\r\n    Events: [],\r\n    selectedMenuItem: '1',\r\n    loading: false,\r\n    visible: false,\r\n    filters: []\r\n  }\r\n  async componentDidMount() {\r\n    this.setState({\r\n      profilePageLoading: true\r\n    })\r\n    \r\n    await this.props.getOrganisation();\r\n    this.props.getDonation();\r\n    \r\n    this.setState({\r\n      profilePageLoading: false\r\n    })\r\n    \r\n  }\r\n  showModal = (data) => {\r\n    this.props.acceptdonation(data)\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  handleOk = () => {\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      this.setState({ loading: false, visible: false });\r\n    }, 1000);\r\n    Modal.success({\r\n      content: \"Donation Shared on profile\"\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  render() {\r\n    const { Events, selectedMenuItem, visible, loading } = this.state;\r\n    const { Organisations, Donations, pendingDonations, pendingDonorDonation } = this.props\r\n  \r\n    const plainOptions = [\r\n      { label: 'Location', value: 'Location' },\r\n      { label: 'Expiry Date', value: 'Expiry Date' },\r\n      { label: 'Time', value: 'Time' },\r\n    ];\r\n    const onChange = (checkedValues) => {\r\n      this.setState({\r\n        filters: [...checkedValues]\r\n      })\r\n    }\r\n\r\n    const addpending = (Donation) => {\r\n      this.props.pendingDonation(Donation);\r\n    }\r\n\r\n    const imagelist = (images) => {\r\n      return images.length ? (\r\n        images.map(image => {\r\n          return (\r\n            <Image\r\n              width={100}\r\n              height={100}\r\n              alt=\"example\"\r\n              src={image}\r\n            />\r\n          )\r\n        })\r\n      ) : (<div> No images!</div>)\r\n    }\r\n\r\n    const filteredDonation = (Donations) => {\r\n      const filters = this.state.filters;\r\n      if (filters.find((value => value.localeCompare(\"Time\") === 0))) {\r\n        const filterDonations = sortBy(Donations, (donation) => {\r\n          return new moment(donation.createdAt);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      if (filters.find((value => value.localeCompare(\"Expiry Date\") === 0))) {\r\n        const filterDonations = sortBy(Donations, (donation) => {\r\n          return new moment(donation.expiryTime);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      return Donations\r\n    }\r\n    const action = (Donation) => {\r\n      if (this.props.userType.localeCompare('donor') === 0)\r\n        return [];\r\n      const value = [\r\n        <Link to={{\r\n          pathname: \"/messages\",\r\n          state: {\r\n            //PUT DONOR_ID\r\n            user: Donation.donorId\r\n          }\r\n        }}>\r\n          <p className=\"text\" onClick={() => { this.props.setCurrentRoute('messages') }} ><b> Contact Donor </b></p>\r\n        </Link>,\r\n        <p className=\"text\" onClick={() => addpending(Donation)} ><b> Interested </b></p>,\r\n      ]\r\n\r\n      return value;\r\n    }\r\n    const filterDonations = filteredDonation(Donations);\r\n    const DonationList = (Donations).length ? (\r\n      filterDonations.map(Donation => {\r\n        return (\r\n          <Card title={<Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${Donation.donorId}`}>{Donation.donorName}</Link>} extra={<div>{moment(Donation.postTime).format(\"HH:mm ll\")}</div>} style={{ width: 700, margin: '8px' }}\r\n\r\n            actions={action(Donation)}\r\n          >\r\n            <p>{Donation.description}</p>\r\n            <Space>\r\n              {imagelist(Donation.images)}\r\n            </Space>\r\n\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    const pendingDonationList = pendingDonations.length ? (\r\n      pendingDonations.map(Donation => {\r\n        return (\r\n          <Card title={Donation.donorName} extra={moment(Donation.postTime).format(\"HH:mm ll\")} size=\"small\" style={{ width: 250 }}\r\n            actions={[\r\n              <p classname=\"cardtext1\" onClick={() => this.showModal(Donation)} ><CheckOutlined hoverable={true} key=\"Accept\" /> Accept </p>,\r\n              <p onClick={() => this.props.rejectDonation(Donation._id)}><CloseOutlined hoverable={true} key=\"Reject\" /> Reject </p>,\r\n            ]}\r\n          >\r\n            <p>{Donation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Pending donations are currently there!</div>\r\n      )\r\n    const pendingDonorDonationList = pendingDonorDonation.length ? (\r\n      pendingDonorDonation.map(Donation => {\r\n\r\n        return (\r\n          <Card title={Donation.donorName} extra={moment(Donation.postTime).format(\"HH:mm ll\")} size=\"small\" style={{ width: 250 }}\r\n\r\n          >\r\n            <p>{Donation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    const OrganisationList = Organisations.length ? (\r\n      Organisations.map(Organisation => {\r\n        return (\r\n          <Card title={<div> {\r\n            <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${Organisation._id}`}>\r\n            <Avatar\r\n              src={Organisation.avatar}\r\n              alt=\"Han Solo\"\r\n            />\r\n            </Link>\r\n          } <a>{Organisation.name}</a> </div>} extra={<p>People fed {Organisation?.noFed}</p>} style={{ width: 700, margin: '8px' }}>\r\n            <p><PhoneOutlined /> : {Organisation.contact} <HomeOutlined /> : {Organisation.address} </p>\r\n\r\n            <p>{Organisation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Organisation are currently there!</div>\r\n      )\r\n\r\n    const EventList = Events.length ? (\r\n      Events.map(Event => {\r\n        return (\r\n          <Card title={Event.title} style={{ width: 700, margin: '8px' }}>\r\n            <p>{Event.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Events are currently there!</div>\r\n      )\r\n\r\n    const componentsSwitch = (key) => {\r\n      switch (key) {\r\n        case '1':\r\n          return (DonationList);\r\n        case '2':\r\n          return (OrganisationList);\r\n        case '3':\r\n          return (EventList);\r\n        default:\r\n          return (DonationList);\r\n      }\r\n    }\r\n\r\n    const onclick = (key) => {\r\n      this.setState(\r\n        {\r\n          selectedMenuItem: key,\r\n        }\r\n      )\r\n    }\r\n\r\n    return (\r\n      this.state.profilePageLoading ? <LoadingScreen /> :\r\n      <Layout>\r\n        <Sider width={280} className=\"site-layout-background\"\r\n          style={{\r\n            overflow: 'auto',\r\n            height: '100vh',\r\n            position: 'fixed',\r\n            left: 0,\r\n            marginTop: '64px',\r\n          }} >\r\n          <Menu\r\n            mode=\"inline\"\r\n            defaultSelectedKeys={['1']}\r\n            defaultOpenKeys={['1']}\r\n            style={{ height: '100%', borderRight: 0 }}\r\n            onClick={(e) => onclick(e.key)} >\r\n            <SubMenu key=\"1\" title=\"Donations\" onTitleClick={(e) => onclick(e.key)} style={{ fontSize: '16px' }}>\r\n              <div style={{ \"padding\": \"auto\" }}>\r\n                <Checkbox.Group options={plainOptions} onChange={onChange} />\r\n              </div>\r\n            </SubMenu>\r\n            <Menu.Item key=\"2\">Nearby Organisations</Menu.Item>\r\n            <Menu.Item key=\"3\">Nearby Events/Activities</Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n\r\n        <Layout style={{ marginLeft: '280px', marginTop: '64px' }}>\r\n          <Content className=\"site-layout-background\"\r\n            style={{\r\n              paddingLeft: 270,\r\n              minHeight: 280,\r\n            }}>\r\n            {componentsSwitch(selectedMenuItem)}\r\n          </Content>\r\n          <Sider width={300} style={{ padding: \"25px\" }}>\r\n            <div style={{ fontWeight: \"bolder\", paddingBottom: \"15px\", fontSize: \"medium\" }}>Pending Donations</div>\r\n            <div>\r\n              {this.props.userType.localeCompare('donor') === 0 ? pendingDonorDonationList : pendingDonationList}\r\n            </div>\r\n          </Sider>\r\n\r\n        </Layout>\r\n\r\n        <Modal\r\n          visible={visible}\r\n          title=\"Accept Donation\"\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.handleCancel}>\r\n              Say Thanks\r\n              </Button>,\r\n            <Button\r\n              key=\"submit\"\r\n              type=\"primary\"\r\n              loading={loading}\r\n              onClick={this.handleOk}\r\n            >\r\n              Share Donation\r\n              </Button>\r\n          ]}\r\n        >\r\n          <b> Enter No of people will be fed from this donation ?</b>\r\n          <Input placeholder=\"Input Number Here\" />\r\n          <b> Rate the User</b>\r\n          <Input placeholder=\"Rate Between 1 to 5\" />\r\n        </Modal>\r\n\r\n\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n  const checkvisibilty = (donation) => {\r\n    return donation.status.localeCompare(\"NotAccepted\") === 0\r\n  }\r\n  const pendingdonations = (donation) => {\r\n    const userId = state.authReducer.user.userId\r\n    return (donation.status.localeCompare(\"pending\") == 0 && donation.receiverId == userId)\r\n  }\r\n  const pendingdonordonations = (donation) => {\r\n    const userId = state.authReducer.user.userId\r\n    return (donation.status.localeCompare(\"pending\") == 0 && donation.donorId == userId)\r\n  }\r\n\r\n  return {\r\n    pendingDonorDonation: state.DiscoverReducer.Donations.filter(pendingdonordonations),\r\n    userType: state.authReducer.user.userType,\r\n    currentfilter: state.DiscoverReducer.currentfilter,\r\n    Donations: state.DiscoverReducer.Donations.filter(checkvisibilty),\r\n    pendingDonations: state.DiscoverReducer.Donations.filter(pendingdonations),\r\n    Organisations: state.DiscoverReducer.Organisations,\r\n    Events: state.DiscoverReducer.Events\r\n  };\r\n\r\n};\r\nconst mapDispatchToProps = (dispatch, getState) => ({\r\n  getOrganisation: bindActionCreators(getOrganisation,dispatch),\r\n  acceptdonation: bindActionCreators(acceptdonation,dispatch),\r\n  changeFilters: bindActionCreators(changeFilters, dispatch),\r\n  pendingDonation: bindActionCreators(pendingDonation, dispatch),\r\n  rejectDonation: bindActionCreators(rejectDonation, dispatch),\r\n  getDonation: bindActionCreators(getDonation, dispatch),\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(Discover);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivateRoute = ({ component: Component, auth, my, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            auth.isAuthenticated === true ? my === true ? <Component key=\"my\" {...props} /> :\r\n                <Component key={Math.random()} {...props} />\r\n                : (\r\n                    <Redirect to=\"/login\" />\r\n                )\r\n        }\r\n    />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"./action\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Form, Input, Button, notification, Upload, message, Radio } from 'antd';\r\nimport { MailOutlined, LockOutlined, UserOutlined, PhoneOutlined, UploadOutlined, CompassOutlined } from '@ant-design/icons';\r\nimport MapComp from \"../MapComp\";\r\nimport axios from \"axios\"\r\nimport Modal from \"antd/lib/modal/Modal\";\r\n\r\n// import \r\n\r\nconst props = {\r\n    name: 'file',\r\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n    headers: {\r\n        authorization: 'authorization-text',\r\n    },\r\n    onChange(info) {\r\n        if (info.file.status !== 'uploading') {\r\n            console.log(info.file, info.fileList);\r\n        }\r\n        if (info.file.status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully`);\r\n        } else if (info.file.status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n        }\r\n    },\r\n};\r\n\r\n\r\nclass Register extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            value: 1,\r\n            mapOpen: false,\r\n            latlng: null,\r\n            certificates: [],\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    onChange = e => {\r\n        console.log('radio checked', e.target.value);\r\n        this.setState({\r\n            value: e.target.value,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    openNotificationWithIcon = (type, message) => {\r\n        notification[type]({\r\n            message: message\r\n        });\r\n    };\r\n    onSubmit = async values => {\r\n        console.log(values)\r\n        if (values.password != values.password2)\r\n            this.openNotificationWithIcon('warning', 'Passwords are not matching')\r\n        else if (!this.state.latlng)\r\n            this.openNotificationWithIcon('warning', 'Please enter your location')\r\n        else if (values.userType == \"organisation\" && this.state.certificates.length == 0) {\r\n            this.openNotificationWithIcon('warning', 'Please upload the certificates')\r\n        }\r\n        else {\r\n            console.log(\"everythhing okay\", { ...values, location: this.state.latlng })\r\n            console.log(this.state.certificates, values.userType)\r\n            this.setState({\r\n                loading: true\r\n            })\r\n            await this.props.registerUser({ ...values, certificates: this.state.certificates, location: { type: \"Point\", coordinates: [this.state.latlng.lng, this.state.latlng.lat] } }, this.props.history);\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        }\r\n\r\n    };\r\n\r\n    saveLatLng = (latlng) => {\r\n        this.setState({\r\n            latlng: latlng\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const radioStyle = {\r\n            display: 'block',\r\n            height: '30px',\r\n            lineHeight: '30px',\r\n        };\r\n\r\n        const { errors, value } = this.state;\r\n\r\n        return (\r\n            <div style={{ paddingTop: \"20px\", height: \"100vh\", display: \"flex\", justifyContent: \"center\" }}>\r\n                <Form\r\n                    layout=\"vertical\"\r\n                    style={{\r\n                        width: \"500px\"\r\n                    }}\r\n                    onFinish={this.onSubmit}\r\n                >\r\n                    <Form.Item\r\n                        label=\"Name\"\r\n                        name=\"name\"\r\n                        rules={[{ required: true, message: 'Please input your name!' }]}\r\n                    >\r\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[{\r\n                            type: 'email',\r\n                            message: 'The input is not valid E-mail!',\r\n                        }, { required: true, message: 'Please input your email!' }]}\r\n                    >\r\n                        <Input prefix={<MailOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"Confirm Password\"\r\n                        name=\"password2\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Input placeholder=\"Location\" disabled value={this.state.latlng ? this.state.latlng.lat + \" , \" + this.state.latlng.lng : \"\"} style={{ width: 300, marginBottom: \"10px\" }} />\r\n\r\n                    <Button onClick={() => this.setState({ mapOpen: true })} icon={<CompassOutlined />} /> <br />\r\n                    <Form.Item\r\n                        label=\"Contact\"\r\n                        name=\"contact\"\r\n\r\n                        rules={[{ required: true, message: 'Please input your contact!' }]}\r\n                    >\r\n                        <Input prefix={<PhoneOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Address\"\r\n                        name=\"address\"\r\n\r\n                        rules={[{ required: true, message: 'Please input your address!' }]}\r\n                    >\r\n                        <Input.TextArea />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Description\"\r\n                        name=\"description\"\r\n\r\n                        rules={[{ required: true, message: 'Please input a brief description!' }]}\r\n                    >\r\n                        <Input.TextArea />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Choose User type\"\r\n                        name=\"userType\"\r\n\r\n                        rules={[{ required: true, message: 'Please Choose user type' }]}\r\n                    >\r\n                        <Radio.Group onChange={this.onChange} value={value}>\r\n                            <Radio style={radioStyle} value={\"donor\"}>\r\n                                Donor\r\n                            </Radio>\r\n                            <Radio style={radioStyle} value={\"organisation\"}>\r\n                                Organisation\r\n                            <br />\r\n                                {value === \"organisation\"\r\n                                    ? <div style={{ marginLeft: 25 }}>\r\n\r\n                                        <Upload multiple={false} name=\"file\" accept=\"application/pdf\"\r\n                                            customRequest={async ({ file, onSuccess, onError }) => {\r\n                                                let formData = new FormData()\r\n                                                formData.append('file', file)\r\n                                                await axios.post('/upload/certificates', formData).then(res => {\r\n                                                    this.setState({ certificates: [...this.state.certificates, res.data.location] })\r\n                                                    onSuccess(res.data)\r\n                                                }).catch(err => {\r\n                                                    console.log(\"error in uploading\");\r\n                                                    onError(\"Error in uploading. Try again\")\r\n                                                }\r\n                                                )\r\n                                            }}\r\n\r\n                                            onRemove={(file) => {\r\n                                                let removedLocation = file.response.location;\r\n                                                let newCertificates = this.state.certificates.filter(certificate => certificate != removedLocation)\r\n                                                this.setState({ certificates: newCertificates })\r\n                                            }}\r\n\r\n                                        >\r\n                                            <p>Please upload Government issued certificate for your Organisation(in pdf format)</p>\r\n                                            <Button icon={<UploadOutlined />}>Upload certificates</Button>\r\n                                        </Upload>\r\n                                    </div>\r\n                                    : null}\r\n                            </Radio>\r\n                        </Radio.Group>\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Register\r\n                        </Button>\r\n                        {\" \"}Or <Link to=\"/login\">Login now!</Link>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Modal footer={[\r\n                    <Button onClick={() => this.setState({ mapOpen: false })}>\r\n                        Return\r\n            </Button>\r\n                ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n                    <MapComp saveLatLng={this.saveLatLng} />\r\n                </Modal>\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        )\r\n\r\n    }\r\n}\r\n\r\nRegister.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer,\r\n    errors: state.authReducer.errors\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    registerUser: bindActionCreators(registerUser, dispatch)\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(withRouter(Register));\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"./action\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Form, Input, Button } from 'antd';\r\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    onSubmit = async values => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        await this.props.loginUser(values);\r\n        this.setState({\r\n            loading: false\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n\r\n        return (\r\n            <div style={{ paddingTop: \"200px\", height: \"100vh\", display: \"flex\", justifyContent: \"center\" }}>\r\n                <Form\r\n                    layout=\"vertical\"\r\n                    style={{\r\n                        width: \"500px\"\r\n                    }}\r\n                    onFinish={this.onSubmit}\r\n                >\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[{\r\n                            type: 'email',\r\n                            message: 'The input is not valid E-mail!',\r\n                        }, { required: true, message: 'Please input your email!' }]}\r\n                    >\r\n                        <Input prefix={<MailOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button loading={this.state.loading} type=\"primary\" htmlType=\"submit\">\r\n                            Log in\r\n                        </Button>\r\n                        {\" \"}Or <Link to=\"/register\">Register now!</Link>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer,\r\n    errors: state.authReducer.errors\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    loginUser: bindActionCreators(loginUser, dispatch)\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button } from \"antd\";\r\n\r\nclass Landing extends Component {\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{ height: \"100vh\" }}>\r\n\r\n                <div style={{ marginTop: \"40vh\", display: \"flex\", justifyContent: \"center\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n\r\n                    <p>WELCOME</p>\r\n                    <div style={{ display: \"flex\" }}>\r\n                        <Button type=\"primary\"><Link to=\"/login\">LOGIN</Link></Button>\r\n                        <Button style={{ marginLeft: \"8px\" }}><Link to=\"/register\">REGISTER</Link></Button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer\r\n});\r\n\r\nexport default connect(mapStateToProps)(Landing)\r\n","import React from 'react'\r\n\r\nconst ComingSoon = () => {\r\n    return (\r\n        <div style={{ height: \"100vh\", paddingTop: \"40vh\", fontSize: \"30px\", textAlign: \"center\" }}>\r\n            Coming Soon!\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ComingSoon\r\n","import React from \"react\";\r\nimport moment from 'moment';\r\nimport { Comment, Tooltip, Avatar, Image } from 'antd';\r\n\r\nfunction MessageCard({ message, currentUser, you }) {\r\n    const { sender, time, body, type } = message\r\n    return (\r\n        <div style={{ width: '100%' , paddingLeft: '10px'}}>\r\n            <Comment\r\n                author={sender === you?._id ? you.name : currentUser.name}\r\n                avatar={\r\n                    <Avatar\r\n                        src={sender === you?._id ? you.avatar : currentUser.avatar}\r\n                        alt={sender === you?._id ? you.name : currentUser.name}\r\n                    />\r\n                }\r\n                content={\r\n                    type === \"image\" ?\r\n                        <Image\r\n                            width={200}\r\n                            src={body}\r\n                            alt=\"image\"\r\n                        />\r\n                        :\r\n                        <p>\r\n                            {body}\r\n                        </p>\r\n                }\r\n                datetime={\r\n                    <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                        <span>{moment(time).fromNow()}</span>\r\n                    </Tooltip>\r\n                }\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageCard;\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport Dropzone from 'react-dropzone';\r\nimport axios from 'axios';\r\n\r\nimport { Form, Input, Button, Row, Col, Layout, List, Avatar, notification } from 'antd';\r\nimport { MessageOutlined, UploadOutlined, SendOutlined } from '@ant-design/icons';\r\nimport './styles.css'\r\n\r\nimport LoadingScreen from '../LoadingScreen';\r\nimport { getThreads, startThread, sendMessage, updateThread } from \"./actions\"\r\nimport MessageCard from \"./MessageCard\"\r\n\r\nconst { Content, Sider } = Layout;\r\n\r\nexport class Messagepage extends Component {\r\n    state = {\r\n        chatMessage: \"\",\r\n        currentThread: {},\r\n        currentUser: {},\r\n        you: {},\r\n        requiredUser: null,\r\n        loading: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n\r\n        if (this.props.location.state) {\r\n            this.setState({ requiredUser: this.props.location.state.user })\r\n        }\r\n\r\n        await this.props.getThreads();\r\n        this.setState({\r\n            loading: false\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.messagesEnd)\r\n            this.messagesEnd.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n\r\n    openNotificationWithIcon = (type, message) => {\r\n        notification[type]({\r\n            message: message\r\n        });\r\n    };\r\n\r\n    hanleSearchChange = (e) => {\r\n        this.setState({\r\n            chatMessage: e.target.value\r\n        })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const currentThreadId = this.state.currentThread?._id;\r\n        if (currentThreadId) {\r\n            const req = nextProps.threads.find(x => x._id == currentThreadId);\r\n            if (req)\r\n                this.setState({ currentThread: req })\r\n        }\r\n        else if (this.state.requiredUser) {\r\n\r\n\r\n            const req = nextProps.threads.find(thread => {\r\n                if (thread?.members.find(m => m._id == this.state.requiredUser)) {\r\n                    return true;\r\n                }\r\n\r\n                return false\r\n            })\r\n            if (req) {\r\n                const member = req.members.find(x => x._id != this.props.user.userId)\r\n                const you = req.members.find(x => x._id == this.props.user.userId)\r\n                this.setState({ currentThread: req, requiredUser: null, currentUser: member, you: you })\r\n            } else {\r\n                this.props.startThread(this.state.requiredUser)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    renderCards = () => {\r\n        return (\r\n            this.state.currentThread.messages\r\n            && this.state.currentThread.messages.map((message) => (\r\n                <MessageCard\r\n                    key={message._id}\r\n                    message={message}\r\n                    currentUser={this.state.currentUser}\r\n                    you={this.state.you}\r\n                />\r\n            )))\r\n    }\r\n\r\n    onDrop = (files) => {\r\n        console.log(files)\r\n\r\n\r\n        let formData = new FormData;\r\n\r\n        const config = {\r\n            header: { 'content-type': 'multipart/form-data' }\r\n        }\r\n\r\n        formData.append(\"file\", files[0])\r\n\r\n        axios.post('upload/messages', formData, config)\r\n            .then(res => {\r\n                if (res.data.success) {\r\n                    let chatMessage = res.data.location;\r\n                    let receiverID = this.state.currentThread?._id;\r\n                    if (receiverID) {\r\n                        this.props.sendMessage(receiverID, chatMessage, \"image\")\r\n                    } else {\r\n                        this.openNotificationWithIcon(\"warning\", \"Please select a user to send the message\")\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    submitChatMessage = (e) => {\r\n        e.preventDefault();\r\n        let chatMessage = this.state.chatMessage\r\n        let receiverID = this.state.currentThread?._id;\r\n        if (receiverID) {\r\n            this.props.sendMessage(receiverID, chatMessage, \"text\")\r\n            this.setState({ chatMessage: \"\" })\r\n        } else {\r\n            this.openNotificationWithIcon(\"warning\", \"Please select a user to send the message\")\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment >\r\n                {this.state.loading ? <LoadingScreen /> :\r\n                    <Layout style={{ paddingTop: \"64px\", paddingLeft: \"24px\" }}>\r\n                        <Layout style={{}}>\r\n\r\n                            <Sider width={300}  className=\"site-layout-background\">\r\n                                <List\r\n                                    style={{paddingLeft: \"10px\"}}\r\n                                    itemLayout=\"horizontal\"\r\n                                    dataSource={this.props.threads}\r\n                                    renderItem={item => {\r\n                                        const member = item.members.find(x => x._id != this.props.user.userId)\r\n                                        const you = item.members.find(x => x._id == this.props.user.userId)\r\n                                        return (\r\n                                            <List.Item key={item._id} onClick={() => this.setState({ currentThread: item, currentUser: member, you: you })}>\r\n                                                <List.Item.Meta\r\n                                                    avatar={<Avatar src={member.avatar} />}\r\n                                                    title={member.name}\r\n                                                    description={item.messages.length ? item.messages[item.messages.length - 1].type == \"text\" ? item.messages[item.messages.length - 1].body : \"Image\" : \"\"}\r\n                                                //OR LAST MESSAGE\r\n                                                />\r\n                                            </List.Item>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Sider>\r\n                            <Layout style={{ padding: \"0 24px 24px\" }}>\r\n                                <Content\r\n                                    style={{\r\n                                        //padding: 24,\r\n                                        margin: 0,\r\n                                    }}\r\n                                >\r\n                                    <div class=\"site-layout-background\" style={{ paddingLeft: '0px', maxWidth: '860px' }}>\r\n                                        <div className=\"infinite-container\" style={{ height: '570px', overflowY: 'scroll' }}>\r\n                                            {this.state.currentThread && (\r\n                                                this.renderCards()\r\n                                            )}\r\n                                            <div\r\n                                                ref={el => {\r\n                                                    this.messagesEnd = el;\r\n                                                }}\r\n                                                style={{ float: \"left\", clear: \"both\", paddingLeft: '30px' }}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <Row gutter={12}>\r\n                                            <Form style={{ width: \"100%\", marginTop: \"10px\", marginBottom: '12px', marginLeft: '10px' }} layout=\"inline\" onSubmit={this.submitChatMessage}>\r\n                                                <Col span={18}>\r\n                                                    <Input\r\n                                                        id=\"message\"\r\n                                                        prefix={<MessageOutlined />\r\n                                                            // <Icon type=\"message\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n                                                        }\r\n                                                        placeholder=\"Let's start talking\"\r\n                                                        type=\"text\"\r\n                                                        value={this.state.chatMessage}\r\n                                                        onChange={this.hanleSearchChange}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={2}>\r\n                                                    <Dropzone onDrop={this.onDrop}>\r\n                                                        {({ getRootProps, getInputProps }) => (\r\n                                                            <section>\r\n                                                                <div {...getRootProps()}>\r\n                                                                    <input {...getInputProps()} />\r\n                                                                    <Button  style={{ width: '100%' }}>\r\n                                                                        <UploadOutlined />\r\n                                                                    </Button>\r\n                                                                </div>\r\n                                                            </section>\r\n                                                        )}\r\n                                                    </Dropzone>\r\n                                                </Col>\r\n\r\n                                                <Col span={3}>\r\n                                                    <Button type=\"primary\" style={{ width: '100%' }} onClick={this.submitChatMessage} htmlType=\"submit\">\r\n                                                        {/* <Icon type=\"enter\" /> */}\r\n                                                        <SendOutlined />\r\n                                                    </Button>\r\n                                                </Col>\r\n                                            </Form>\r\n                                        </Row>\r\n                                    </div>\r\n                                </Content>\r\n                            </Layout>\r\n                        </Layout>\r\n                    </Layout>\r\n                }\r\n\r\n\r\n\r\n            </React.Fragment >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        threads: state.messageReducer.threads,\r\n        user: state.authReducer.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    getThreads: bindActionCreators(getThreads, dispatch),\r\n    startThread: bindActionCreators(startThread, dispatch),\r\n    sendMessage: bindActionCreators(sendMessage, dispatch),\r\n    updateThread: bindActionCreators(updateThread, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Messagepage);\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Switch as RouterSwitch } from \"react-router-dom\";\r\nimport 'antd/dist/antd.css';\r\n\r\n//IMPORT COMPONENTS\r\nimport Home from \"./components/Home\";\r\nimport Navbar from './components/Navbar';\r\nimport Profile from './components/Profile';\r\nimport Discover from './components/Discover';\r\nimport { Layout, Button, notification } from 'antd';\r\nimport { useThemeSwitcher } from 'react-css-theme-switcher';\r\n\r\nimport { FireFilled } from \"@ant-design/icons\"\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\"\r\n\r\nimport PrivateRoute from \"./components/Auth/PrivateRoute\"\r\n\r\nimport Register from \"./components/Auth/Register\"\r\nimport Login from \"./components/Auth/Login\"\r\nimport Landing from \"./components/Landing\"\r\n\r\nimport { setCurrentUser, logoutUser, clearErrors } from './components/Auth/action';\r\nimport { store } from \"./store\"\r\nimport ComingSoon from './components/ComingSoon';\r\nimport Messages from './components/messages';\r\nimport { startConnection } from './utils/common';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\n\r\n\r\n// Check for token to keep user logged in\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(token);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n  console.log(\"the main guyYYY\")\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000; // to get in milliseconds\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n\r\n    // Redirect to login\r\n    window.location.href = \"./login\";\r\n  }\r\n\r\n\r\n  //START SOCKET HERE..................\r\n\r\n  startConnection()\r\n\r\n\r\n}\r\n\r\nconst App = (props) => {\r\n\r\n  const [isDarkMode, setIsDarkMode] = React.useState();\r\n  const { switcher, status, themes } = useThemeSwitcher();\r\n\r\n  const toggleTheme = (isChecked) => {\r\n    setIsDarkMode(isChecked);\r\n    switcher({ theme: isChecked ? themes.dark : themes.light });\r\n  };\r\n\r\n  const openNotificationWithIcon = (type, message) => {\r\n    notification[type]({\r\n      message: message\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.errors?.message) {\r\n      openNotificationWithIcon(\"error\", props.errors.message)\r\n      props.clearErrors()\r\n    }\r\n  }, [props.errors])\r\n\r\n\r\n  // Avoid theme change flicker\r\n  if (status === \"loading\") {\r\n    return null;\r\n  }\r\n\r\n\r\n  return (\r\n    <Layout>\r\n      <Navbar />\r\n\r\n      <RouterSwitch>\r\n        <Route exact path='/' component={Landing} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n\r\n        <RouterSwitch>\r\n          <PrivateRoute exact path='/home' component={Home} />\r\n          <PrivateRoute exact path='/i/profile/:id' component={Profile} my={true} />\r\n          <PrivateRoute exact path='/profile/:id' component={Profile} />\r\n          <PrivateRoute exact path=\"/discover\" component={Discover} />\r\n          <PrivateRoute exact path=\"/messages\" component={Messages} />\r\n          <Route path=\"/\" component={ComingSoon} />\r\n        </RouterSwitch>\r\n        {/* <Route path='/discover' component={Discover} /> */}\r\n        {/*Put remaining routes here*/}\r\n      </RouterSwitch>\r\n\r\n      <Button shape=\"circle\" size=\"large\" icon={\r\n        // <FireTwoTone twoToneColor={isDarkMode?\"yellow\":\"black\"} \r\n        <FireFilled style={isDarkMode ? { \"color\": \"#F0C315\" } : { \"color\": \"#444\" }} />} style={{ \"position\": \"fixed\", \"right\": \"16px\", \"bottom\": \"16px\" }} onClick={() => toggleTheme(!isDarkMode)}></Button>\r\n\r\n    </Layout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  errors: state.authReducer.errors\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearErrors: bindActionCreators(clearErrors, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { store, persistor } from \"./store\"\r\n\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nimport { ThemeSwitcherProvider } from \"react-css-theme-switcher\";\r\n\r\nconst themes = {\r\n  dark: `${process.env.PUBLIC_URL}/dark-theme.css`,\r\n  light: `${process.env.PUBLIC_URL}/light-theme.css`,\r\n};\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <PersistGate persistor={persistor}>\r\n        {/* <React.StrictMode> */}\r\n        <ThemeSwitcherProvider themeMap={themes} defaultTheme=\"light\">\r\n          <App />\r\n        </ThemeSwitcherProvider>\r\n        {/* </React.StrictMode> */}\r\n      </PersistGate>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}